<!-- doc/src/sgml/release-9.4.sgml -->
<!-- See header comment in release.sgml about typical markup -->
 <sect1 id="release-9-4-15">
<!--==========================orignal english content==========================
  <title>Release 9.4.15</title>
____________________________________________________________________________-->
  <title>版本 9.4.15</title>

  <formalpara>
<!--==========================orignal english content==========================
  <title>Release date:</title>
____________________________________________________________________________-->
  <title>发布日期:</title>
<!--==========================orignal english content==========================
  <para>2017-11-09</para>
____________________________________________________________________________-->
  <para>2017-11-09</para>
  </formalpara>

<!--==========================orignal english content==========================
  <para>
   This release contains a variety of fixes from 9.4.14.
   For information about new features in the 9.4 major release, see
   <xref linkend="release-9-4">.
  </para>
____________________________________________________________________________-->
  <para>
   这个版本包含来自9.4.14的各种修补程序。关于9.4主版本的新特性信息，
   请查阅<xref linkend="release-9-4">。
  </para>
  <sect2>
<!--==========================orignal english content==========================
   <title>Migration to Version 9.4.15</title>
____________________________________________________________________________-->
   <title>迁移到版本 9.4.15</title>

<!--==========================orignal english content==========================
   <para>
    A dump/restore is not required for those running 9.4.X.
   </para>
____________________________________________________________________________-->
   <para>
    运行 9.4.X 的用户不需要转储/恢复。
   </para>
<!--==========================orignal english content==========================
   <para>
    However, if you are upgrading from a version earlier than 9.4.13,
    see <xref linkend="release-9-4-13">.
   </para>
____________________________________________________________________________-->
   <para>
    不过，如果您是从9.4.13之前的版本升级，请查阅<xref linkend="release-9-4-13">。
   </para>
   </sect2>

  <sect2>
<!--==========================orignal english content==========================
   <title>Changes</title>
____________________________________________________________________________-->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix crash due to rowtype mismatch
      in <function>json{b}_populate_recordset()</function>
      (Michael Paquier, Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复由于<function>json{b}_populate_recordset()</function>
	  中的行类型错误匹配引起的崩溃问题
      (Michael Paquier, Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      These functions used the result rowtype specified in the <literal>FROM
      ... AS</literal> clause without checking that it matched the actual
      rowtype of the supplied tuple value.  If it didn't, that would usually
      result in a crash, though disclosure of server memory contents seems
      possible as well.
      (CVE-2017-15098)
     </para>
____________________________________________________________________________-->
     <para>
      这些函数使用在<literal>FROM ... AS</literal>子句中指定的结果行类型，
	  而不检查它是否与提供的元组值的实际行类型相匹配。如果没有，那通常会导致崩溃，
	  尽管服务器内存内容的披露似乎也是可能的。
      (CVE-2017-15098)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix sample server-start scripts to become <literal>$PGUSER</literal>
      before opening <literal>$PGLOG</literal> (Noah Misch)
     </para>
____________________________________________________________________________-->
     <para>
      在打开<literal>$PGLOG</literal>之前，
	  修复示例服务器启动脚本成为<literal>$PGUSER</literal> (Noah Misch)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, the postmaster log file was opened while still running as
      root.  The database owner could therefore mount an attack against
      another system user by making <literal>$PGLOG</literal> be a symbolic
      link to some other file, which would then become corrupted by appending
      log messages.
     </para>
____________________________________________________________________________-->
     <para>
      以前，postmaster日志文件是以root用户身份运行时打开的。因此，
	  数据库所有者可以通过将<literal>$PGLOG</literal>
	  作为其他文件的符号链接来挂载针对另一个系统用户的攻击，
	  然后通过追加日志消息将其损坏。
     </para>

<!--==========================orignal english content==========================
     <para>
      By default, these scripts are not installed anywhere.  Users who have
      made use of them will need to manually recopy them, or apply the same
      changes to their modified versions.  If the
      existing <literal>$PGLOG</literal> file is root-owned, it will need to
      be removed or renamed out of the way before restarting the server with
      the corrected script.
      (CVE-2017-12172)
     </para>
____________________________________________________________________________-->
     <para>
      默认情况下，这些脚本不安装在任何地方。已经使用它们的用户需要手动重新复制它们，
	  或者对其修改后的版本应用相同的更改。如果现有的<literal>$PGLOG</literal>
	  文件是root拥有的，那么在使用更正的脚本重新启动服务器之前，需要将其删除或重命名。
      (CVE-2017-12172)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix crash when logical decoding is invoked from a SPI-using function,
      in particular any function written in a PL language
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复从SPI使用函数调用逻辑解码时崩溃，特别是用PL语言编写的任何函数
      (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <function>json_build_array()</function>,
      <function>json_build_object()</function>, and their <type>jsonb</type>
      equivalents to handle explicit <literal>VARIADIC</literal> arguments
      correctly (Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      修复<function>json_build_array()</function>、
      <function>json_build_object()</function>和它们的<type>jsonb</type>
      等效函数以正确的处理显式的<literal>VARIADIC</literal>参数
      (Michael Paquier)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Properly reject attempts to convert infinite float values to
      type <type>numeric</type> (Tom Lane, KaiGai Kohei)
     </para>
____________________________________________________________________________-->
     <para>
      正确拒绝尝试将无限浮点值转换为<type>numeric</type>类型
	  (Tom Lane, KaiGai Kohei)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously the behavior was platform-dependent.
     </para>
____________________________________________________________________________-->
     <para>
      以前的行为是依赖于平台的。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix corner-case crashes when columns have been added to the end of a
      view (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复列已经添加到视图末尾时极端情况下的崩溃 (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Record proper dependencies when a view or rule
      contains <structname>FieldSelect</structname>
      or <structname>FieldStore</structname> expression nodes (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      当视图或规则包含<structname>FieldSelect</structname>
	  或<structname>FieldStore</structname>表达式节点时记录适当的依赖关系
	  (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Lack of these dependencies could allow a column or data
      type <command>DROP</command> to go through when it ought to fail,
      thereby causing later uses of the view or rule to get errors.
      This patch does not do anything to protect existing views/rules,
      only ones created in the future.
     </para>
____________________________________________________________________________-->
     <para>
      缺少这些依赖关系可能允许<command>DROP</command>列或数据类型在应该失败时通过，
	  从而导致稍后使用视图或规则时得到错误。此修补程序不会保护现有视图/规则，
	  只保护未来创建的那些。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Correctly detect hashability of range data types (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      正确检测范围数据类型的可散列性 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      The planner mistakenly assumed that any range type could be hashed
      for use in hash joins or hash aggregation, but actually it must check
      whether the range's subtype has hash support.  This does not affect any
      of the built-in range types, since they're all hashable anyway.
     </para>
____________________________________________________________________________-->
     <para>
      规划器错误地认为任何范围类型都可以散列用于散列连接或散列聚合，
	  但实际上它必须检查范围的子类型是否具有散列支持。这不会影响任何内置的范围类型，
	  因为它们无论如何都是可散列的。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix low-probability loss of <command>NOTIFY</command> messages due to
      XID wraparound (Marko Tiikkaja, Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复由于XID环绕引起的<command>NOTIFY</command>消息的低概率丢失 (Marko Tiikkaja, Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      If a session executed no queries, but merely listened for
      notifications, for more than 2 billion transactions, it started to miss
      some notifications from concurrently-committing transactions.
     </para>
____________________________________________________________________________-->
     <para>
      如果一个会话没有执行任何查询，而仅仅是听取了通知，对于超过20亿次事务，
	  它开始错过来自并发提交事务的一些通知。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid <systemitem>SIGBUS</systemitem> crash on Linux when a DSM memory
      request exceeds the space available in <systemitem>tmpfs</systemitem>
      (Thomas Munro)
     </para>
____________________________________________________________________________-->
     <para>
      当DSM内存请求超出<systemitem>tmpfs</systemitem>中可用的空间时，
	  避免在Linux上发生<systemitem>SIGBUS</systemitem>崩溃
      (Thomas Munro)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Prevent low-probability crash in processing of nested trigger firings
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      防止处理嵌套触发器时出现低概率崩溃
      (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Allow <command>COPY</command>'s <literal>FREEZE</literal> option to
      work when the transaction isolation level is <literal>REPEATABLE
      READ</literal> or higher (Noah Misch)
     </para>
____________________________________________________________________________-->
     <para>
      当事务隔离级别是<literal>REPEATABLE READ</literal>或更高时，
	  允许<command>COPY</command>的<literal>FREEZE</literal>选项工作
	  (Noah Misch)
     </para>

<!--==========================orignal english content==========================
     <para>
      This case was unintentionally broken by a previous bug fix.
     </para>
____________________________________________________________________________-->
     <para>
      这种情况被前面的错误修复无意中破坏了。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Correctly restore the umask setting when file creation fails
      in <command>COPY</command> or <function>lo_export()</function>
      (Peter Eisentraut)
     </para>
____________________________________________________________________________-->
     <para>
      在<command>COPY</command>或<function>lo_export()</function>
	  中创建文件失败时正确恢复umask设置
	  (Peter Eisentraut)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Give a better error message for duplicate column names
      in <command>ANALYZE</command> (Nathan Bossart)
     </para>
____________________________________________________________________________-->
     <para>
      在<command>ANALYZE</command>中为重复的列名提供更好的错误消息
	  (Nathan Bossart)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix mis-parsing of the last line in a
      non-newline-terminated <filename>pg_hba.conf</filename> file
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复在非换行符终止的<filename>pg_hba.conf</filename>
	  文件中最后一行的错误解析
      (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>libpq</application> to not require user's home
      directory to exist (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>libpq</application>不要求用户的主目录存在 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      In v10, failure to find the home directory while trying to
      read <filename>~/.pgpass</filename> was treated as a hard error,
      but it should just cause that file to not be found.  Both v10 and
      previous release branches made the same mistake when
      reading <filename>~/.pg_service.conf</filename>, though this was less
      obvious since that file is not sought unless a service name is
      specified.
     </para>
____________________________________________________________________________-->
     <para>
      在v10中，尝试读取<filename>~/.pgpass</filename>时未能找到主目录被视为硬错误，
	  但应该只是导致找不到该文件。当读取<filename>~/.pg_service.conf</filename>时，
	  v10和以前的版本分支都犯了同样的错误，但这并不明显，因为除非指定了服务名称，
	  否则不会找到该文件。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>libpq</application> to guard against integer
      overflow in the row count of a <structname>PGresult</structname>
      (Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>libpq</application>来防止<structname>PGresult</structname>
	  的行数中的整数溢出 (Michael Paquier)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>ecpg</application>'s handling of out-of-scope cursor
      declarations with pointer or array variables (Michael Meskes)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>ecpg</application>
	  用指针或数组变量处理超出范围的游标声明 (Michael Meskes)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      In ecpglib, correctly handle backslashes in string literals depending
      on whether <varname>standard_conforming_strings</varname> is set
      (Tsunakawa Takayuki)
     </para>
____________________________________________________________________________-->
     <para>
      在ecpglib中，根据是否设置了<varname>standard_conforming_strings</varname>，
	  正确处理字符串文字中的反斜杠
      (Tsunakawa Takayuki)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Make ecpglib's Informix-compatibility mode ignore fractional digits in
      integer input strings, as expected (Gao Zengqi, Michael Meskes)
     </para>
____________________________________________________________________________-->
     <para>
      按照预期，使ecpglib的Informix兼容性模式忽略整数输入字符串中的小数位数
	  (Gao Zengqi, Michael Meskes)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Sync our copy of the timezone library with IANA release tzcode2017c
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      将我们的时区库副本与IANA发行版tzcode2017c同步
      (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This fixes various issues; the only one likely to be user-visible
      is that the default DST rules for a POSIX-style zone name, if
      no <filename>posixrules</filename> file exists in the timezone data
      directory, now match current US law rather than what it was a dozen
      years ago.
     </para>
____________________________________________________________________________-->
     <para>
      这解决了各种问题；唯一可能是用户可见的是，
	  如果时区数据目录中没有<filename>posixrules</filename>文件，
	  则POSIX样式的区域名称的默认DST规则现在与当前的美国法律相符，
	  而不是与十几年前的相符。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Update time zone data files to <application>tzdata</application>
      release 2017c for DST law changes in Fiji, Namibia, Northern Cyprus,
      Sudan, Tonga, and Turks &amp; Caicos Islands, plus historical
      corrections for Alaska, Apia, Burma, Calcutta, Detroit, Ireland,
      Namibia, and Pago Pago.
     </para>
____________________________________________________________________________-->
     <para>
      将时区数据文件更新为<application>tzdata</application>版本2017c，
	  用于斐济、纳米比亚、北塞浦路斯、苏丹、汤加和土耳其 &amp; 凯科斯群岛的DST法律变更，
	  加上阿拉斯加、阿皮亚、缅甸、加尔各答、底特律、爱尔兰、
	  纳米比亚和帕果帕果的历史更正。
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-9-4-14">
<!--==========================orignal english content==========================
  <title>Release 9.4.14</title>
____________________________________________________________________________-->
  <title>版本 9.4.14</title>

  <formalpara>
<!--==========================orignal english content==========================
  <title>Release date:</title>
____________________________________________________________________________-->
  <title>发布日期:</title>
<!--==========================orignal english content==========================
  <para>2017-08-31</para>
____________________________________________________________________________-->
  <para>2017-08-31</para>
  </formalpara>

<!--==========================orignal english content==========================
  <para>
   This release contains a small number of fixes from 9.4.13.
   For information about new features in the 9.4 major release, see
   <xref linkend="release-9-4">.
  </para>
____________________________________________________________________________-->
  <para>
   此版本包含9.4.13中的少量修复程序。
   有关9.4主要版本中的新功能的信息，请查看
   <xref linkend="release-9-4">。
  </para>

  <sect2>
<!--==========================orignal english content==========================
   <title>Migration to Version 9.4.14</title>
____________________________________________________________________________-->
   <title>迁移到版本 9.4.14</title>

<!--==========================orignal english content==========================
   <para>
    A dump/restore is not required for those running 9.4.X.
   </para>
____________________________________________________________________________-->
   <para>
    运行9.4.X的用户不需要转储/恢复。
   </para>

<!--==========================orignal english content==========================
   <para>
    However, if you are upgrading from a version earlier than 9.4.13,
    see <xref linkend="release-9-4-13">.
   </para>
____________________________________________________________________________-->
   <para>
    但是，如果您从早于9.4.13的版本进行升级，
	请查看<xref linkend="release-9-4-13">。
   </para>
  </sect2>

  <sect2>
<!--==========================orignal english content==========================
   <title>Changes</title>
____________________________________________________________________________-->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
<!--
Author: Andres Freund <andres@anarazel.de>
Branch: REL9_4_STABLE [b51c8efc6] 2017-08-24 15:21:32 -0700
-->
<!--==========================orignal english content==========================
     <para>
      Fix failure of walsender processes to respond to shutdown signals
      (Marco Nenciarini)
     </para>
____________________________________________________________________________-->
     <para>
      修复walsender进程响应关闭信号的失败
      (Marco Nenciarini)
     </para>

<!--==========================orignal english content==========================
     <para>
      A missed flag update resulted in walsenders continuing to run as long
      as they had a standby server connected, preventing primary-server
      shutdown unless immediate shutdown mode is used.
     </para>
____________________________________________________________________________-->
     <para>
      错过的标志更新导致walsenders在连接了备用服务器的情况下继续运行，
	  阻止主服务器关闭，除非使用立即关闭模式。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Show foreign tables
      in <structname>information_schema</structname>.<structname>table_privileges</structname>
      view (Peter Eisentraut)
     </para>
____________________________________________________________________________-->
     <para>
      在<structname>information_schema</structname>.<structname>table_privileges</structname>
      视图中显示外部表 (Peter Eisentraut)
     </para>

<!--==========================orignal english content==========================
     <para>
      All other relevant <structname>information_schema</structname> views include
      foreign tables, but this one ignored them.
     </para>
____________________________________________________________________________-->
     <para>
      所有其他相关的<structname>information_schema</structname>视图都包含外部表，
	  但是这个视图忽略了它们。
     </para>

<!--==========================orignal english content==========================
     <para>
      Since this view definition is installed by <application>initdb</application>,
      merely upgrading will not fix the problem.  If you need to fix this
      in an existing installation, you can, as a superuser, do this
      in <application>psql</application>:
<programlisting>
SET search_path TO information_schema;
CREATE OR REPLACE VIEW table_privileges AS
    SELECT CAST(u_grantor.rolname AS sql_identifier) AS grantor,
           CAST(grantee.rolname AS sql_identifier) AS grantee,
           CAST(current_database() AS sql_identifier) AS table_catalog,
           CAST(nc.nspname AS sql_identifier) AS table_schema,
           CAST(c.relname AS sql_identifier) AS table_name,
           CAST(c.prtype AS character_data) AS privilege_type,
           CAST(
             CASE WHEN
                  -&minus; object owner always has grant options
                  pg_has_role(grantee.oid, c.relowner, 'USAGE')
                  OR c.grantable
                  THEN 'YES' ELSE 'NO' END AS yes_or_no) AS is_grantable,
           CAST(CASE WHEN c.prtype = 'SELECT' THEN 'YES' ELSE 'NO' END AS yes_or_no) AS with_hierarchy

    FROM (
            SELECT oid, relname, relnamespace, relkind, relowner, (aclexplode(coalesce(relacl, acldefault('r', relowner)))).* FROM pg_class
         ) AS c (oid, relname, relnamespace, relkind, relowner, grantor, grantee, prtype, grantable),
         pg_namespace nc,
         pg_authid u_grantor,
         (
           SELECT oid, rolname FROM pg_authid
           UNION ALL
           SELECT 0::oid, 'PUBLIC'
         ) AS grantee (oid, rolname)

    WHERE c.relnamespace = nc.oid
          AND c.relkind IN ('r', 'v', 'f')
          AND c.grantee = grantee.oid
          AND c.grantor = u_grantor.oid
          AND c.prtype IN ('INSERT', 'SELECT', 'UPDATE', 'DELETE', 'TRUNCATE', 'REFERENCES', 'TRIGGER')
          AND (pg_has_role(u_grantor.oid, 'USAGE')
               OR pg_has_role(grantee.oid, 'USAGE')
               OR grantee.rolname = 'PUBLIC');
</programlisting>
      This must be repeated in each database to be fixed,
      including <literal>template0</literal>.
     </para>
____________________________________________________________________________-->
     <para>
      由于这个视图定义是由<application>initdb</application>安装的，
	  所以升级不会解决问题。如果您需要在现有安装中修复此问题，
	  则可以作为超级用户在<application>psql</application>中执行此操作：
<programlisting>
SET search_path TO information_schema;
CREATE OR REPLACE VIEW table_privileges AS
    SELECT CAST(u_grantor.rolname AS sql_identifier) AS grantor,
           CAST(grantee.rolname AS sql_identifier) AS grantee,
           CAST(current_database() AS sql_identifier) AS table_catalog,
           CAST(nc.nspname AS sql_identifier) AS table_schema,
           CAST(c.relname AS sql_identifier) AS table_name,
           CAST(c.prtype AS character_data) AS privilege_type,
           CAST(
             CASE WHEN
                  -- object owner always has grant options
                  pg_has_role(grantee.oid, c.relowner, 'USAGE')
                  OR c.grantable
                  THEN 'YES' ELSE 'NO' END AS yes_or_no) AS is_grantable,
           CAST(CASE WHEN c.prtype = 'SELECT' THEN 'YES' ELSE 'NO' END AS yes_or_no) AS with_hierarchy

    FROM (
            SELECT oid, relname, relnamespace, relkind, relowner, (aclexplode(coalesce(relacl, acldefault('r', relowner)))).* FROM pg_class
         ) AS c (oid, relname, relnamespace, relkind, relowner, grantor, grantee, prtype, grantable),
         pg_namespace nc,
         pg_authid u_grantor,
         (
           SELECT oid, rolname FROM pg_authid
           UNION ALL
           SELECT 0::oid, 'PUBLIC'
         ) AS grantee (oid, rolname)

    WHERE c.relnamespace = nc.oid
          AND c.relkind IN ('r', 'v', 'f')
          AND c.grantee = grantee.oid
          AND c.grantor = u_grantor.oid
          AND c.prtype IN ('INSERT', 'SELECT', 'UPDATE', 'DELETE', 'TRUNCATE', 'REFERENCES', 'TRIGGER')
          AND (pg_has_role(u_grantor.oid, 'USAGE')
               OR pg_has_role(grantee.oid, 'USAGE')
               OR grantee.rolname = 'PUBLIC');
</programlisting>
      这必须在每个要修复的数据库中重复，包括<literal>template0</literal>。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Clean up handling of a fatal exit (e.g., due to receipt
      of <systemitem>SIGTERM</systemitem>) that occurs while trying to execute
      a <command>ROLLBACK</command> of a failed transaction (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      清除在尝试执行失败事务的<command>ROLLBACK</command>时发生的致命退出
	  （例如，由于收到<systemitem>SIGTERM</systemitem>） (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This situation could result in an assertion failure.  In production
      builds, the exit would still occur, but it would log an unexpected
      message about <quote>cannot drop active portal</quote>.
     </para>
____________________________________________________________________________-->
     <para>
      这种情况可能导致断言失败。在生产构建中，退出仍然会发生，
	  但它会记录一条有关<quote>cannot drop active portal</quote>的意外消息。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Remove assertion that could trigger during a fatal exit (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      删除可能在致命退出期间触发的断言 (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Correctly identify columns that are of a range type or domain type over
      a composite type or domain type being searched for (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      根据要搜索的复合类型或域类型正确识别范围类型或域类型的列 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Certain <command>ALTER</command> commands that change the definition of a
      composite type or domain type are supposed to fail if there are any
      stored values of that type in the database, because they lack the
      infrastructure needed to update or check such values.  Previously,
      these checks could miss relevant values that are wrapped inside range
      types or sub-domains, possibly allowing the database to become
      inconsistent.
     </para>
____________________________________________________________________________-->
     <para>
      如果在数据库中存储了该类型的任何存储值，那么更改组合类型或域类型的定义的某些
	  <command>ALTER</command>命令应该失败，因为它们缺少更新或检查此类值所需的基础结构。
	  以前，这些检查可能会遗漏包含在范围类型或子域内的相关值，可能会导致数据库变得不一致。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix crash in <application>pg_restore</application> when using parallel mode and
      using a list file to select a subset of items to restore
      (Fabr&iacute;zio de Royes Mello)
     </para>
____________________________________________________________________________-->
     <para>
      在使用并行模式并使用列表文件选择要恢复的项目子集时，
	  修复<application>pg_restore</application>中的崩溃
      (Fabr&iacute;zio de Royes Mello)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Change <application>ecpg</application>'s parser to allow <literal>RETURNING</literal>
      clauses without attached C variables (Michael Meskes)
     </para>
____________________________________________________________________________-->
     <para>
      将<application>ecpg</application>的解析器更改为允许<literal>RETURNING</literal>子句，
	  而不附加C变量 (Michael Meskes)
     </para>

<!--==========================orignal english content==========================
     <para>
      This allows <application>ecpg</application> programs to contain SQL constructs
      that use <literal>RETURNING</literal> internally (for example, inside a CTE)
      rather than using it to define values to be returned to the client.
     </para>
____________________________________________________________________________-->
     <para>
      这允许<application>ecpg</application>程序包含内部使用<literal>RETURNING</literal>
	  的SQL构造（例如，在CTE内部），而不是使用它来定义要返回给客户端的值。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Improve selection of compiler flags for PL/Perl on Windows (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      在Windows上改进PL/Perl编译器标志的选择 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This fix avoids possible crashes of PL/Perl due to inconsistent
      assumptions about the width of <type>time_t</type> values.
      A side-effect that may be visible to extension developers is
      that <literal>_USE_32BIT_TIME_T</literal> is no longer defined globally
      in <productname>PostgreSQL</productname> Windows builds.  This is not expected
      to cause problems, because type <type>time_t</type> is not used
      in any <productname>PostgreSQL</productname> API definitions.
     </para>
____________________________________________________________________________-->
     <para>
      此修复可避免由于对<type>time_t</type>值的宽度假设不一致而导致PL/Perl的可能崩溃。
	  扩展开发人员可能会看到的一个副作用是，在<productname>PostgreSQL</productname> Windows
	  版本中不再全局定义<literal>_USE_32BIT_TIME_T</literal>。这不会引起问题，
	  因为在<productname>PostgreSQL</productname> API定义中不使用<type>time_t</type>类型。
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-9-4-13">
<!--==========================orignal english content==========================
  <title>Release 9.4.13</title>
____________________________________________________________________________-->
  <title>版本 9.4.13</title>

  <formalpara>
<!--==========================orignal english content==========================
  <title>Release date:</title>
____________________________________________________________________________-->
  <title>发布日期:</title>
<!--==========================orignal english content==========================
  <para>2017-08-10</para>
____________________________________________________________________________-->
  <para>2017-08-10</para>
  </formalpara>

<!--==========================orignal english content==========================
  <para>
   This release contains a variety of fixes from 9.4.12.
   For information about new features in the 9.4 major release, see
   <xref linkend="release-9-4">.
  </para>
____________________________________________________________________________-->
  <para>
   此版本包含来自9.4.12的各种修补程序。
   关于9.4主版本中的新特性信息，请查看
   <xref linkend="release-9-4">。
  </para>

  <sect2>
<!--==========================orignal english content==========================
   <title>Migration to Version 9.4.13</title>
____________________________________________________________________________-->
   <title>迁移到版本 9.4.13</title>

<!--==========================orignal english content==========================
   <para>
    A dump/restore is not required for those running 9.4.X.
   </para>
____________________________________________________________________________-->
   <para>
    运行9.4.X的用户不需要转储/恢复。
   </para>

<!--==========================orignal english content==========================
   <para>
    However, if you use foreign data servers that make use of user
    passwords for authentication, see the first changelog entry below.
   </para>
____________________________________________________________________________-->
   <para>
    但是，如果您使用使用用户密码进行身份验证的外部数据服务器，
	请参阅下面的第一个更改日志条目。
   </para>

<!--==========================orignal english content==========================
  <para>
    Also, if you are upgrading from a version earlier than 9.4.12,
    see <xref linkend="release-9-4-12">.
   </para>
____________________________________________________________________________-->
  <para>
    另外，如果您从早于9.4.12的版本进行升级，
    请查看<xref linkend="release-9-4-12">。
   </para>
  </sect2>

  <sect2>
<!--==========================orignal english content==========================
   <title>Changes</title>
____________________________________________________________________________-->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Further restrict visibility
      of <structname>pg_user_mappings</structname>.<structfield>umoptions</structfield>, to
      protect passwords stored as user mapping options
      (Noah Misch)
     </para>
____________________________________________________________________________-->
     <para>
      进一步限制<structname>pg_user_mappings</structname>.<structfield>umoptions</structfield>
	  的可见性，以保护存储为用户映射选项的密码 (Noah Misch)
     </para>

<!--==========================orignal english content==========================
     <para>
      The fix for CVE-2017-7486 was incorrect: it allowed a user
      to see the options in her own user mapping, even if she did not
      have <literal>USAGE</literal> permission on the associated foreign server.
      Such options might include a password that had been provided by the
      server owner rather than the user herself.
      Since <structname>information_schema.user_mapping_options</structname> does not
      show the options in such cases, <structname>pg_user_mappings</structname>
      should not either.
      (CVE-2017-7547)
     </para>
____________________________________________________________________________-->
     <para>
      CVE-2017-7486的修补程序不正确：它允许用户在自己的用户映射中查看选项，
	  即使她在关联的外部服务器上没有<literal>USAGE</literal>权限也是如此。
	  这些选项可能包括服务器所有者提供的密码，而不是用户自己提供的密码。
	  由于<structname>information_schema.user_mapping_options</structname>
	  在这种情况下不显示选项，所以<structname>pg_user_mappings</structname>也不应该。
      (CVE-2017-7547)
     </para>

<!--==========================orignal english content==========================
     <para>
      By itself, this patch will only fix the behavior in newly initdb'd
      databases.  If you wish to apply this change in an existing database,
      you will need to do the following:
     </para>
____________________________________________________________________________-->
     <para>
      就其本身而言，该修补程序将仅修复新initdb的数据库中的行为。
	  如果您希望在现有数据库中应用此更改，则需要执行以下操作：
     </para>

     <procedure>
      <step>
<!--==========================orignal english content==========================
       <para>
        Restart the postmaster after adding <literal>allow_system_table_mods
        = true</literal> to <filename>postgresql.conf</filename>.  (In versions
        supporting <command>ALTER SYSTEM</command>, you can use that to make the
        configuration change, but you'll still need a restart.)
       </para>
____________________________________________________________________________-->
       <para>
        在将<literal>allow_system_table_mods = true</literal>添加到
		<filename>postgresql.conf</filename>之后重启postmaster。
		（在支持<command>ALTER SYSTEM</command>的版本中，可以使用它使配置更改，
		但是仍然需要重启。）
       </para>
      </step>

      <step>
<!--==========================orignal english content==========================
       <para>
        In <emphasis>each</emphasis> database of the cluster,
        run the following commands as superuser:
<programlisting>
SET search_path = pg_catalog;
CREATE OR REPLACE VIEW pg_user_mappings AS
    SELECT
        U.oid       AS umid,
        S.oid       AS srvid,
        S.srvname   AS srvname,
        U.umuser    AS umuser,
        CASE WHEN U.umuser = 0 THEN
            'public'
        ELSE
            A.rolname
        END AS usename,
        CASE WHEN (U.umuser &lt;&gt; 0 AND A.rolname = current_user
                     AND (pg_has_role(S.srvowner, 'USAGE')
                          OR has_server_privilege(S.oid, 'USAGE')))
                    OR (U.umuser = 0 AND pg_has_role(S.srvowner, 'USAGE'))
                    OR (SELECT rolsuper FROM pg_authid WHERE rolname = current_user)
                    THEN U.umoptions
                 ELSE NULL END AS umoptions
    FROM pg_user_mapping U
         LEFT JOIN pg_authid A ON (A.oid = U.umuser) JOIN
        pg_foreign_server S ON (U.umserver = S.oid);
</programlisting>
       </para>
____________________________________________________________________________-->
       <para>
        在集群的<emphasis>每个</emphasis>数据库中，
        作为超级用户运行下列命令：
<programlisting>
SET search_path = pg_catalog;
CREATE OR REPLACE VIEW pg_user_mappings AS
    SELECT
        U.oid       AS umid,
        S.oid       AS srvid,
        S.srvname   AS srvname,
        U.umuser    AS umuser,
        CASE WHEN U.umuser = 0 THEN
            'public'
        ELSE
            A.rolname
        END AS usename,
        CASE WHEN (U.umuser &lt;&gt; 0 AND A.rolname = current_user
                     AND (pg_has_role(S.srvowner, 'USAGE')
                          OR has_server_privilege(S.oid, 'USAGE')))
                    OR (U.umuser = 0 AND pg_has_role(S.srvowner, 'USAGE'))
                    OR (SELECT rolsuper FROM pg_authid WHERE rolname = current_user)
                    THEN U.umoptions
                 ELSE NULL END AS umoptions
    FROM pg_user_mapping U
         LEFT JOIN pg_authid A ON (A.oid = U.umuser) JOIN
        pg_foreign_server S ON (U.umserver = S.oid);
</programlisting>
       </para>
      </step>

      <step>
<!--==========================orignal english content==========================
       <para>
        Do not forget to include the <literal>template0</literal>
        and <literal>template1</literal> databases, or the vulnerability will still
        exist in databases you create later.  To fix <literal>template0</literal>,
        you'll need to temporarily make it accept connections.
        In <productname>PostgreSQL</productname> 9.5 and later, you can use
<programlisting>
ALTER DATABASE template0 WITH ALLOW_CONNECTIONS true;
</programlisting>
        and then after fixing <literal>template0</literal>, undo that with
<programlisting>
ALTER DATABASE template0 WITH ALLOW_CONNECTIONS false;
</programlisting>
        In prior versions, instead use
<programlisting>
UPDATE pg_database SET datallowconn = true WHERE datname = 'template0';
UPDATE pg_database SET datallowconn = false WHERE datname = 'template0';
</programlisting>
       </para>
____________________________________________________________________________-->
       <para>
        不要忘记包括<literal>template0</literal>和<literal>template1</literal>数据库，
		否则隐患仍然存在于你稍后创建的数据库中。要修复<literal>template0</literal>，
		你需要临时允许它接受连接。在<productname>PostgreSQL</productname> 9.5和更高版本中，
		你可以使用
<programlisting>
ALTER DATABASE template0 WITH ALLOW_CONNECTIONS true;
</programlisting>
        然后再修复<literal>template0</literal>之后，使用下面的命令取消设置
<programlisting>
ALTER DATABASE template0 WITH ALLOW_CONNECTIONS false;
</programlisting>
        在以前的版本中，使用
<programlisting>
UPDATE pg_database SET datallowconn = true WHERE datname = 'template0';
UPDATE pg_database SET datallowconn = false WHERE datname = 'template0';
</programlisting>
       </para>
      </step>

      <step>
<!--==========================orignal english content==========================
       <para>
        Finally, remove the <literal>allow_system_table_mods</literal> configuration
        setting, and again restart the postmaster.
       </para>
____________________________________________________________________________-->
       <para>
        最后，删除<literal>allow_system_table_mods</literal>配置设置，再次重启postmaster。
       </para>
      </step>
     </procedure>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Disallow empty passwords in all password-based authentication methods
      (Heikki Linnakangas)
     </para>
____________________________________________________________________________-->
     <para>
      禁止在所有基于密码的身份验证方法中使用空密码
      (Heikki Linnakangas)
     </para>

<!--==========================orignal english content==========================
     <para>
      <application>libpq</application> ignores empty password specifications, and does
      not transmit them to the server.  So, if a user's password has been
      set to the empty string, it's impossible to log in with that password
      via <application>psql</application> or other <application>libpq</application>-based
      clients.  An administrator might therefore believe that setting the
      password to empty is equivalent to disabling password login.
      However, with a modified or non-<application>libpq</application>-based client,
      logging in could be possible, depending on which authentication
      method is configured.  In particular the most common
      method, <literal>md5</literal>, accepted empty passwords.
      Change the server to reject empty passwords in all cases.
      (CVE-2017-7546)
     </para>
____________________________________________________________________________-->
     <para>
      <application>libpq</application>忽略空密码规范，并且不会将它们传输到服务器。
	  因此，如果用户的密码已设置为空字符串，则无法通过<application>psql</application>
	  或其他基于<application>libpq</application>的客户端使用该密码登录。
	  管理员可能认为将密码设置为空将与禁用密码登录等效。但是，
	  对于基于修改或非基于<application>libpq</application>的客户端，
	  根据配置的身份验证方法，可能可以进行登录。特别是最常见的方法，即<literal>md5</literal>
	  接受空密码。在所有情况下更改服务器拒绝空密码。
      (CVE-2017-7546)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Make <function>lo_put()</function> check for <literal>UPDATE</literal> privilege on
      the target large object (Tom Lane, Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      让<function>lo_put()</function>检查目标大对象上的<literal>UPDATE</literal>权限
      (Tom Lane, Michael Paquier)
     </para>

<!--==========================orignal english content==========================
     <para>
      <function>lo_put()</function> should surely require the same permissions
      as <function>lowrite()</function>, but the check was missing, allowing any
      user to change the data in a large object.
      (CVE-2017-7548)
     </para>
____________________________________________________________________________-->
     <para>
      <function>lo_put()</function>当然需要与<function>lowrite()</function>相同的权限，
	  但该检查缺失，允许任何用户更改大对象中的数据。
      (CVE-2017-7548)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix concurrent locking of tuple update chains (&Aacute;lvaro Herrera)
     </para>
____________________________________________________________________________-->
     <para>
      修复元组更新链的并发锁定 (&Aacute;lvaro Herrera)
     </para>

<!--==========================orignal english content==========================
     <para>
      If several sessions concurrently lock a tuple update chain with
      nonconflicting lock modes using an old snapshot, and they all
      succeed, it was possible for some of them to nonetheless fail (and
      conclude there is no live tuple version) due to a race condition.
      This had consequences such as foreign-key checks failing to see a
      tuple that definitely exists but is being updated concurrently.
     </para>
____________________________________________________________________________-->
     <para>
      如果多个会话使用旧快照同时锁定元组更新链并且使用非冲突锁定模式，并且它们全部成功，
	  但由于竞争条件，它们中的一些可能会失败（并且得出结论，没有活动的元组版本）。
	  这具有诸如外键检查未能看到确实存在但正在被同时更新的元组的后果。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix potential data corruption when freezing a tuple whose XMAX is a
      multixact with exactly one still-interesting member (Teodor Sigaev)
     </para>
____________________________________________________________________________-->
     <para>
      修复冻结一个元组（whose XMAX is a multixact with exactly one still-interesting member）
	  时潜在的数据损坏 (Teodor Sigaev)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid integer overflow and ensuing crash when sorting more than one
      billion tuples in-memory (Sergey Koposov)
     </para>
____________________________________________________________________________-->
     <para>
      在内存中对超过10亿个元组进行排序时，避免整数溢出并导致崩溃 (Sergey Koposov)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      On Windows, retry process creation if we fail to reserve the address
      range for our shared memory in the new process (Tom Lane, Amit
      Kapila)
     </para>
____________________________________________________________________________-->
     <para>
      在Windows上，如果我们未能在新进程中保留共享内存的地址范围，请重试进程创建
	  (Tom Lane, Amit Kapila)
     </para>

<!--==========================orignal english content==========================
     <para>
      This is expected to fix infrequent child-process-launch failures that
      are probably due to interference from antivirus products.
     </para>
____________________________________________________________________________-->
     <para>
      预计这将修复罕见的子进程启动失败，这可能是由于防病毒产品的干扰造成的。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix low-probability corruption of shared predicate-lock hash table
      in Windows builds (Thomas Munro, Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复Windows构建中共享谓词锁散列表的低概率损坏 (Thomas Munro, Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid logging clean closure of an SSL connection as though
      it were a connection reset (Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      避免记录干净的SSL连接关闭，就像连接重置一样 (Michael Paquier)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Prevent sending SSL session tickets to clients (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      阻止向客户端发送SSL会话票据 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This fix prevents reconnection failures with ticket-aware client-side
      SSL code.
     </para>
____________________________________________________________________________-->
     <para>
      此修复程序可防止票证感知的客户端SSL代码重新连接失败。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix code for setting <xref linkend="guc-tcp-keepalives-idle"> on
      Solaris (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复在Solaris上设置<xref linkend="guc-tcp-keepalives-idle">的代码
	  (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix statistics collector to honor inquiry messages issued just after
      a postmaster shutdown and immediate restart (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复统计收集器以遵守postmaster关闭和立即重新启动后发出的查询消息
	  (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Statistics inquiries issued within half a second of the previous
      postmaster shutdown were effectively ignored.
     </para>
____________________________________________________________________________-->
     <para>
      在之前的postmaster停工半秒内发出的统计查询被有效地忽略了。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Ensure that the statistics collector's receive buffer size is at
      least 100KB (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      确保统计收集器的接收缓冲区大小至少为100KB (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This reduces the risk of dropped statistics data on older platforms
      whose default receive buffer size is less than that.
     </para>
____________________________________________________________________________-->
     <para>
      这可以降低在默认接收缓冲区大小小于此值的较早平台上丢失统计数据的风险。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix possible creation of an invalid WAL segment when a standby is
      promoted just after it processes an <literal>XLOG_SWITCH</literal> WAL
      record (Andres Freund)
     </para>
____________________________________________________________________________-->
     <para>
      修复在备用数据库处理<literal>XLOG_SWITCH</literal> WAL记录之后立即将其提升时，
	  创建无效的WAL段的可能性 (Andres Freund)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>walsender</application> to exit promptly when client requests
      shutdown (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>walsender</application>在客户端请求关闭时立即退出 (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <systemitem>SIGHUP</systemitem> and <systemitem>SIGUSR1</systemitem> handling in
      walsender processes (Petr Jelinek, Andres Freund)
     </para>
____________________________________________________________________________-->
     <para>
      在walsender进程中修复<systemitem>SIGHUP</systemitem>和<systemitem>SIGUSR1</systemitem>处理
      (Petr Jelinek, Andres Freund)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Prevent walsender-triggered panics during shutdown checkpoints
      (Andres Freund, Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      在关机检查点防止walsender触发的恐慌
      (Andres Freund, Michael Paquier)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix unnecessarily slow restarts of <application>walreceiver</application>
      processes due to race condition in postmaster (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复由于postmaster中的争用情况而导致的<application>walreceiver</application>
	  进程不必要的重启缓慢 (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--
Author: Andres Freund <andres@anarazel.de>
Branch: REL9_4_STABLE [23a2b818f] 2017-08-05 14:56:40 -0700
-->
<!--==========================orignal english content==========================
     <para>
      Fix logical decoding failure with very wide tuples (Andres Freund)
     </para>
____________________________________________________________________________-->
     <para>
      用很宽的元组修复逻辑解码失败 (Andres Freund)
     </para>

<!--==========================orignal english content==========================
     <para>
      Logical decoding crashed on tuples that are wider than 64KB (after
      compression, but with all data in-line).  The case arises only
      when <literal>REPLICA IDENTITY FULL</literal> is enabled for a table
      containing such tuples.
     </para>
____________________________________________________________________________-->
     <para>
      逻辑解码在大于64KB（在压缩之后，但所有数据都在）的元组上崩溃。
	  只有当为包含这些元组的表启用了<literal>REPLICA IDENTITY FULL</literal>时，
	  才会出现这种情况。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix leakage of small subtransactions spilled to disk during logical
      decoding (Andres Freund)
     </para>
____________________________________________________________________________-->
     <para>
      修复在逻辑解码过程中溢出到磁盘的小型子事务的泄漏
	  (Andres Freund)
     </para>

<!--==========================orignal english content==========================
     <para>
      This resulted in temporary files consuming excessive disk space.
     </para>
____________________________________________________________________________-->
     <para>
      这导致临时文件消耗过多的磁盘空间。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Reduce the work needed to build snapshots during creation of
      logical-decoding slots (Andres Freund, Petr Jelinek)
     </para>
____________________________________________________________________________-->
     <para>
      减少在创建逻辑解码插槽期间构建快照所需的工作 (Andres Freund, Petr Jelinek)
     </para>

<!--==========================orignal english content==========================
     <para>
      The previous algorithm was infeasibly expensive on a server with a
      lot of open transactions.
     </para>
____________________________________________________________________________-->
     <para>
      以前的算法在有很多开放事务的服务器上是不可行的。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix race condition that could indefinitely delay creation of
      logical-decoding slots (Andres Freund, Petr Jelinek)
     </para>
____________________________________________________________________________-->
     <para>
      修复可能无限期延迟逻辑解码插槽创建的竞态条件
	  (Andres Freund, Petr Jelinek)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Reduce overhead in processing syscache invalidation events (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      减少处理系统缓存失效事件的开销 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This is particularly helpful for logical decoding, which triggers
      frequent cache invalidation.
     </para>
____________________________________________________________________________-->
     <para>
      这对逻辑解码特别有用，它会触发频繁的缓存失效。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix cases where an <command>INSERT</command> or <command>UPDATE</command> assigns
      to more than one element of a column that is of domain-over-array
      type (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复了<command>INSERT</command>或<command>UPDATE</command>
	  分配给数组域类型的列多个元素的情况 (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Allow window functions to be used in sub-<literal>SELECT</literal>s that
      are within the arguments of an aggregate function (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      允许窗口函数在聚合函数参数内的子<literal>SELECT</literal>中使用
	  (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Move autogenerated array types out of the way during
      <command>ALTER ... RENAME</command> (Vik Fearing)
     </para>
____________________________________________________________________________-->
     <para>
      在<command>ALTER ... RENAME</command>中移动自动生成的数组类型 (Vik Fearing)
     </para>
<!--==========================orignal english content==========================
     <para>
      Previously, we would rename a conflicting autogenerated array type
      out of the way during <command>CREATE</command>; this fix extends that
      behavior to renaming operations.
     </para>
____________________________________________________________________________-->
     <para>
      以前，我们会在<command>CREATE</command>过程中重新命名冲突的自动生成数组类型。
	  此修复将该行为扩展到重命名操作。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Ensure that <command>ALTER USER ... SET</command> accepts all the syntax
      variants that <command>ALTER ROLE ... SET</command> does (Peter Eisentraut)
     </para>
____________________________________________________________________________-->
     <para>
      确保<command>ALTER USER ... SET</command>和
      <command>ALTER ROLE ... SET</command>一样接受所有的语法变体 (Peter Eisentraut)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Properly update dependency info when changing a datatype I/O
      function's argument or return type from <type>opaque</type> to the
      correct type (Heikki Linnakangas)
     </para>
____________________________________________________________________________-->
     <para>
      在将数据类型I/O函数的参数或返回类型从<type>opaque</type>
	  更改为正确类型时正确更新依赖项信息 (Heikki Linnakangas)
     </para>

<!--==========================orignal english content==========================
     <para>
      <command>CREATE TYPE</command> updates I/O functions declared in this
      long-obsolete style, but it forgot to record a dependency on the
      type, allowing a subsequent <command>DROP TYPE</command> to leave broken
      function definitions behind.
     </para>
____________________________________________________________________________-->
     <para>
      <command>CREATE TYPE</command>更新在这种废弃很久的风格中声明的I/O函数时，
	  忘记记录对该类型的依赖关系，允许后续的<command>DROP TYPE</command>
	  留下破损的函数定义。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Reduce memory usage when <command>ANALYZE</command> processes
      a <type>tsvector</type> column (Heikki Linnakangas)
     </para>
____________________________________________________________________________-->
     <para>
      当<command>ANALYZE</command>处理<type>tsvector</type>列时，
	  减少内存使用量 (Heikki Linnakangas)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix unnecessary precision loss and sloppy rounding when multiplying
      or dividing <type>money</type> values by integers or floats (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      将整数或浮点数乘以或除以<type>money</type>值时，
	  修正不必要的精确度损失和粗糙舍入 (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Tighten checks for whitespace in functions that parse identifiers,
      such as <function>regprocedurein()</function> (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      加紧检查解析标识符的函数中的空格，例如<function>regprocedurein()</function>
	  (Tom Lane)
     </para>
<!--==========================orignal english content==========================
     <para>
      Depending on the prevailing locale, these functions could
      misinterpret fragments of multibyte characters as whitespace.
     </para>
____________________________________________________________________________-->
     <para>
      根据流行的语言环境，这些函数可能会将多字节字符的片段误解为空白。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Use relevant <literal>#define</literal> symbols from Perl while
      compiling <application>PL/Perl</application> (Ashutosh Sharma, Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      在编译<application>PL/Perl</application>时使用Perl中的相关
	  <literal>#define</literal>符号 (Ashutosh Sharma, Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This avoids portability problems, typically manifesting as
      a <quote>handshake</quote> mismatch during library load, when working with
      recent Perl versions.
     </para>
____________________________________________________________________________-->
     <para>
      这样可以避免可移植性问题，在使用最新的Perl版本时，
	  通常会在库加载期间显示为<quote>握手</quote>不匹配。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      In <application>libpq</application>, reset GSS/SASL and SSPI authentication
      state properly after a failed connection attempt (Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      在<application>libpq</application>中，在连接尝试失败后正确重置
	  GSS/SASL和SSPI身份验证状态 (Michael Paquier)
     </para>
<!--==========================orignal english content==========================
     <para>
      Failure to do this meant that when falling back from SSL to non-SSL
      connections, a GSS/SASL failure in the SSL attempt would always cause
      the non-SSL attempt to fail.  SSPI did not fail, but it leaked memory.
     </para>
____________________________________________________________________________-->
     <para>
      如果不这样做，则意味着当从SSL退回到非SSL连接时，
	  SSL尝试中的GSS/SASL失败将始终导致非SSL尝试失败。SSPI没有失败，但它泄漏了内存。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      In <application>psql</application>, fix failure when <command>COPY FROM STDIN</command>
      is ended with a keyboard EOF signal and then another <command>COPY
      FROM STDIN</command> is attempted (Thomas Munro)
     </para>
____________________________________________________________________________-->
     <para>
      在<application>psql</application>中，当<command>COPY FROM STDIN</command>
	  以键盘EOF信号结束，然后尝试另一个<command>COPY FROM STDIN</command>时修复失败
	  (Thomas Munro)
     </para>

<!--==========================orignal english content==========================
     <para>
      This misbehavior was observed on BSD-derived platforms (including
      macOS), but not on most others.
     </para>
____________________________________________________________________________-->
     <para>
      在BSD派生的平台（包括macOS）上观察到这种不当行为，但在大多数其他平台上没有。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>pg_dump</application> and <application>pg_restore</application> to
      emit <command>REFRESH MATERIALIZED VIEW</command> commands last (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>pg_dump</application>和<application>pg_restore</application>
      最后发出<command>REFRESH MATERIALIZED VIEW</command>命令 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This prevents errors during dump/restore when a materialized view
      refers to tables owned by a different user.
     </para>
____________________________________________________________________________-->
     <para>
      这可以防止在物化视图引用其他用户拥有的表时转储/恢复期间的错误。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Improve <application>pg_dump</application>/<application>pg_restore</application>'s
      reporting of error conditions originating in <application>zlib</application>
      (Vladimir Kunschikov, &Aacute;lvaro Herrera)
     </para>
____________________________________________________________________________-->
     <para>
      改善<application>pg_dump</application>/<application>pg_restore</application>
      对起源于<application>zlib</application>的错误条件的报告
      (Vladimir Kunschikov, &Aacute;lvaro Herrera)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>pg_dump</application> with the <option>-&minus;clean</option> option to
      drop event triggers as expected (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>pg_dump</application>使用<option>--clean</option>
      以按预期方式删除事件触发器 (Tom Lane)
     </para>
<!--==========================orignal english content==========================
     <para>
      It also now correctly assigns ownership of event triggers; before,
      they were restored as being owned by the superuser running the
      restore script.
     </para>
____________________________________________________________________________-->
     <para>
      它现在也正确地分配事件触发器的所有权；之前，
	  它们被还原为由运行还原脚本的超级用户拥有。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>pg_dump</application> to not emit invalid SQL for an empty
      operator class (Daniel Gustafsson)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>pg_dump</application>以避免为空操作符类发出无效SQL
	  (Daniel Gustafsson)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>pg_dump</application> output to stdout on Windows (Kuntal Ghosh)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>pg_dump</application>在Windows上输出到stdout (Kuntal Ghosh)
     </para>
<!--==========================orignal english content==========================
     <para>
      A compressed plain-text dump written to stdout would contain corrupt
      data due to failure to put the file descriptor into binary mode.
     </para>
____________________________________________________________________________-->
     <para>
      写入标准输出的压缩纯文本转储将包含由于无法将文件描述符置于二进制模式而导致的损坏数据。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <function>pg_get_ruledef()</function> to print correct output for
      the <literal>ON SELECT</literal> rule of a view whose columns have been
      renamed (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<function>pg_get_ruledef()</function>为重命名了列的视图的
	  <literal>ON SELECT</literal>规则打印正确的输出 (Tom Lane)
     </para>
<!--==========================orignal english content==========================
     <para>
      In some corner cases, <application>pg_dump</application> relies
      on <function>pg_get_ruledef()</function> to dump views, so that this error
      could result in dump/reload failures.
     </para>
____________________________________________________________________________-->
     <para>
      在某些极端情况下，<application>pg_dump</application>依赖于
	  <function>pg_get_ruledef()</function>转储视图，所以该错误会导致转储/重载失败。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix dumping of outer joins with empty constraints, such as the result
      of a <literal>NATURAL LEFT JOIN</literal> with no common columns (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复具有空约束的外连接的转储，
	  例如没有公共列的<literal>NATURAL LEFT JOIN</literal>的结果 (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix dumping of function expressions in the <literal>FROM</literal> clause in
      cases where the expression does not deparse into something that looks
      like a function call (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<literal>FROM</literal>子句中函数表达式不会解析为看起来像函数调用的东西情况时，
	  函数表达式转储的情况 (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>pg_basebackup</application> output to stdout on Windows
      (Haribabu Kommi)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>pg_basebackup</application>在Windows上输出到stdout
      (Haribabu Kommi)
     </para>
<!--==========================orignal english content==========================
     <para>
      A backup written to stdout would contain corrupt data due to failure
      to put the file descriptor into binary mode.
     </para>
____________________________________________________________________________-->
     <para>
      写入stdout的备份将包含由于无法将文件描述符置于二进制模式而导致的损坏数据。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>pg_upgrade</application> to ensure that the ending WAL record
      does not have <xref linkend="guc-wal-level"> = <literal>minimum</literal>
      (Bruce Momjian)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>pg_upgrade</application>确保结束WAL记录没有
	  <xref linkend="guc-wal-level"> = <literal>minimum</literal>
      (Bruce Momjian)
     </para>
<!--==========================orignal english content==========================
     <para>
      This condition could prevent upgraded standby servers from
      reconnecting.
     </para>
____________________________________________________________________________-->
     <para>
      这种情况可能会阻止升级后的备用服务器重新连接。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      In <filename>postgres_fdw</filename>, re-establish connections to remote
      servers after <command>ALTER SERVER</command> or <command>ALTER USER
      MAPPING</command> commands (Kyotaro Horiguchi)
     </para>
____________________________________________________________________________-->
     <para>
      在<filename>postgres_fdw</filename>中，在<command>ALTER SERVER</command>
	  或<command>ALTER USER MAPPING</command>命令后重新建立与远程服务器的连接
	  (Kyotaro Horiguchi)
     </para>
<!--==========================orignal english content==========================
     <para>
      This ensures that option changes affecting connection parameters will
      be applied promptly.
     </para>
____________________________________________________________________________-->
     <para>
      这可以确保影响连接参数的选项更改会立即应用。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      In <filename>postgres_fdw</filename>, allow cancellation of remote
      transaction control commands (Robert Haas, Rafia Sabih)
     </para>
____________________________________________________________________________-->
     <para>
     在<filename>postgres_fdw</filename>中，允许取消远程事务控制命令 (Robert Haas, Rafia Sabih)
     </para>

<!--==========================orignal english content==========================
     <para>
      This change allows us to quickly escape a wait for an unresponsive
      remote server in many more cases than previously.
     </para>
____________________________________________________________________________-->
     <para>
      这种变化使我们能够在很多情况下比以前更快地避免等待无响应的远程服务器。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Increase <literal>MAX_SYSCACHE_CALLBACKS</literal> to provide more room for
      extensions (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      增加<literal>MAX_SYSCACHE_CALLBACKS</literal>以为扩展提供更多空间 (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Always use <option>-fPIC</option>, not <option>-fpic</option>, when building
      shared libraries with gcc (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      在使用gcc构建共享库时，总是使用<option>-fPIC</option>而不是<option>-fpic</option>
      (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This supports larger extension libraries on platforms where it makes
      a difference.
     </para>
____________________________________________________________________________-->
     <para>
      这在有所区分的平台上支持更大的扩展库。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix unescaped-braces issue in our build scripts for Microsoft MSVC,
      to avoid a warning or error from recent Perl versions (Andrew
      Dunstan)
     </para>
____________________________________________________________________________-->
     <para>
      修复Microsoft MSVC的构建脚本中的未转义大括号问题，以避免最近的Perl版本发出警告或错误
	  (Andrew Dunstan)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      In MSVC builds, handle the case where the <application>openssl</application>
      library is not within a <filename>VC</filename> subdirectory (Andrew Dunstan)
     </para>
____________________________________________________________________________-->
     <para>
      在MSVC构建中，处理<application>openssl</application>库不在
	  <filename>VC</filename>子目录中的情况 (Andrew Dunstan)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      In MSVC builds, add proper include path for <application>libxml2</application>
      header files (Andrew Dunstan)
     </para>
____________________________________________________________________________-->
     <para>
      在MSVC构建中，为<application>libxml2</application>头文件添加适当的包含路径
	  (Andrew Dunstan)
     </para>
<!--==========================orignal english content==========================
     <para>
      This fixes a former need to move things around in standard Windows
      installations of <application>libxml2</application>.
     </para>
____________________________________________________________________________-->
     <para>
      这修复了以前需要在<application>libxml2</application>的标准Windows安装中移动东西的问题。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      In MSVC builds, recognize a Tcl library that is
      named <filename>tcl86.lib</filename> (Noah Misch)
     </para>
____________________________________________________________________________-->
     <para>
      在MSVC构建中，识别一个名为<filename>tcl86.lib</filename>的Tcl库 (Noah Misch)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      In MSVC builds, honor <literal>PROVE_FLAGS</literal> settings
      on <filename>vcregress.pl</filename>'s command line (Andrew Dunstan)
     </para>
____________________________________________________________________________-->
     <para>
      在MSVC构建中，在<filename>vcregress.pl</filename>
	  的命令行上遵守 <literal>PROVE_FLAGS</literal>设置 (Andrew Dunstan)
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-9-4-12">
<!--==========================orignal english content==========================
  <title>Release 9.4.12</title>
____________________________________________________________________________-->
  <title>版本 9.4.12</title>

  <formalpara>
<!--==========================orignal english content==========================
  <title>Release date:</title>
____________________________________________________________________________-->
  <title>发布日期:</title>
<!--==========================orignal english content==========================
  <para>2017-05-11</para>
____________________________________________________________________________-->
  <para>2017-05-11</para>
  </formalpara>

<!--==========================orignal english content==========================
  <para>
   This release contains a variety of fixes from 9.4.11.
   For information about new features in the 9.4 major release, see
   <xref linkend="release-9-4">.
  </para>
____________________________________________________________________________-->
  <para>
   这个版本包含9.4.11的各种修补程序。
   关于9.4主版本的新特性信息，请查看<xref linkend="release-9-4">。
  </para>

  <sect2>
<!--==========================orignal english content==========================
   <title>Migration to Version 9.4.12</title>
____________________________________________________________________________-->
   <title>迁移到版本 9.4.12</title>

<!--==========================orignal english content==========================
   <para>
    A dump/restore is not required for those running 9.4.X.
   </para>
____________________________________________________________________________-->
   <para>
    运行9.4.X的用户不需要转储/恢复。
   </para>
<!--==========================orignal english content==========================
   <para>
    However, if you use foreign data servers that make use of user
    passwords for authentication, see the first changelog entry below.
   </para>
____________________________________________________________________________-->
   <para>
    但是，如果您使用使用用户密码进行身份验证的外部数据服务器，
	请参阅下面的第一个更改日志条目。
   </para>

<!--==========================orignal english content==========================
   <para>
    Also, if you are using third-party replication tools that depend
    on <quote>logical decoding</quote>, see the fourth changelog entry below.
   </para>
____________________________________________________________________________-->
   <para>
 	另外，如果您使用的是依赖<quote>逻辑解码</quote>的第三方复制工具，
	请参阅下面的第四个更新日志条目。
   </para>

<!--==========================orignal english content==========================
   <para>
    Also, if you are upgrading from a version earlier than 9.4.11,
    see <xref linkend="release-9-4-11">.
   </para>
____________________________________________________________________________-->
   <para>
    另外，如果您从早于9.4.11的版本进行升级，
    请查看<xref linkend="release-9-4-11">。
   </para>
  </sect2>

  <sect2>
<!--==========================orignal english content==========================
   <title>Changes</title>
____________________________________________________________________________-->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Restrict visibility
      of <structname>pg_user_mappings</structname>.<structfield>umoptions</structfield>, to
      protect passwords stored as user mapping options
      (Michael Paquier, Feike Steenbergen)
     </para>
____________________________________________________________________________-->
     <para>
      限制<structname>pg_user_mappings</structname>.<structfield>umoptions</structfield>
	  的可见性，以保护存储为用户映射选项的密码 (Michael Paquier, Feike Steenbergen)
     </para>
<!--==========================orignal english content==========================
     <para>
      The previous coding allowed the owner of a foreign server object,
      or anyone he has granted server <literal>USAGE</literal> permission to,
      to see the options for all user mappings associated with that server.
      This might well include passwords for other users.
      Adjust the view definition to match the behavior of
      <structname>information_schema.user_mapping_options</structname>, namely that
      these options are visible to the user being mapped, or if the mapping
      is for <literal>PUBLIC</literal> and the current user is the server
      owner, or if the current user is a superuser.
      (CVE-2017-7486)
     </para>
____________________________________________________________________________-->
     <para>
      之前的编码允许外部服务器对象的所有者或已授予服务器<literal>USAGE</literal>
	  权限的任何人查看与该服务器关联的所有用户映射的选项。这可能包括其他用户的密码。
	  调整视图定义以匹配<structname>information_schema.user_mapping_options</structname>
	  的行为，即这些选项对被映射的用户，或者映射是针对<literal>PUBLIC</literal>
	  和当前用户是服务器所有者，或者当前用户是超级用户是可见的。
      (CVE-2017-7486)
     </para>

<!--==========================orignal english content==========================
     <para>
      By itself, this patch will only fix the behavior in newly initdb'd
      databases.  If you wish to apply this change in an existing database,
      follow the corrected procedure shown in the changelog entry for
      CVE-2017-7547, in <xref linkend="release-9-4-13">.
     </para>
____________________________________________________________________________-->
     <para>
      就其本身而言，该修补程序将仅修复新initdb的数据库中的行为。
	  如果您希望在现有数据库中应用此更改，
	  请按照<xref linkend="release-9-4-13">中CVE-2017-7547
	  更改日志条目中显示的更正过程进行操作。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Prevent exposure of statistical information via leaky operators
      (Peter Eisentraut)
     </para>
____________________________________________________________________________-->
     <para>
      防止泄密操作员暴露统计信息
      (Peter Eisentraut)
     </para>
<!--==========================orignal english content==========================
     <para>
      Some selectivity estimation functions in the planner will apply
      user-defined operators to values obtained
      from <structname>pg_statistic</structname>, such as most common values and
      histogram entries.  This occurs before table permissions are checked,
      so a nefarious user could exploit the behavior to obtain these values
      for table columns he does not have permission to read.  To fix,
      fall back to a default estimate if the operator's implementation
      function is not certified leak-proof and the calling user does not have
      permission to read the table column whose statistics are needed.
      At least one of these criteria is satisfied in most cases in practice.
      (CVE-2017-7484)
     </para>
____________________________________________________________________________-->
     <para>
      规划器中的一些选择性估计函数将用户定义的运算符应用于从<structname>pg_statistic</structname>
	  获取的值，例如最常见的值和直方图条目。在检查表权限之前会发生这种情况，
	  因此恶意用户可以利用此行为为他没有权限阅读的表列获取这些值。
	  要修复，如果操作员的实现函数没有经过认证，并且调用用户没有权限读取需要统计的表列，
	  则回退到默认估计值。在大多数情况下，实际上至少会满足这些标准中的一个。
      (CVE-2017-7484)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Restore <application>libpq</application>'s recognition of
      the <envar>PGREQUIRESSL</envar> environment variable (Daniel Gustafsson)
     </para>
____________________________________________________________________________-->
     <para>
      恢复<application>libpq</application>对<envar>PGREQUIRESSL</envar>
	  环境变量的识别 (Daniel Gustafsson)
     </para>

<!--==========================orignal english content==========================
     <para>
      Processing of this environment variable was unintentionally dropped
      in <productname>PostgreSQL</productname> 9.3, but its documentation remained.
      This creates a security hazard, since users might be relying on the
      environment variable to force SSL-encrypted connections, but that
      would no longer be guaranteed.  Restore handling of the variable,
      but give it lower priority than <envar>PGSSLMODE</envar>, to avoid
      breaking configurations that work correctly with post-9.3 code.
      (CVE-2017-7485)
     </para>
____________________________________________________________________________-->
     <para>
      这个环境变量的处理在<productname>PostgreSQL</productname> 9.3中被偶然删除了，
	  但是它的文档依然存在。这会造成安全隐患，
	  因为用户可能依赖环境变量来强制进行SSL加密连接，但这不再有保证。
	  恢复变量的处理，但给它比<envar>PGSSLMODE</envar>更低的优先级，
	  以避免破坏可以在9.3版之后代码中正常工作的配置。
      (CVE-2017-7485)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix possibly-invalid initial snapshot during logical decoding
      (Petr Jelinek, Andres Freund)
     </para>
____________________________________________________________________________-->
     <para>
      在逻辑解码期间修复可能无效的初始快照
      (Petr Jelinek, Andres Freund)
     </para>

<!--==========================orignal english content==========================
     <para>
      The initial snapshot created for a logical decoding replication slot
      was potentially incorrect.  This could cause third-party tools that
      use logical decoding to copy incomplete/inconsistent initial data.
      This was more likely to happen if the source server was busy at the
      time of slot creation, or if another logical slot already existed.
     </para>
____________________________________________________________________________-->
     <para>
      为逻辑解码复制插槽创建的初始快照可能不正确。
	  这可能会导致使用逻辑解码的第三方工具复制不完整/不一致的初始数据。
	  如果源服务器在插槽创建时处于忙碌状态，或者已经存在另一个逻辑插槽，
	  则更有可能发生这种情况。
     </para>

<!--==========================orignal english content==========================
     <para>
      If you are using a replication tool that depends on logical decoding,
      and it should have copied a nonempty data set at the start of
      replication, it is advisable to recreate the replica after
      installing this update, or to verify its contents against the source
      server.
     </para>
____________________________________________________________________________-->
     <para>
	  如果您使用的是依赖于逻辑解码的复制工具，并且它应该在复制开始时复制非空数据集，
	  建议在安装此更新后重新创建副本，或者根据源服务器验证其内容。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix possible corruption of <quote>init forks</quote> of unlogged indexes
      (Robert Haas, Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      修复未记录索引的<quote>init forks</quote>可能的损坏
      (Robert Haas, Michael Paquier)
     </para>

<!--==========================orignal english content==========================
     <para>
      This could result in an unlogged index being set to an invalid state
      after a crash and restart.  Such a problem would persist until the
      index was dropped and rebuilt.
     </para>
____________________________________________________________________________-->
     <para>
      这可能会导致崩溃并重新启动后，将未记录的索引设置为无效状态。
	  这样的问题会持续下去，直到索引被删除和重建。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix incorrect reconstruction of <structname>pg_subtrans</structname> entries
      when a standby server replays a prepared but uncommitted two-phase
      transaction (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      当备用服务器重放已准备好但未提交的两阶段事务时，
	  修复<structname>pg_subtrans</structname>条目的不正确重构
	  (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      In most cases this turned out to have no visible ill effects, but in
      corner cases it could result in circular references
      in <structname>pg_subtrans</structname>, potentially causing infinite loops
      in queries that examine rows modified by the two-phase transaction.
     </para>
____________________________________________________________________________-->
     <para>
      在大多数情况下，这看起来没有可见的不良影响，但在极端情况下，
	  它可能导致<structname>pg_subtrans</structname>中的循环引用，
	  这可能会导致检查由两阶段事务修改的行的查询中的无限循环。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid possible crash in <application>walsender</application> due to failure
      to initialize a string buffer (Stas Kelvich, Fujii Masao)
     </para>
____________________________________________________________________________-->
     <para>
      避免由于初始化字符串缓冲区失败，在<application>walsender</application>
	  中可能发生崩溃 (Stas Kelvich, Fujii Masao)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix postmaster's handling of <function>fork()</function> failure for a
      background worker process (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复postmaster对后台工作进程的<function>fork()</function>失败的处理 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, the postmaster updated portions of its state as though
      the process had been launched successfully, resulting in subsequent
      confusion.
     </para>
____________________________________________________________________________-->
     <para>
      在此之前，postmaster更新了部分状态，就好像过程已经成功启动一样，导致后来的混乱。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Ensure parsing of queries in extension scripts sees the results of
      immediately-preceding DDL (Julien Rouhaud, Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      确保解析扩展脚本中的查询可以看到前一个DDL的结果 (Julien Rouhaud, Tom Lane)
     </para>
<!--==========================orignal english content==========================
     <para>
      Due to lack of a cache flush step between commands in an extension
      script file, non-utility queries might not see the effects of an
      immediately preceding catalog change, such as <command>ALTER TABLE
      ... RENAME</command>.
     </para>
____________________________________________________________________________-->
     <para>
      由于缺少扩展脚本文件中的命令之间的缓存刷新步骤，
	  非实用程序查询可能看不到前一个目录更改的效果，
	  例如<command>ALTER TABLE ... RENAME</command>。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Skip tablespace privilege checks when <command>ALTER TABLE ... ALTER
      COLUMN TYPE</command> rebuilds an existing index (Noah Misch)
     </para>
____________________________________________________________________________-->
     <para>
      当<command>ALTER TABLE ... ALTER COLUMN TYPE</command>重建现有索引时，
	  跳过表空间权限检查 (Noah Misch)
     </para>

<!--==========================orignal english content==========================
     <para>
      The command failed if the calling user did not currently have
      <literal>CREATE</literal> privilege for the tablespace containing the index.
      That behavior seems unhelpful, so skip the check, allowing the
      index to be rebuilt where it is.
     </para>
____________________________________________________________________________-->
     <para>
      如果调用用户当前对包含索引的表空间没有<literal>CREATE</literal>权限，
	  则该命令失败。这种行为似乎没有帮助，所以跳过检查，允许索引被重建。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <command>ALTER TABLE ... VALIDATE CONSTRAINT</command> to not recurse
      to child tables when the constraint is marked <literal>NO INHERIT</literal>
      (Amit Langote)
     </para>
____________________________________________________________________________-->
     <para>
      当约束被标记为<literal>NO INHERIT</literal>时，
	  修复<command>ALTER TABLE ... VALIDATE CONSTRAINT</command>不会递归到子表
      (Amit Langote)
     </para>

<!--==========================orignal english content==========================
     <para>
      This fix prevents unwanted <quote>constraint does not exist</quote> failures
      when no matching constraint is present in the child tables.
     </para>
____________________________________________________________________________-->
     <para>
      当子表中不存在匹配约束时，此修补程序可防止不需要的
	  <quote>constraint does not exist</quote>故障。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <command>VACUUM</command> to account properly for pages that could not
      be scanned due to conflicting page pins (Andrew Gierth)
     </para>
____________________________________________________________________________-->
     <para>
      修复<command>VACUUM</command>以正确计算由于页面引脚冲突而无法扫描的页面
	  (Andrew Gierth)
     </para>
<!--==========================orignal english content==========================
     <para>
      This tended to lead to underestimation of the number of tuples in
      the table.  In the worst case of a small heavily-contended
      table, <command>VACUUM</command> could incorrectly report that the table
      contained no tuples, leading to very bad planning choices.
     </para>
____________________________________________________________________________-->
     <para>
      这往往导致低估表中的元组数量。在最坏的情况下，一个小型的严重争用表，
	  <command>VACUUM</command>可能会错误地报告表中不包含元组，
	  导致非常糟糕的计划选择。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Ensure that bulk-tuple-transfer loops within a hash join are
      interruptible by query cancel requests (Tom Lane, Thomas Munro)
     </para>
____________________________________________________________________________-->
     <para>
      确保散列连接中的批量元组传输循环可由查询取消请求中断 (Tom Lane, Thomas Munro)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix integer-overflow problems in <type>interval</type> comparison (Kyotaro
      Horiguchi, Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<type>interval</type>比较中的整数溢出问题 (Kyotaro
      Horiguchi, Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      The comparison operators for type <type>interval</type> could yield wrong
      answers for intervals larger than about 296000 years.  Indexes on
      columns containing such large values should be reindexed, since they
      may be corrupt.
     </para>
____________________________________________________________________________-->
     <para>
      <type>interval</type>类型的比较运算符可能会在大于296000年的时间间隔内产生错误的答案。
	  包含这些较大值的列索引应重新编制索引，因为它们可能已损坏。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <function>cursor_to_xml()</function> to produce valid output
      with <replaceable>tableforest</replaceable> = false
      (Thomas Munro, Peter Eisentraut)
     </para>
____________________________________________________________________________-->
     <para>
      修复<function>cursor_to_xml()</function>以产生
      <replaceable>tableforest</replaceable> = false的有效输出
      (Thomas Munro, Peter Eisentraut)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously it failed to produce a wrapping <literal>&lt;table&gt;</literal>
      element.
     </para>
____________________________________________________________________________-->
     <para>
      以前，它无法产生包含<literal>&lt;table&gt;</literal>元素。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix roundoff problems in <function>float8_timestamptz()</function>
      and <function>make_interval()</function> (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<function>float8_timestamptz()</function>
      和<function>make_interval()</function>中的舍入问题 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      These functions truncated, rather than rounded, when converting a
      floating-point value to integer microseconds; that could cause
      unexpectedly off-by-one results.
     </para>
____________________________________________________________________________-->
     <para>
      将浮点值转换为整数微秒时，这些函数被截断，而不是四舍五入;
	  这可能会导致意想不到的结果。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Improve performance of <structname>pg_timezone_names</structname> view
      (Tom Lane, David Rowley)
     </para>
____________________________________________________________________________-->
     <para>
      提高<structname>pg_timezone_names</structname>视图的性能
      (Tom Lane, David Rowley)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Reduce memory management overhead for contexts containing many large
      blocks (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      减少包含许多大块的上下文的内存管理开销 (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix sloppy handling of corner-case errors from <function>lseek()</function>
      and <function>close()</function> (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复来自<function>lseek()</function>和<function>close()</function>
	  的极端错误的草率处理 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Neither of these system calls are likely to fail in typical situations,
      but if they did, <filename>fd.c</filename> could get quite confused.
     </para>
____________________________________________________________________________-->
     <para>
      这些系统调用都不会在典型情况下失败，但如果他们失败了，
	  <filename>fd.c</filename>可能会变得很混乱。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix incorrect check for whether postmaster is running as a Windows
      service (Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      修复postmaster是否作为Windows服务运行的错误检查 (Michael Paquier)
     </para>

<!--==========================orignal english content==========================
     <para>
      This could result in attempting to write to the event log when that
      isn't accessible, so that no logging happens at all.
     </para>
____________________________________________________________________________-->
     <para>
      这可能会导致尝试写入事件日志，而这是不可访问的，因此根本不会发生日志记录。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>ecpg</application> to support <command>COMMIT PREPARED</command>
      and <command>ROLLBACK PREPARED</command> (Masahiko Sawada)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>ecpg</application>以支持<command>COMMIT PREPARED</command>
      和<command>ROLLBACK PREPARED</command> (Masahiko Sawada)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix a double-free error when processing dollar-quoted string literals
      in <application>ecpg</application> (Michael Meskes)
     </para>
____________________________________________________________________________-->
     <para>
      修正<application>ecpg</application>中处理美元符号引用的字符串文字时出现的双免费错误
	  (Michael Meskes)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      In <application>pg_dump</application>, fix incorrect schema and owner marking for
      comments and security labels of some types of database objects
      (Giuseppe Broccolo, Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      在<application>pg_dump</application>中，
	  为某些类型的数据库对象的注释和安全标签修复了不正确的模式和所有者标记
      (Giuseppe Broccolo, Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      In simple cases this caused no ill effects; but for example, a
      schema-selective restore might omit comments it should include, because
      they were not marked as belonging to the schema of their associated
      object.
     </para>
____________________________________________________________________________-->
     <para>
      在简单的情况下，这不会造成不良影响；但是例如，
	  模式选择性恢复可能会忽略它应该包含的注释，
	  因为它们未被标记为属于其关联对象的模式。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid emitting an invalid list file in <literal>pg_restore -l</literal>
      when SQL object names contain newlines (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      当SQL对象名称包含换行符时，避免在<literal>pg_restore -l</literal>
	  中发出无效的列表文件 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Replace newlines by spaces, which is sufficient to make the output
      valid for <literal>pg_restore -L</literal>'s purposes.
     </para>
____________________________________________________________________________-->
     <para>
      用空格替换换行符，这足以使输出对于<literal>pg_restore -L</literal>的目的有效。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>pg_upgrade</application> to transfer comments and security labels
      attached to <quote>large objects</quote> (blobs) (Stephen Frost)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>pg_upgrade</application>以传输附加到<quote>大对象</quote> (blobs)
	  的注释和安全标签 (Stephen Frost)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, blobs were correctly transferred to the new database, but
      any comments or security labels attached to them were lost.
     </para>
____________________________________________________________________________-->
     <para>
      以前，blob被正确地转移到新的数据库，但是附加到它们的任何注释或安全标签都丢失了。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Improve error handling
      in <filename>contrib/adminpack</filename>'s <function>pg_file_write()</function>
      function (Noah Misch)
     </para>
____________________________________________________________________________-->
     <para>
      改善<filename>contrib/adminpack</filename>的<function>pg_file_write()</function>
      函数中的错误处理 (Noah Misch)
     </para>

<!--==========================orignal english content==========================
     <para>
      Notably, it failed to detect errors reported
      by <function>fclose()</function>.
     </para>
____________________________________________________________________________-->
     <para>
      值得注意的是，它未能检测到由<function>fclose()</function>报告的错误。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      In <filename>contrib/dblink</filename>, avoid leaking the previous unnamed
      connection when establishing a new unnamed connection (Joe Conway)
     </para>
____________________________________________________________________________-->
     <para>
      在<filename>contrib/dblink</filename>中，当建立一个新的未命名连接时，
	  避免泄露之前的未命名连接 (Joe Conway)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <filename>contrib/pg_trgm</filename>'s extraction of trigrams from regular
      expressions (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<filename>contrib/pg_trgm</filename>从正则表达式中提取trigram (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      In some cases it would produce a broken data structure that could never
      match anything, leading to GIN or GiST indexscans that use a trigram
      index not finding any matches to the regular expression.
     </para>
____________________________________________________________________________-->
     <para>
      在某些情况下，它会产生一个无法匹配任何内容的损坏了的数据结构，
	  从而导致使用trigram索引的GIN或GiST索引扫描程序找不到正则表达式的任何匹配项。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      In <filename>contrib/postgres_fdw</filename>,
      transmit query cancellation requests to the remote server
      (Michael Paquier, Etsuro Fujita)
     </para>
____________________________________________________________________________-->
     <para>
      在<filename>contrib/postgres_fdw</filename>中，
      向远程服务器发送查询取消请求
      (Michael Paquier, Etsuro Fujita)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, a local query cancellation request did not cause an
      already-sent remote query to terminate early.  This is a back-patch
      of work originally done for 9.6.
     </para>
____________________________________________________________________________-->
     <para>
      以前，本地查询取消请求不会导致已发送的远程查询提前终止。
	  这是最初为9.6所做的工作的补丁。
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: REL9_4_STABLE [bb132cddf] 2017-04-15 20:16:03 -0400
Branch: REL9_3_STABLE [fbfeceb25] 2017-04-17 12:51:40 -0400
Branch: REL9_2_STABLE [58384149b] 2017-04-17 12:51:40 -0400
Branch: REL9_3_STABLE [4e91330da] 2017-04-17 13:52:42 -0400
Branch: REL9_2_STABLE [fb50c38e9] 2017-04-17 13:52:42 -0400
-->
<!--==========================orignal english content==========================
     <para>
      Support OpenSSL 1.1.0 (Heikki Linnakangas, Andreas Karlsson, Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      支持OpenSSL 1.1.0 (Heikki Linnakangas, Andreas Karlsson, Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This is a back-patch of work previously done in newer branches;
      it's needed since many platforms are adopting newer OpenSSL versions.
     </para>
____________________________________________________________________________-->
     <para>
      这是在较新的分支中完成的工作的补丁；
	  因为许多平台采用了更新的OpenSSL版本，所以需要它。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Support Tcl 8.6 in MSVC builds (&Aacute;lvaro Herrera)
     </para>
____________________________________________________________________________-->
     <para>
      支持MSVC版本中的Tcl 8.6 (&Aacute;lvaro Herrera)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Sync our copy of the timezone library with IANA release tzcode2017b
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      将我们的时区库副本与IANA发行版tzcode2017b同步
      (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This fixes a bug affecting some DST transitions in January 2038.
     </para>
____________________________________________________________________________-->
     <para>
      这修正了2038年1月影响某些DST转换的错误。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Update time zone data files to <application>tzdata</application> release 2017b
      for DST law changes in Chile, Haiti, and Mongolia, plus historical
      corrections for Ecuador, Kazakhstan, Liberia, and Spain.
      Switch to numeric abbreviations for numerous time zones in South
      America, the Pacific and Indian oceans, and some Asian and Middle
      Eastern countries.
     </para>
____________________________________________________________________________-->
     <para>
      更新时区数据文件至<application>tzdata</application> release 2017b，用于智利、
	  海地和蒙古的DST法律变更，以及厄瓜多尔、哈萨克斯坦、利比里亚和西班牙的历史更正。
	  切换到南美洲、太平洋和印度洋以及一些亚洲和中东国家众多时区的数字缩写。
     </para>

<!--==========================orignal english content==========================
     <para>
      The IANA time zone database previously provided textual abbreviations
      for all time zones, sometimes making up abbreviations that have little
      or no currency among the local population.  They are in process of
      reversing that policy in favor of using numeric UTC offsets in zones
      where there is no evidence of real-world use of an English
      abbreviation.  At least for the time being, <productname>PostgreSQL</productname>
      will continue to accept such removed abbreviations for timestamp input.
      But they will not be shown in the <structname>pg_timezone_names</structname>
      view nor used for output.
     </para>
____________________________________________________________________________-->
     <para>
      IANA时区数据库以前为所有时区提供了文本缩写，有时会提供当地人口中流通很少或没有流通的缩写。
	  他们正在推翻该政策，赞成在真实世界中没有使用英文缩写的地区使用数字UTC偏移量。
	  至少目前，<productname>PostgreSQL</productname>将继续接受这种删除的时间戳输入缩写。
	  但是它们不会显示在<structname>pg_timezone_names</structname>视图中，也不会用于输出。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Use correct daylight-savings rules for POSIX-style time zone names
      in MSVC builds (David Rowley)
     </para>
____________________________________________________________________________-->
     <para>
      在MSVC版本中为POSIX风格的时区名称使用正确的夏时制规则 (David Rowley)
     </para>

<!--==========================orignal english content==========================
     <para>
      The Microsoft MSVC build scripts neglected to install
      the <filename>posixrules</filename> file in the timezone directory tree.
      This resulted in the timezone code falling back to its built-in
      rule about what DST behavior to assume for a POSIX-style time zone
      name.  For historical reasons that still corresponds to the DST rules
      the USA was using before 2007 (i.e., change on first Sunday in April
      and last Sunday in October).  With this fix, a POSIX-style zone name
      will use the current and historical DST transition dates of
      the <literal>US/Eastern</literal> zone.  If you don't want that, remove
      the <filename>posixrules</filename> file, or replace it with a copy of some
      other zone file (see <xref linkend="datatype-timezones">).  Note that
      due to caching, you may need to restart the server to get such changes
      to take effect.
     </para>
____________________________________________________________________________-->
     <para>
      Microsoft MSVC构建脚本忽略在时区目录树中安装<filename>posixrules</filename>文件。
	  这导致时区代码回落到其内置规则，即关于为POSIX样式的时区名称假设哪些DST行为。
	  由于历史原因，这仍然对应于2007年之前美国使用的DST规则（即，
	  在四月的第一个星期日和十月的上个星期天进行更改）。通过此修复，
	  POSIX样式的区域名称将使用<literal>US/Eastern</literal>区域的当前和历史DST转换日期。
	  如果你不想这样做，请删除<filename>posixrules</filename>文件，
	  或将其替换为其他区域文件的副本（请参阅<xref linkend="datatype-timezones">）。
	  请注意，由于缓存，您可能需要重新启动服务器才能使这些更改生效。
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-9-4-11">
<!--==========================orignal english content==========================
  <title>Release 9.4.11</title>
____________________________________________________________________________-->
  <title>版本 9.4.11</title>

  <formalpara>
<!--==========================orignal english content==========================
  <title>Release date:</title>
____________________________________________________________________________-->
  <title>发布日期:</title>
<!--==========================orignal english content==========================
  <para>2017-02-09</para>
____________________________________________________________________________-->
  <para>2017-02-09</para>
  </formalpara>

<!--==========================orignal english content==========================
  <para>
   This release contains a variety of fixes from 9.4.10.
   For information about new features in the 9.4 major release, see
   <xref linkend="release-9-4">.
  </para>
____________________________________________________________________________-->
  <para>
   此版本包含9.4.10的各种修复程序。有关9.4主要版本中的新功能的信息，请查看
   <xref linkend="release-9-4">.
  </para>

  <sect2>
<!--==========================orignal english content==========================
   <title>Migration to Version 9.4.11</title>
____________________________________________________________________________-->
   <title>迁移到版本 9.4.11</title>

<!--==========================orignal english content==========================
   <para>
    A dump/restore is not required for those running 9.4.X.
   </para>
____________________________________________________________________________-->
   <para>
    运行9.4.X的用户不需要转储/恢复。
   </para>

<!--==========================orignal english content==========================
   <para>
    However, if your installation has been affected by the bug described in
    the first changelog entry below, then after updating you may need
    to take action to repair corrupted indexes.
   </para>
____________________________________________________________________________-->
   <para>
    但是，如果您的安装受到以下修改列表第一项中描述的错误的影响，
	那么在更新之后，您可能需要采取措施修复损坏的索引。
   </para>

<!--==========================orignal english content==========================
   <para>
    Also, if you are upgrading from a version earlier than 9.4.10,
    see <xref linkend="release-9-4-10">.
   </para>
____________________________________________________________________________-->
   <para>
    另外，如果您是从9.4.10之前的版本升级，请查阅
    <xref linkend="release-9-4-10">。
   </para>
  </sect2>

  <sect2>
<!--==========================orignal english content==========================
   <title>Changes</title>
____________________________________________________________________________-->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix a race condition that could cause indexes built
      with <command>CREATE INDEX CONCURRENTLY</command> to be corrupt
      (Pavan Deolasee, Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复可能会导致使用<command>CREATE INDEX CONCURRENTLY</command>构建的索引损坏的争用条件
	  (Pavan Deolasee, Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      If <command>CREATE INDEX CONCURRENTLY</command> was used to build an index
      that depends on a column not previously indexed, then rows
      updated by transactions that ran concurrently with
      the <command>CREATE INDEX</command> command could have received incorrect
      index entries.  If you suspect this may have happened, the most
      reliable solution is to rebuild affected indexes after installing
      this update.
     </para>
____________________________________________________________________________-->
     <para>
      如果使用<command>CREATE INDEX CONCURRENTLY</command>构建一个索引，
	  该索引依赖于先前未编制索引的列，那么通过与<command>CREATE INDEX</command>
	  命令同时运行的事务更新的行可能收到不正确索引条目。如果您怀疑可能发生了这种情况，
	  最可靠的解决方案是在安装此更新后重建受影响的索引。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Ensure that the special snapshot used for catalog scans is not
      invalidated by premature data pruning (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      确保用于目录扫描的特殊快照不会因过早的数据修剪而失效 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Backends failed to account for this snapshot when advertising their
      oldest xmin, potentially allowing concurrent vacuuming operations to
      remove data that was still needed.  This led to transient failures
      along the lines of <quote>cache lookup failed for relation 1255</quote>.
     </para>
____________________________________________________________________________-->
     <para>
      发布最旧的xmin时后端无法解释此快照，可能允许并发清理操作删除仍然需要的数据。
	  这会导致短暂的故障伴随行<quote>cache lookup failed for relation 1255</quote>。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Unconditionally WAL-log creation of the <quote>init fork</quote> for an
      unlogged table (Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      无条件的WAL记录unlog表的<quote>init fork</quote>创建 (Michael Paquier)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, this was skipped when <xref linkend="guc-wal-level">
      = <literal>minimal</literal>, but actually it's necessary even in that case
      to ensure that the unlogged table is properly reset to empty after a
      crash.
     </para>
____________________________________________________________________________-->
     <para>
      以前，当<xref linkend="guc-wal-level"> = <literal>minimal</literal>时会跳过它，
	  但实际上，即使在这种情况下也需要确保在崩溃后将未记录的表正确地重置为空。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Reduce interlocking on standby servers during the replay of btree
      index vacuuming operations (Simon Riggs)
     </para>
____________________________________________________________________________-->
     <para>
      在重建btree索引清理操作期间减少备用服务器上的互锁 (Simon Riggs)
     </para>

<!--==========================orignal english content==========================
     <para>
      This change avoids substantial replication delays that sometimes
      occurred while replaying such operations.
     </para>
____________________________________________________________________________-->
     <para>
      此更改避免了重播此类操作时发生的大量复制延迟。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      If the stats collector dies during hot standby, restart it (Takayuki
      Tsunakawa)
     </para>
____________________________________________________________________________-->
     <para>
      如果状态收集器在热备用期间死亡，请重新启动它 (Takayuki
      Tsunakawa)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Ensure that hot standby feedback works correctly when it's enabled at
      standby server start (Ants Aasma, Craig Ringer)
     </para>
____________________________________________________________________________-->
     <para>
      在备用服务器启动时启用热备用反馈时，确保它能正常工作
	  (Ants Aasma, Craig Ringer)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Check for interrupts while hot standby is waiting for a conflicting
      query (Simon Riggs)
     </para>
____________________________________________________________________________-->
     <para>
      在热备用等待冲突查询时检查中断 (Simon Riggs)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid constantly respawning the autovacuum launcher in a corner case
      (Amit Khandekar)
     </para>
____________________________________________________________________________-->
     <para>
      避免在极端的情况下不断重新启动自动清理加载进程
      (Amit Khandekar)
     </para>

<!--==========================orignal english content==========================
     <para>
      This fix avoids problems when autovacuum is nominally off and there
      are some tables that require freezing, but all such tables are
      already being processed by autovacuum workers.
     </para>
____________________________________________________________________________-->
     <para>
      该修复避免了在名义关闭autovacuum并且有一些表需要冻结，
	  但所有此类表已由autovacuum工作进程处理的情况下出现问题。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix check for when an extension member object can be dropped (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复对何时可以删除扩展成员对象的检查 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Extension upgrade scripts should be able to drop member objects,
      but this was disallowed for serial-column sequences, and possibly
      other cases.
     </para>
____________________________________________________________________________-->
     <para>
      扩展升级脚本应该能够删除成员对象，
	  但是这对于串行列序列以及可能的其他情况是不允许的。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Make sure <command>ALTER TABLE</command> preserves index tablespace
      assignments when rebuilding indexes (Tom Lane, Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      确保当重建索引时，<command>ALTER TABLE</command>保留索引表空间分配
	  (Tom Lane, Michael Paquier)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, non-default settings
      of <xref linkend="guc-default-tablespace"> could result in broken
      indexes.
     </para>
____________________________________________________________________________-->
     <para>
      以前<xref linkend="guc-default-tablespace">的非默认设置会导致索引损坏。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix incorrect updating of trigger function properties when changing a
      foreign-key constraint's deferrability properties with <command>ALTER
      TABLE ... ALTER CONSTRAINT</command> (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修改使用<command>ALTER TABLE ... ALTER CONSTRAINT</command>
	  更改外键约束的延迟属性时触发器函数属性的更新不正确 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This led to odd failures during subsequent exercise of the foreign
      key, as the triggers were fired at the wrong times.
     </para>
____________________________________________________________________________-->
     <para>
      这在后来的外键操作中导致了奇怪的失败，因为触发器在错误的时间被触发。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Prevent dropping a foreign-key constraint if there are pending
      trigger events for the referenced relation (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      如果引用的关系存在挂起的触发事件，则防止丢弃外键约束 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This avoids <quote>could not find trigger <replaceable>NNN</replaceable></quote>
      or <quote>relation <replaceable>NNN</replaceable> has no triggers</quote> errors.
     </para>
____________________________________________________________________________-->
     <para>
      这避免了<quote>could not find trigger <replaceable>NNN</replaceable></quote>
      或<quote>relation <replaceable>NNN</replaceable> has no triggers</quote>错误。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix processing of OID column when a table with OIDs is associated to
      a parent with OIDs via <command>ALTER TABLE ... INHERIT</command> (Amit
      Langote)
     </para>
____________________________________________________________________________-->
     <para>
      当通过<command>ALTER TABLE ... INHERIT</command>将具有OID的表关联到具有OID的父项时，
	  修复OID列的处理 (Amit Langote)
     </para>

<!--==========================orignal english content==========================
     <para>
      The OID column should be treated the same as regular user columns in
      this case, but it wasn't, leading to odd behavior in later
      inheritance changes.
     </para>
____________________________________________________________________________-->
     <para>
      在这种情况下，OID列应该与普通用户列相同，但它不是，
	  导致在稍后的继承更改中出现奇怪的行为。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <command>CREATE OR REPLACE VIEW</command> to update the view query
      before attempting to apply the new view options (Dean Rasheed)
     </para>
____________________________________________________________________________-->
     <para>
      修复<command>CREATE OR REPLACE VIEW</command>
	  在尝试应用新的视图选项之前更新视图查询 (Dean Rasheed)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously the command would fail if the new options were
      inconsistent with the old view definition.
     </para>
____________________________________________________________________________-->
     <para>
      如果新选项与旧视图定义不一致，以前命令会失败。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Report correct object identity during <command>ALTER TEXT SEARCH
      CONFIGURATION</command> (Artur Zakirov)
     </para>
____________________________________________________________________________-->
     <para>
      在<command>ALTER TEXT SEARCH CONFIGURATION</command>中报告正确的对象标识
	  (Artur Zakirov)
     </para>

<!--==========================orignal english content==========================
     <para>
      The wrong catalog OID was reported to extensions such as logical
      decoding.
     </para>
____________________________________________________________________________-->
     <para>
      将错误的目录OID报告给诸如逻辑解码之类的扩展。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Check for serializability conflicts before reporting
      constraint-violation failures (Thomas Munro)
     </para>
____________________________________________________________________________-->
     <para>
      在报告约束违规失败之前检查可串行性冲突 (Thomas Munro)
     </para>

<!--==========================orignal english content==========================
     <para>
      When using serializable transaction isolation, it is desirable
      that any error due to concurrent transactions should manifest
      as a serialization failure, thereby cueing the application that
      a retry might succeed.  Unfortunately, this does not reliably
      happen for duplicate-key failures caused by concurrent insertions.
      This change ensures that such an error will be reported as a
      serialization error if the application explicitly checked for
      the presence of a conflicting key (and did not find it) earlier
      in the transaction.
     </para>
____________________________________________________________________________-->
     <para>
      在使用可串行化事务隔离时，由并发事务引起的任何错误最好表现为序列化失败，
	  从而提示应用程序重试可能成功。不幸的是，这对于由并发插入引起的重复键失败并不能可靠地发生。
	  如果应用程序在事务早期明确检查事务中是否存在冲突密钥（并且未找到该密钥），
	  则此更改可确保将此类错误报告为序列化错误。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Prevent multicolumn expansion of <replaceable>foo</replaceable><literal>.*</literal> in
      an <command>UPDATE</command> source expression (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      在<command>UPDATE</command>源表达式中防止
	  <replaceable>foo</replaceable><literal>.*</literal>的多列扩展
	   (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This led to <quote>UPDATE target count mismatch -&minus;- internal
      error</quote>.  Now the syntax is understood as a whole-row variable,
      as it would be in other contexts.
     </para>
____________________________________________________________________________-->
     <para>
      这导致<quote>UPDATE target count mismatch --- internal
      error</quote>。现在，语法被理解为整行变量，就像在其他上下文中一样。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Ensure that column typmods are determined accurately for
      multi-row <literal>VALUES</literal> constructs (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      确保为多行<literal>VALUES</literal>构造准确确定了列typmods (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This fixes problems occurring when the first value in a column has a
      determinable typmod (e.g., length for a <type>varchar</type> value) but
      later values don't share the same limit.
     </para>
____________________________________________________________________________-->
     <para>
      这解决了当列中第一个值具有可确定的typmod（例如，<type>varchar</type>值的长度）
	  但后面的值不共享相同限制时发生的问题。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Throw error for an unfinished Unicode surrogate pair at the end of a
      Unicode string (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      在Unicode字符串的末尾抛出未完成的Unicode代理对错误 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Normally, a Unicode surrogate leading character must be followed by a
      Unicode surrogate trailing character, but the check for this was
      missed if the leading character was the last character in a Unicode
      string literal (<literal>U&amp;'...'</literal>) or Unicode identifier
      (<literal>U&amp;"..."</literal>).
     </para>
____________________________________________________________________________-->
     <para>
      通常，Unicode代理前导字符必须跟随一个Unicode代理尾随字符，
	  但如果前导字符是Unicode字符串文字(<literal>U&amp;'...'</literal>)
	  或Unicode标识符(<literal>U&amp;"..."</literal>)中的最后一个字符，
	  会丢失此检查。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Ensure that a purely negative text search query, such
      as <literal>!foo</literal>, matches empty <type>tsvector</type>s (Tom Dunstan)
     </para>
____________________________________________________________________________-->
     <para>
      确保一个纯粹否定的文本搜索查询（如<literal>!foo</literal>）
	  匹配空的<type>tsvector</type> (Tom Dunstan)
     </para>

<!--==========================orignal english content==========================
     <para>
      Such matches were found by GIN index searches, but not by sequential
      scans or GiST index searches.
     </para>
____________________________________________________________________________-->
     <para>
      这种匹配是通过GIN索引搜索找到的，但不是通过顺序扫描或GiST索引搜索。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Prevent crash when <function>ts_rewrite()</function> replaces a non-top-level
      subtree with an empty query (Artur Zakirov)
     </para>
____________________________________________________________________________-->
     <para>
      当<function>ts_rewrite()</function>用一个空查询替换一个非顶级子树时防止崩溃 (Artur Zakirov)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix performance problems in <function>ts_rewrite()</function> (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<function>ts_rewrite()</function>中的性能问题 (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <function>ts_rewrite()</function>'s handling of nested NOT operators
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<function>ts_rewrite()</function>对嵌套的NOT运算符的处理
      (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <function>array_fill()</function> to handle empty arrays properly (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<function>array_fill()</function>以正确处理空数组 (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix one-byte buffer overrun in <function>quote_literal_cstr()</function>
      (Heikki Linnakangas)
     </para>
____________________________________________________________________________-->
     <para>
      修复<function>quote_literal_cstr()</function>中一个字节的缓冲区溢出
      (Heikki Linnakangas)
     </para>

<!--==========================orignal english content==========================
     <para>
      The overrun occurred only if the input consisted entirely of single
      quotes and/or backslashes.
     </para>
____________________________________________________________________________-->
     <para>
      只有当输入完全由单引号和/或反斜杠组成时才会发生溢出。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Prevent multiple calls of <function>pg_start_backup()</function>
      and <function>pg_stop_backup()</function> from running concurrently (Michael
      Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      防止<function>pg_start_backup()</function>
      和<function>pg_stop_backup()</function>的多个调用同时运行 (Michael
      Paquier)
     </para>

<!--==========================orignal english content==========================
     <para>
      This avoids an assertion failure, and possibly worse things, if
      someone tries to run these functions in parallel.
     </para>
____________________________________________________________________________-->
     <para>
      这可以避免断言失败，并且如果有人试图并行运行这些功能，可能会更糟糕。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid discarding <type>interval</type>-to-<type>interval</type> casts
      that aren't really no-ops (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      避免丢弃并不是真的没有操作的<type>interval</type>到<type>interval</type>强制转换
	  (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      In some cases, a cast that should result in zeroing out
      low-order <type>interval</type> fields was mistakenly deemed to be a
      no-op and discarded.  An example is that casting from <type>INTERVAL
      MONTH</type> to <type>INTERVAL YEAR</type> failed to clear the months field.
     </para>
____________________________________________________________________________-->
     <para>
      在某些情况下，应该导致低位<type>interval</type>
	  字段清零的强制转换被错误地视为没有操作并丢弃。
	  例如，从<type>INTERVAL MONTH</type>转换为<type>INTERVAL YEAR</type>
	  无法清除月份字段。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Ensure that cached plans are invalidated by changes in foreign-table
      options (Amit Langote, Etsuro Fujita, Ashutosh Bapat)
     </para>
____________________________________________________________________________-->
     <para>
      确保缓存的计划通过更改外部表选项而失效 (Amit Langote, Etsuro Fujita, Ashutosh Bapat)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>pg_dump</application> to dump user-defined casts and transforms
      that use built-in functions (Stephen Frost)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>pg_dump</application>以转储使用内置函数的用户定义的强制转换
	  （cast）和转换（transform） (Stephen Frost)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>pg_restore</application> with <option>-&minus;create -&minus;if-exists</option>
      to behave more sanely if an archive contains
      unrecognized <command>DROP</command> commands (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      如果归档包含无法识别的<command>DROP</command>命令，
	  修复使用<option>--create --if-exists</option>的<application>pg_restore</application>
	  使其表现得更加理智 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This doesn't fix any live bug, but it may improve the behavior in
      future if <application>pg_restore</application> is used with an archive
      generated by a later <application>pg_dump</application> version.
     </para>
____________________________________________________________________________-->
     <para>
      这不会修复任何活动错误，但如果将<application>pg_restore</application>
	  用于由稍后的<application>pg_dump</application>版本生成的归档，它可能会改善此行为。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>pg_basebackup</application>'s rate limiting in the presence of
      slow I/O (Antonin Houska)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>pg_basebackup</application>在存在缓慢I/O时的速率限制 (Antonin Houska)
     </para>

<!--==========================orignal english content==========================
     <para>
      If disk I/O was transiently much slower than the specified rate
      limit, the calculation overflowed, effectively disabling the rate
      limit for the rest of the run.
     </para>
____________________________________________________________________________-->
     <para>
      如果磁盘I/O暂时远低于指定的速率限制，则计算溢出，从而有效禁用剩余运行的速率限制。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>pg_basebackup</application>'s handling of
      symlinked <filename>pg_stat_tmp</filename> and <filename>pg_replslot</filename>
      subdirectories (Magnus Hagander, Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>pg_basebackup</application>处理符号链接的<filename>pg_stat_tmp</filename>
	  和<filename>pg_replslot</filename>子目录 (Magnus Hagander, Michael Paquier)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix possible <application>pg_basebackup</application> failure on standby
      server when including WAL files (Amit Kapila, Robert Haas)
     </para>
____________________________________________________________________________-->
     <para>
      包含WAL文件时，修复备用服务器上可能的<application>pg_basebackup</application>故障
	  (Amit Kapila, Robert Haas)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Ensure that the Python exception objects we create for PL/Python are
      properly reference-counted (Rafa de la Torre, Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      确保我们为PL/Python创建的Python异常对象被正确引用计数 (Rafa de la Torre, Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This avoids failures if the objects are used after a Python garbage
      collection cycle has occurred.
     </para>
____________________________________________________________________________-->
     <para>
      这样可以避免在Python垃圾回收循环发生后使用对象时出现故障。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix PL/Tcl to support triggers on tables that have <literal>.tupno</literal>
      as a column name (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复PL/Tcl以支持将<literal>.tupno</literal>作为列名的表的触发器 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This matches the (previously undocumented) behavior of
      PL/Tcl's <command>spi_exec</command> and <command>spi_execp</command> commands,
      namely that a magic <literal>.tupno</literal> column is inserted only if
      there isn't a real column named that.
     </para>
____________________________________________________________________________-->
     <para>
      这与PL/Tcl的<command>spi_exec</command>和<command>spi_execp</command>
	  命令的（以前未记录的）行为相匹配，即只有在没有真正的列名称时才插入
	  <literal>.tupno</literal>列。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Allow DOS-style line endings in <filename>~/.pgpass</filename> files,
      even on Unix (Vik Fearing)
     </para>
____________________________________________________________________________-->
     <para>
      在<filename>~/.pgpass</filename>文件中允许DOS风格的行结尾，即使在Unix上也是如此
	  (Vik Fearing)
     </para>

<!--==========================orignal english content==========================
     <para>
      This change simplifies use of the same password file across Unix and
      Windows machines.
     </para>
____________________________________________________________________________-->
     <para>
      这一更改简化了Unix和Windows机器上相同密码文件的使用。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix one-byte buffer overrun if <application>ecpg</application> is given a file
      name that ends with a dot (Takayuki Tsunakawa)
     </para>
____________________________________________________________________________-->
     <para>
      如果给<application>ecpg</application>指定了一个以点结尾的文件名，
	  则修复一个字节的缓冲区溢出 (Takayuki Tsunakawa)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>psql</application>'s tab completion for <command>ALTER DEFAULT
      PRIVILEGES</command> (Gilles Darold, Stephen Frost)
     </para>
____________________________________________________________________________-->
     <para>
      修复<command>ALTER DEFAULT PRIVILEGES</command>的
	  <application>psql</application>的tab完成 (Gilles Darold, Stephen Frost)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      In <application>psql</application>, treat an empty or all-blank setting of
      the <envar>PAGER</envar> environment variable as meaning <quote>no
      pager</quote> (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      在<application>psql</application>中，将<envar>PAGER</envar>
	  环境变量的空白或全空白设置视为<quote>no pager</quote> (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, such a setting caused output intended for the pager to
      vanish entirely.
     </para>
____________________________________________________________________________-->
     <para>
      以前，这样的设置导致用于分页的输出完全消失。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Improve <filename>contrib/dblink</filename>'s reporting of
      low-level <application>libpq</application> errors, such as out-of-memory
      (Joe Conway)
     </para>
____________________________________________________________________________-->
     <para>
      改进<filename>contrib/dblink</filename>对低级
	  <application>libpq</application>错误的报告，比如内存不足
      (Joe Conway)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Teach <filename>contrib/dblink</filename> to ignore irrelevant server options
      when it uses a <filename>contrib/postgres_fdw</filename> foreign server as
      the source of connection options (Corey Huinker)
     </para>
____________________________________________________________________________-->
     <para>
      当使用<filename>contrib/postgres_fdw</filename>外部服务器作为连接选项的来源时，
	  让<filename>contrib/dblink</filename>忽略不相关的服务器选项
	  (Corey Huinker)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, if the foreign server object had options that were not
      also <application>libpq</application> connection options, an error occurred.
     </para>
____________________________________________________________________________-->
     <para>
      以前，如果外部服务器对象的选项不是<application>libpq</application>连接选项，
	  则会发生错误。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      On Windows, ensure that environment variable changes are propagated
      to DLLs built with debug options (Christian Ullrich)
     </para>
____________________________________________________________________________-->
     <para>
      在Windows上，确保将环境变量更改传播到使用调试选项构建的DLL (Christian Ullrich)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Sync our copy of the timezone library with IANA release tzcode2016j
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      将我们的时区库副本与IANA发行版tzcode2016j同步
      (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This fixes various issues, most notably that timezone data
      installation failed if the target directory didn't support hard
      links.
     </para>
____________________________________________________________________________-->
     <para>
      这解决了各种问题，尤其是如果目标目录不支持硬链接，时区数据安装失败。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Update time zone data files to <application>tzdata</application> release 2016j
      for DST law changes in northern Cyprus (adding a new zone
      Asia/Famagusta), Russia (adding a new zone Europe/Saratov), Tonga,
      and Antarctica/Casey.
      Historical corrections for Italy, Kazakhstan, Malta, and Palestine.
      Switch to preferring numeric zone abbreviations for Tonga.
     </para>
____________________________________________________________________________-->
     <para>
      将时区数据文件更新为<application>tzdata</application> release 2016j。
	  用于北塞浦路斯（增加一个新区域Asia/Famagusta）、俄罗斯
	  （增加一个新区域Europe/Saratov）、汤加和南极洲/凯西的DST法律变更。
	  对意大利、哈萨克斯坦、马耳他和巴勒斯坦的历史性更正。
	  为汤加切换至更受欢迎的数字区域缩写。
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-9-4-10">
<!--==========================orignal english content==========================
  <title>Release 9.4.10</title>
____________________________________________________________________________-->
  <title>版本 9.4.10</title>

  <formalpara>
<!--==========================orignal english content==========================
  <title>Release date:</title>
____________________________________________________________________________-->
  <title>发布日期:</title>
<!--==========================orignal english content==========================
  <para>2016-10-27</para>
____________________________________________________________________________-->
  <para>2016-10-27</para>
  </formalpara>

<!--==========================orignal english content==========================
  <para>
   This release contains a variety of fixes from 9.4.9.
   For information about new features in the 9.4 major release, see
   <xref linkend="release-9-4">.
  </para>
____________________________________________________________________________-->
  <para>
   此版本包含9.4.9的各种修补程序。有关9.4主要版本中的新功能的信息，请查看
   <xref linkend="release-9-4">。
  </para>

  <sect2>
<!--==========================orignal english content==========================
   <title>Migration to Version 9.4.10</title>
____________________________________________________________________________-->
   <title>迁移到版本 9.4.10</title>

<!--==========================orignal english content==========================
   <para>
    A dump/restore is not required for those running 9.4.X.
   </para>
____________________________________________________________________________-->
   <para>
    运行9.4.X的用户不需要转储/恢复。
   </para>

<!--==========================orignal english content==========================
   <para>
    However, if your installation has been affected by the bug described in
    the first changelog entry below, then after updating you may need
    to take action to repair corrupted free space maps.
   </para>
____________________________________________________________________________-->
   <para>
    但是，如果您的安装受到以下修改列表中第一条描述的错误的影响，
	那么在更新之后，您可能需要采取措施修复损坏的可用空间映射。
   </para>

<!--==========================orignal english content==========================
   <para>
    Also, if you are upgrading from a version earlier than 9.4.6,
    see <xref linkend="release-9-4-6">.
   </para>
____________________________________________________________________________-->
   <para>
    另外，如果您从早于9.4.6的版本进行升级，
	请查看<xref linkend="release-9-4-6">。
   </para>
  </sect2>

  <sect2>
<!--==========================orignal english content==========================
   <title>Changes</title>
____________________________________________________________________________-->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix WAL-logging of truncation of relation free space maps and
      visibility maps (Pavan Deolasee, Heikki Linnakangas)
     </para>
____________________________________________________________________________-->
     <para>
      修复关系自由空间映射和可见性映射截断的WAL日志记录
	  (Pavan Deolasee, Heikki Linnakangas)
     </para>

<!--==========================orignal english content==========================
     <para>
      It was possible for these files to not be correctly restored during
      crash recovery, or to be written incorrectly on a standby server.
      Bogus entries in a free space map could lead to attempts to access
      pages that have been truncated away from the relation itself, typically
      producing errors like <quote>could not read block <replaceable>XXX</replaceable>:
      read only 0 of 8192 bytes</quote>.  Checksum failures in the
      visibility map are also possible, if checksumming is enabled.
     </para>
____________________________________________________________________________-->
     <para>
      在故障恢复期间可能无法正确恢复这些文件，或者在备用服务器上写入不正确。
	  自由空间映射中的伪造条目可能导致尝试访问已从关系本身截断的页面，
	  通常会产生像<quote>could not read block <replaceable>XXX</replaceable>：
	  read only 0 of 8192 bytes</quote>这样的错误。如果启用校验和，
	  则可见性映射中的校验和失败也是可能的。
     </para>

<!--==========================orignal english content==========================
     <para>
      Procedures for determining whether there is a problem and repairing it
      if so are discussed at
      <ulink url="https://wiki.postgresql.org/wiki/Free_Space_Map_Problems"></ulink>.
     </para>
____________________________________________________________________________-->
     <para>
      在<ulink url="https://wiki.postgresql.org/wiki/Free_Space_Map_Problems"></ulink>
	  中讨论确定这是否存在问题和修复它的步骤。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix incorrect creation of GIN index WAL records on big-endian machines
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复在big-endian机器上创建GIN索引WAL记录的错误
      (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      The typical symptom was <quote>unexpected GIN leaf action</quote> errors
      during WAL replay.
     </para>
____________________________________________________________________________-->
     <para>
      典型的症状是在WAL重播期间出现<quote>unexpected GIN leaf action</quote>错误。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <command>SELECT FOR UPDATE/SHARE</command> to correctly lock tuples that
      have been updated by a subsequently-aborted transaction
      (&Aacute;lvaro Herrera)
     </para>
____________________________________________________________________________-->
     <para>
      修复<command>SELECT FOR UPDATE/SHARE</command>
	  以正确锁定已由随后中止的事务更新的元组
      (&Aacute;lvaro Herrera)
     </para>
<!--==========================orignal english content==========================
     <para>
      In 9.5 and later, the <command>SELECT</command> would sometimes fail to
      return such tuples at all.  A failure has not been proven to occur in
      earlier releases, but might be possible with concurrent updates.
     </para>
____________________________________________________________________________-->
     <para>
      在9.5及更高版本中，<command>SELECT</command>有时根本无法返回这些元组。
	  在早期版本中未发生故障，但并发更新可能会发生。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix EvalPlanQual rechecks involving CTE scans (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复涉及CTE扫描的EvalPlanQual重新检查 (Tom Lane)
     </para>
<!--==========================orignal english content==========================
     <para>
      The recheck would always see the CTE as returning no rows, typically
      leading to failure to update rows that were recently updated.
     </para>
____________________________________________________________________________-->
     <para>
      重新检查总是会将CTE视为不返回行，通常会导致无法更新最近更新的行。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix improper repetition of previous results from hashed aggregation in
      a subquery (Andrew Gierth)
     </para>
____________________________________________________________________________-->
     <para>
      修复子查询中散列聚合的先前结果的不正确重复 (Andrew Gierth)
     </para>

<!--==========================orignal english content==========================
     <para>
      The test to see if we can reuse a previously-computed hash table of
      the aggregate state values neglected the possibility of an outer query
      reference appearing in an aggregate argument expression.  A change in
      the value of such a reference should lead to recalculating the hash
      table, but did not.
     </para>
____________________________________________________________________________-->
     <para>
      测试以查看我们是否可以重用先前计算的聚合状态值的散列表，
	  忽略了外部查询引用出现在聚合参数表达式中的可能性。
	  这种引用的值的改变应该导致重新计算散列表，但是没有。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix query-lifespan memory leak in a bulk <command>UPDATE</command> on a table
      with a <literal>PRIMARY KEY</literal> or <literal>REPLICA IDENTITY</literal> index
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复具有<literal>PRIMARY KEY</literal>或<literal>REPLICA IDENTITY</literal>
	  索引的表上批量<command>UPDATE</command>中的查询寿命内存泄漏
      (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <command>EXPLAIN</command> to emit valid XML when
      <xref linkend="guc-track-io-timing"> is on (Markus Winand)
     </para>
____________________________________________________________________________-->
     <para>
      当<xref linkend="guc-track-io-timing">打开时，修复
	  <command>EXPLAIN</command>发出有效的XML (Markus Winand)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously the XML output-format option produced syntactically invalid
      tags such as <literal>&lt;I/O-Read-Time&gt;</literal>.  That is now
      rendered as <literal>&lt;I-O-Read-Time&gt;</literal>.
     </para>
____________________________________________________________________________-->
     <para>
      以前，XML输出格式选项会产生语法上无效的标签，例如<literal>&lt;I/O-Read-Time&gt;</literal>。
	  现在这呈现为<literal>&lt;I-O-Read-Time&gt;</literal>。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Suppress printing of zeroes for unmeasured times
      in <command>EXPLAIN</command> (Maksim Milyutin)
     </para>
____________________________________________________________________________-->
     <para>
      在<command>EXPLAIN</command>中禁止将无法测量的时间打印为零
	  (Maksim Milyutin)
     </para>
<!--==========================orignal english content==========================
     <para>
      Certain option combinations resulted in printing zero values for times
      that actually aren't ever measured in that combination.  Our general
      policy in <command>EXPLAIN</command> is not to print such fields at all, so
      do that consistently in all cases.
     </para>
____________________________________________________________________________-->
     <para>
      某些选项组合导致实际上并未在该组合中进行测量的时间打印零值。我们在
	  <command>EXPLAIN</command>中的一般策略是不打印这些字段，
	  所以在所有情况下都要一致。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix timeout length when <command>VACUUM</command> is waiting for exclusive
      table lock so that it can truncate the table (Simon Riggs)
     </para>
____________________________________________________________________________-->
     <para>
      修复<command>VACUUM</command>等待独占表锁定时的超时长度，以便它可以截断表 (Simon Riggs)
     </para>
<!--==========================orignal english content==========================
     <para>
      The timeout was meant to be 50 milliseconds, but it was actually only
      50 microseconds, causing <command>VACUUM</command> to give up on truncation
      much more easily than intended.  Set it to the intended value.
     </para>
____________________________________________________________________________-->
     <para>
      超时时间应该是50毫秒，但实际上它只有50微秒，导致<command>VACUUM</command>
	  比预期更容易放弃截断。将其设置为预期值。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix bugs in merging inherited <literal>CHECK</literal> constraints while
      creating or altering a table (Tom Lane, Amit Langote)
     </para>
____________________________________________________________________________-->
     <para>
      修复在创建或更改表时合并继承的<literal>CHECK</literal>约束中的错误
	  (Tom Lane, Amit Langote)
     </para>
<!--==========================orignal english content==========================
     <para>
      Allow identical <literal>CHECK</literal> constraints to be added to a parent
      and child table in either order.  Prevent merging of a valid
      constraint from the parent table with a <literal>NOT VALID</literal>
      constraint on the child.  Likewise, prevent merging of a <literal>NO
      INHERIT</literal> child constraint with an inherited constraint.
     </para>
____________________________________________________________________________-->
     <para>
      允许按照任意顺序将相同的<literal>CHECK</literal>约束添加到父表和子表中。
	  阻止合并父表中的有效约束与子节点上的<literal>NOT VALID</literal>约束。
	  同样，阻止将<literal>NOT INHERIT</literal>子约束与继承约束合并。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Remove artificial restrictions on the values accepted
      by <function>numeric_in()</function> and <function>numeric_recv()</function>
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      删除对<function>numeric_in()</function>和<function>numeric_recv()</function>
	  接受的值的人为限制
	  (Tom Lane)
     </para>
<!--==========================orignal english content==========================
     <para>
      We allow numeric values up to the limit of the storage format (more
      than <literal>1e100000</literal>), so it seems fairly pointless
      that <function>numeric_in()</function> rejected scientific-notation exponents
      above 1000.  Likewise, it was silly for <function>numeric_recv()</function> to
      reject more than 1000 digits in an input value.
     </para>
____________________________________________________________________________-->
     <para>
      我们允许数值达到存储格式的限制（超过<literal>1e100000</literal>），
	  所以看起来毫无意义的是<function>numeric_in()</function>拒绝了高于1000的科学记数法指数。
	  同样，很愚蠢的是<function>numeric_recv()</function>在输入值中拒绝超过1000位。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid very-low-probability data corruption due to testing tuple
      visibility without holding buffer lock (Thomas Munro, Peter Geoghegan,
      Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      避免由于在不保留缓冲区锁定的情况下测试元组可见性而造成非常低概率的数据损坏 (Thomas Munro, Peter Geoghegan,
      Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix logical WAL decoding to work properly when a subtransaction's WAL
      output is large enough to spill to disk (Andres Freund)
     </para>
____________________________________________________________________________-->
     <para>
      当一个子事务的WAL输出足够大以至于溢出到磁盘时，修复逻辑WAL解码以正常工作
	  (Andres Freund)
     </para>
    </listitem>

    <listitem>
<!--
Author: Tom Lane <tgl@sss.pgh.pa.us>
Branch: REL9_4_STABLE [10ad15f48] 2016-09-01 11:45:16 -0400
-->
<!--==========================orignal english content==========================
     <para>
      Fix buffer overread in logical WAL decoding (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复逻辑WAL解码中的缓冲区溢出 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Logical decoding of a tuple update record read 23 bytes too many,
      which was usually harmless but with very bad luck could result in a
      crash.
     </para>
____________________________________________________________________________-->
     <para>
      元组更新记录的逻辑解码读取23个字节太多了，这通常是无害的，
	  但运气不好可能会导致崩溃。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix file descriptor leakage when truncating a temporary relation of
      more than 1GB (Andres Freund)
     </para>
____________________________________________________________________________-->
     <para>
      修复截断大于1GB的临时关系时的文件描述符泄漏 (Andres Freund)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Disallow starting a standalone backend with <literal>standby_mode</literal>
      turned on (Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      在开启了<literal>standby_mode</literal>时，不允许启动一个独立的后端
	  (Michael Paquier)
     </para>

<!--==========================orignal english content==========================
     <para>
      This can't do anything useful, since there will be no WAL receiver
      process to fetch more WAL data; and it could result in misbehavior
      in code that wasn't designed with this situation in mind.
     </para>
____________________________________________________________________________-->
     <para>
      这不能做任何有用的事情，因为没有WAL接收器过程来获取更多的WAL数据；
	  这可能会导致代码中的错误行为，而这些代码在设计时并未考虑到这种情况。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Properly initialize replication slot state when recycling a
      previously-used slot (Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      在回收先前使用的插槽时正确地初始化复制插槽状态 (Michael Paquier)
     </para>

<!--==========================orignal english content==========================
     <para>
      This failure to reset all of the fields of the slot could
      prevent <command>VACUUM</command> from removing dead tuples.
     </para>
____________________________________________________________________________-->
     <para>
      无法重置插槽的所有字段可能会阻止<command>VACUUM</command>删除无用的元组。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Round shared-memory allocation request to a multiple of the actual
      huge page size when attempting to use huge pages on Linux (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      当试图在Linux上使用大页面时，将共享内存分配请求四舍五入为实际巨大页面大小的倍数
	  (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This avoids possible failures during <function>munmap()</function> on systems
      with atypical default huge page sizes.  Except in crash-recovery
      cases, there were no ill effects other than a log message.
     </para>
____________________________________________________________________________-->
     <para>
      这避免了在具有非典型默认巨大页面大小的系统上的<function>munmap()</function>期间可能的失败。
	  除了在故障恢复情况下，除了日志消息外，没有任何不良影响。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Use a more random value for the dynamic shared memory control
      segment's ID (Robert Haas, Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      对动态共享内存控制段的ID使用更随机的值 (Robert Haas, Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, the same value would be chosen every time, because it was
      derived from <function>random()</function> but <function>srandom()</function> had not
      yet been called.  While relatively harmless, this was not the intended
      behavior.
     </para>
____________________________________________________________________________-->
     <para>
      以前，每次都会选择相同的值，因为它是从<function>random()</function>派生的，
	  但是尚未调用<function>srandom()</function>。虽然相对无害，但这不是预期的行为。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      On Windows, retry creation of the dynamic shared memory control
      segment after an access-denied error (Kyotaro Horiguchi, Amit Kapila)
     </para>
____________________________________________________________________________-->
     <para>
      在Windows上，在拒绝访问错误之后重新尝试创建动态共享内存控制段
	  (Kyotaro Horiguchi, Amit Kapila)
     </para>

<!--==========================orignal english content==========================
     <para>
      Windows sometimes returns <literal>ERROR_ACCESS_DENIED</literal> rather
      than <literal>ERROR_ALREADY_EXISTS</literal> when there is an existing
      segment.  This led to postmaster startup failure due to believing that
      the former was an unrecoverable error.
     </para>
____________________________________________________________________________-->
     <para>
      当已经有一个段时，Windows有时会返回<literal>ERROR_ACCESS_DENIED</literal>
	  而不是<literal>ERROR_ALREADY_EXISTS</literal>。这导致postmaster启动失败，
	  因为他们认为前者是一个不可恢复的错误。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Don't try to share SSL contexts across multiple connections
      in <application>libpq</application> (Heikki Linnakangas)
     </para>
____________________________________________________________________________-->
     <para>
      不要尝试在<application>libpq</application>中的多个连接之间共享SSL上下文
	  (Heikki Linnakangas)
     </para>

<!--==========================orignal english content==========================
     <para>
      This led to assorted corner-case bugs, particularly when trying to use
      different SSL parameters for different connections.
     </para>
____________________________________________________________________________-->
     <para>
      这导致了各种各样的极端情况错误，尤其是在尝试为不同的连接使用不同的SSL参数时。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid corner-case memory leak in <application>libpq</application> (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      避免<application>libpq</application>中极端情况内存泄露 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      The reported problem involved leaking an error report
      during <function>PQreset()</function>, but there might be related cases.
     </para>
____________________________________________________________________________-->
     <para>
      所报告的问题涉及在<function>PQreset()</function>期间泄漏错误报告，但可能存在相关情况。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Make <application>ecpg</application>'s <option>-&minus;help</option> and <option>-&minus;version</option>
      options work consistently with our other executables (Haribabu Kommi)
     </para>
____________________________________________________________________________-->
     <para>
      让<application>ecpg</application>的<option>--help</option>和<option>--version</option>
      选项与我们的其他可执行文件保持一致 (Haribabu Kommi)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>pgbench</application>'s calculation of average latency
      (Fabien Coelho)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>pgbench</application>的平均延迟计算
      (Fabien Coelho)
     </para>

<!--==========================orignal english content==========================
     <para>
      The calculation was incorrect when there were <literal>\sleep</literal>
      commands in the script, or when the test duration was specified in
      number of transactions rather than total time.
     </para>
____________________________________________________________________________-->
     <para>
      当脚本中存在<literal>\sleep</literal>命令时，
	  或者测试持续时间是以事务数而不是总时间指定时，计算结果不正确。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      In <application>pg_dump</application>, never dump range constructor functions
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      在<application>pg_dump</application>中，从不转储范围构造函数
      (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This oversight led to <application>pg_upgrade</application> failures with
      extensions containing range types, due to duplicate creation of the
      constructor functions.
     </para>
____________________________________________________________________________-->
     <para>
      由于构造函数的重复创建，这种忽略导致<application>pg_upgrade</application>
	  扩展包含范围类型失败。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      In <application>pg_xlogdump</application>, retry opening new WAL segments when
      using <option>-&minus;follow</option> option (Magnus Hagander)
     </para>
____________________________________________________________________________-->
     <para>
      在<application>pg_xlogdump</application>中，使用
	  <option>--follow</option>选项时重试打开新的WAL段
	  (Magnus Hagander)
     </para>

<!--==========================orignal english content==========================
     <para>
      This allows for a possible delay in the server's creation of the next
      segment.
     </para>
____________________________________________________________________________-->
     <para>
      这可以使服务器创建下一个段时可能出现延迟。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>pg_xlogdump</application> to cope with a WAL file that begins
      with a continuation record spanning more than one page (Pavan
      Deolasee)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>pg_xlogdump</application>
	  以处理以跨越多个页面的延续记录开头的WAL文件 (Pavan
      Deolasee)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <filename>contrib/pg_buffercache</filename> to work
      when <varname>shared_buffers</varname> exceeds 256GB (KaiGai Kohei)
     </para>
____________________________________________________________________________-->
     <para>
      当<varname>shared_buffers</varname>超过256GB时，
	  修复<filename>contrib/pg_buffercache</filename>正常工作 (KaiGai Kohei)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <filename>contrib/intarray/bench/bench.pl</filename> to print the results
      of the <command>EXPLAIN</command> it does when given the <option>-e</option> option
      (Daniel Gustafsson)
     </para>
____________________________________________________________________________-->
     <para>
      修复<filename>contrib/intarray/bench/bench.pl</filename>以打印
      <command>EXPLAIN</command>在给出<option>-e</option>选项时的结果
      (Daniel Gustafsson)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Install TAP test infrastructure so that it's available for extension
      testing (Craig Ringer)
     </para>
____________________________________________________________________________-->
     <para>
      安装TAP测试基础架构，以便它可用于扩展测试 (Craig Ringer)
     </para>

<!--==========================orignal english content==========================
     <para>
      When <productname>PostgreSQL</productname> has been configured
      with <option>-&minus;enable-tap-tests</option>, <quote>make install</quote> will now
      install the Perl support files for TAP testing where PGXS can find
      them.  This allows non-core extensions to
      use <literal>$(prove_check)</literal> without extra tests.
     </para>
____________________________________________________________________________-->
     <para>
      使用<option>--enable-tap-tests</option>配置<productname>PostgreSQL</productname>时，
	  <quote>make install</quote>现在将安装用于TAP测试的Perl支持文件，
	  其中PGXS可以找到他们。这允许非核心扩展使用<literal>$(prove_check)</literal>
	  而无需额外的测试。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      In MSVC builds, include <application>pg_recvlogical</application> in a
      client-only installation (MauMau)
     </para>
____________________________________________________________________________-->
     <para>
      在MSVC构建中，在仅客户端安装中包含<application>pg_recvlogical</application> (MauMau)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Update Windows time zone mapping to recognize some time zone names
      added in recent Windows versions (Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
	更新Windows时区映射以识别最近Windows版本中添加的一些时区名称 (Michael Paquier)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Prevent failure of obsolete dynamic time zone abbreviations (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      防止过时的动态时区缩写失效 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      If a dynamic time zone abbreviation does not match any entry in the
      referenced time zone, treat it as equivalent to the time zone name.
      This avoids unexpected failures when IANA removes abbreviations from
      their time zone database, as they did in <application>tzdata</application>
      release 2016f and seem likely to do again in the future.  The
      consequences were not limited to not recognizing the individual
      abbreviation; any mismatch caused
      the <structname>pg_timezone_abbrevs</structname> view to fail altogether.
     </para>
____________________________________________________________________________-->
     <para>
      如果动态时区缩写与参考时区中的任何条目都不匹配，请将其视为等同于时区名称。
	  这避免了IANA从他们的时区数据库中删除缩写时的意外失败，就像他们在
	  <application>tzdata</application> release 2016f中所做的一样，并且似乎未来可能再次发生。
	  后果不限于不承认个人缩写；任何不匹配都会导致<structname>pg_timezone_abbrevs</structname>
	  视图完全失败。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Update time zone data files to <application>tzdata</application> release 2016h
      for DST law changes in Palestine and Turkey, plus historical
      corrections for Turkey and some regions of Russia.
      Switch to numeric abbreviations for some time zones in Antarctica,
      the former Soviet Union, and Sri Lanka.
     </para>
____________________________________________________________________________-->
     <para>
	  将时区数据文件更新为<application>tzdata</application> release 2016h，
	  用于巴勒斯坦和土耳其的DST法律变更，以及对土耳其和俄罗斯一些地区的历史更正。
	  切换到南极洲、前苏联和斯里兰卡的一些时区的数字缩写。
     </para>

<!--==========================orignal english content==========================
     <para>
      The IANA time zone database previously provided textual abbreviations
      for all time zones, sometimes making up abbreviations that have little
      or no currency among the local population.  They are in process of
      reversing that policy in favor of using numeric UTC offsets in zones
      where there is no evidence of real-world use of an English
      abbreviation.  At least for the time being, <productname>PostgreSQL</productname>
      will continue to accept such removed abbreviations for timestamp input.
      But they will not be shown in the <structname>pg_timezone_names</structname>
      view nor used for output.
     </para>
____________________________________________________________________________-->
     <para>
      IANA时区数据库以前为所有时区提供了文本缩写，
	  有时会提供当地人口中流通很少或没有流通的缩写。他们正在推翻该政策，
	  赞成在没有现实世界中使用英文缩写的地区使用数字UTC偏移量。至少目前来说，
	  <productname>PostgreSQL</productname>将继续接受此类删除的时间戳输入缩写。
	  但它们不会显示在<structname>pg_timezone_names</structname>视图中，也不会用于输出。
     </para>

<!--==========================orignal english content==========================
     <para>
      In this update, <literal>AMT</literal> is no longer shown as being in use to
      mean Armenia Time.  Therefore, we have changed the <literal>Default</literal>
      abbreviation set to interpret it as Amazon Time, thus UTC-4 not UTC+4.
     </para>
____________________________________________________________________________-->
     <para>
      在此更新中，<literal>AMT</literal>不再显示为用于表示亚美尼亚时间。因此，
	  我们已将<literal>Default</literal>缩写集更改为将其解释为Amazon Time，
	  因此是UTC-4而不是UTC+4。
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-9-4-9">
<!--==========================orignal english content==========================
  <title>Release 9.4.9</title>
____________________________________________________________________________-->
  <title>版本 9.4.9</title>

  <formalpara>
<!--==========================orignal english content==========================
  <title>Release date:</title>
____________________________________________________________________________-->
  <title>发布日期：</title>
<!--==========================orignal english content==========================
  <para>2016-08-11</para>
____________________________________________________________________________-->
  <para>2016-08-11</para>
  </formalpara>

<!--==========================orignal english content==========================
  <para>
   This release contains a variety of fixes from 9.4.8.
   For information about new features in the 9.4 major release, see
   <xref linkend="release-9-4">.
  </para>
____________________________________________________________________________-->
  <para>
   这个版本包含各种自9.4.8以来的修复。
   关于9.4主版本的新特性信息，请查看
   <xref linkend="release-9-4">。
  </para>

  <sect2>
<!--==========================orignal english content==========================
   <title>Migration to Version 9.4.9</title>
____________________________________________________________________________-->
   <title>迁移到版本 9.4.9</title>

<!--==========================orignal english content==========================
   <para>
    A dump/restore is not required for those running 9.4.X.
   </para>
____________________________________________________________________________-->
   <para>
    运行9.4.X版本的用户不需要转储/恢复。
   </para>

<!--==========================orignal english content==========================
   <para>
    However, if you are upgrading from a version earlier than 9.4.6,
    see <xref linkend="release-9-4-6">.
   </para>
____________________________________________________________________________-->
   <para>
    不过，如果您是从一个早于9.4.6的版本升级而来，那么请查看
    <xref linkend="release-9-4-6">。
   </para>
  </sect2>

  <sect2>
<!--==========================orignal english content==========================
   <title>Changes</title>
____________________________________________________________________________-->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix possible mis-evaluation of
      nested <literal>CASE</literal>-<literal>WHEN</literal> expressions (Heikki
      Linnakangas, Michael Paquier, Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复嵌套的<literal>CASE</>-<literal>WHEN</>表达式可能的错误估算 (Heikki
      Linnakangas, Michael Paquier, Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      A <literal>CASE</literal> expression appearing within the test value
      subexpression of another <literal>CASE</literal> could become confused about
      whether its own test value was null or not.  Also, inlining of a SQL
      function implementing the equality operator used by
      a <literal>CASE</literal> expression could result in passing the wrong test
      value to functions called within a <literal>CASE</literal> expression in the
      SQL function's body.  If the test values were of different data
      types, a crash might result; moreover such situations could be abused
      to allow disclosure of portions of server memory.  (CVE-2016-5423)
     </para>
____________________________________________________________________________-->
     <para>
      出现在另一个<literal>CASE</>的测试值子表达式中的<literal>CASE</>
      表达式可能会困惑自己的测试值是否为空。此外，
      <literal>CASE</>表达式使用的实现等式运算符的SQL函数的内联，
      可能会导致将错误的测试值传递给在SQL函数体内的<literal>CASE</>
      表达式中调用的函数。如果测试值是不同的数据类型，可能会导致崩溃; 
      此外，这种情况可能被滥用以允许披露服务器存储器的一部分。 (CVE-2016-5423)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix client programs' handling of special characters in database and
      role names (Noah Misch, Nathan Bossart, Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      修复客户端程序在数据库和角色名称中对特殊字符的处理
      (Noah Misch, Nathan Bossart, Michael Paquier)
     </para>

<!--==========================orignal english content==========================
     <para>
      Numerous places in <application>vacuumdb</application> and other client programs
      could become confused by database and role names containing double
      quotes or backslashes.  Tighten up quoting rules to make that safe.
      Also, ensure that when a conninfo string is used as a database name
      parameter to these programs, it is correctly treated as such throughout.
     </para>
____________________________________________________________________________-->
     <para>
      <application>vacuumdb</>
      和其他客户端程序中的许多地方可能会被包含双引号或反斜杠的数据库和角色名称混淆。
      加强引用规则以使其是安全的。此外，确保将conninfo字符串用作这些程序的数据库名称参数时，
      它将被正确地对待。
     </para>

<!--==========================orignal english content==========================
     <para>
      Fix handling of paired double quotes
      in <application>psql</application>'s <command>\connect</command>
      and <command>\password</command> commands to match the documentation.
     </para>
____________________________________________________________________________-->
     <para>
      修正在<application>psql</>的<command>\connect</>和<command>\password</>
      命令中配对双引号的处理，以匹配文档。
     </para>

<!--==========================orignal english content==========================
     <para>
      Introduce a new <option>-reuse-previous</option> option
      in <application>psql</application>'s <command>\connect</command> command to allow
      explicit control of whether to re-use connection parameters from a
      previous connection.  (Without this, the choice is based on whether
      the database name looks like a conninfo string, as before.)  This
      allows secure handling of database names containing special
      characters in <application>pg_dumpall</application> scripts.
     </para>
____________________________________________________________________________-->
     <para>
      在<application>psql</>的<command>\connect</>命令中引入一个新的
      <option>-reuse-previous</>选项，以允许显式控制是否重新使用先前连接的连接参数。
      （没有这个选择是基于数据库名称是否像以前一样是conninfo字符串。）
      这允许在<application>pg_dumpall</>脚本中安全处理包含特殊字符的数据库名称。
     </para>

<!--==========================orignal english content==========================
     <para>
      <application>pg_dumpall</application> now refuses to deal with database and role
      names containing carriage returns or newlines, as it seems impractical
      to quote those characters safely on Windows.  In future we may reject
      such names on the server side, but that step has not been taken yet.
     </para>
____________________________________________________________________________-->
     <para>
      <application>pg_dumpall</>现在拒绝处理包含回车或换行的数据库或角色名，
      因为在Windows上安全的引用这些字符似乎是不切实际的。
      将来我们可能在服务器端拒绝这样的名称，但是现在还未采取这一步骤。
     </para>

<!--==========================orignal english content==========================
     <para>
      These are considered security fixes because crafted object names
      containing special characters could have been used to execute
      commands with superuser privileges the next time a superuser
      executes <application>pg_dumpall</application> or other routine maintenance
      operations.  (CVE-2016-5424)
     </para>
____________________________________________________________________________-->
     <para>
      这些被认为是安全修复程序，
      因为包含特殊字符的制作对象名称可能已被用于在下次超级用户执行
      <application>pg_dumpall</>或其他例行维护操作时执行具有超级用户权限的命令。
      (CVE-2016-5424)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix corner-case misbehaviors for <literal>IS NULL</literal>/<literal>IS NOT
      NULL</literal> applied to nested composite values (Andrew Gierth, Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复针对<literal>IS NULL</>/<literal>IS NOT
      NULL</>应用于嵌套复合值的极端情况错误行为 (Andrew Gierth, Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      The SQL standard specifies that <literal>IS NULL</literal> should return
      TRUE for a row of all null values (thus <literal>ROW(NULL,NULL) IS
      NULL</literal> yields TRUE), but this is not meant to apply recursively
      (thus <literal>ROW(NULL, ROW(NULL,NULL)) IS NULL</literal> yields FALSE).
      The core executor got this right, but certain planner optimizations
      treated the test as recursive (thus producing TRUE in both cases),
      and <filename>contrib/postgres_fdw</filename> could produce remote queries
      that misbehaved similarly.
     </para>
____________________________________________________________________________-->
     <para>
      SQL标准指定<literal>IS NULL</>应该为所有空值的行返回TRUE（因此
      <literal>ROW(NULL,NULL) IS NULL</>产生TRUE），但这并不意味着应用递归
      （因此<literal>ROW(NULL, ROW(NULL,NULL)) IS NULL</>产生FALSE）。
      内核执行器正确执行了，但某些计划器优化将测试视为递归
      （因此在这两种情况下都会产生TRUE），并且<filename>contrib/postgres_fdw</>
      可能会产生类似错误的远程查询。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Make the <type>inet</type> and <type>cidr</type> data types properly reject
      IPv6 addresses with too many colon-separated fields (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      使<type>inet</>和<type>cidr</>
      数据类型正确拒绝具有太多冒号分隔字段的IPv6地址 (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Prevent crash in <function>close_ps()</function>
      (the <type>point</type> <literal>##</literal> <type>lseg</type> operator)
      for NaN input coordinates (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      防止NaN输入坐标的<function>close_ps()</>中的崩溃
      (<type>point</> <literal>##</> <type>lseg</>操作符)
      (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Make it return NULL instead of crashing.
     </para>
____________________________________________________________________________-->
     <para>
      使其返回NULL而不是崩溃。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid possible crash in <function>pg_get_expr()</function> when inconsistent
      values are passed to it (Michael Paquier, Thomas Munro)
     </para>
____________________________________________________________________________-->
     <para>
      避免在<function>pg_get_expr()</>中传递不一致的值时发生崩溃
      (Michael Paquier, Thomas Munro)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix several one-byte buffer over-reads in <function>to_number()</function>
      (Peter Eisentraut)
     </para>
____________________________________________________________________________-->
     <para>
      修复<function>to_number()</>中的几个单字节缓冲区溢出
      (Peter Eisentraut)
     </para>

<!--==========================orignal english content==========================
     <para>
      In several cases the <function>to_number()</function> function would read one
      more character than it should from the input string.  There is a
      small chance of a crash, if the input happens to be adjacent to the
      end of memory.
     </para>
____________________________________________________________________________-->
     <para>
      在某些情况下<function>to_number()</>函数将从输入字符串中多读取一个字符。
      如果输入恰好与内存的结束相邻，那么会有可能崩溃。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Do not run the planner on the query contained in <literal>CREATE
      MATERIALIZED VIEW</literal> or <literal>CREATE TABLE AS</literal>
      when <literal>WITH NO DATA</literal> is specified (Michael Paquier,
      Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      当指定了<literal>WITH NO DATA</>时，不要在包含在<literal>CREATE
      MATERIALIZED VIEW</>或<literal>CREATE TABLE AS</>
      中的查询上运行规划器 (Michael Paquier,
      Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This avoids some unnecessary failure conditions, for example if a
      stable function invoked by the materialized view depends on a table
      that doesn't exist yet.
     </para>
____________________________________________________________________________-->
     <para>
      这避免了一些不必要的失败条件，例如，如果物化视图调用的稳定函数依赖于尚不存在的表。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid unsafe intermediate state during expensive paths
      through <function>heap_update()</function> (Masahiko Sawada, Andres Freund)
     </para>
____________________________________________________________________________-->
     <para>
      通过<function>heap_update()</>在昂贵的路径中避免不安全的中间状态
      (Masahiko Sawada, Andres Freund)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, these cases locked the target tuple (by setting its XMAX)
      but did not WAL-log that action, thus risking data integrity problems
      if the page were spilled to disk and then a database crash occurred
      before the tuple update could be completed.
     </para>
____________________________________________________________________________-->
     <para>
      以前，这些情况锁定了目标元组（通过设置其XMAX），但没有WAL-log这个操作，
      因此如果页面溢出到磁盘，然后在元组更新完成之前发生数据库崩溃，
      就会有数据完整性问题的风险。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix hint bit update during WAL replay of row locking operations
      (Andres Freund)
     </para>
____________________________________________________________________________-->
     <para>
      在行锁定操作的WAL重放期间修正提示位更新
      (Andres Freund)
     </para>

<!--==========================orignal english content==========================
     <para>
      The only known consequence of this problem is that row locks held by
      a prepared, but uncommitted, transaction might fail to be enforced
      after a crash and restart.
     </para>
____________________________________________________________________________-->
     <para>
      这个问题的唯一已知后果是，由准备但未提交的事务持有的行锁在崩溃和重新启动后可能无法执行。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid unnecessary <quote>could not serialize access</quote> errors when
      acquiring <literal>FOR KEY SHARE</literal> row locks in serializable mode
      (&Aacute;lvaro Herrera)
     </para>
____________________________________________________________________________-->
     <para>
      当在序列化模式中请求<literal>FOR KEY SHARE</>行锁时，
      避免不必要的<quote>could not serialize access</>错误
      (&Aacute;lvaro Herrera)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid crash in <literal>postgres -C</literal> when the specified variable
      has a null string value (Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      当指定的变量具有空字符串值时，避免在<literal>postgres -C</>中崩溃
      (Michael Paquier)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix possible loss of large subtransactions in logical decoding
      (Petru-Florin Mihancea)
     </para>
____________________________________________________________________________-->
     <para>
      修复逻辑解码中可能的大量子事务丢失
      (Petru-Florin Mihancea)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
    <para>
      Fix failure of logical decoding when a subtransaction contains no
      actual changes (Marko Tiikkaja, Andrew Gierth)
     </para>
____________________________________________________________________________-->
    <para>
      当子事务不包含实际修改时，修复逻辑解码失败 (Marko Tiikkaja, Andrew Gierth)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Ensure that backends see up-to-date statistics for shared catalogs
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      确保后端查看共享目录的最新统计信息
      (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      The statistics collector failed to update the statistics file for
      shared catalogs after a request from a regular backend.  This problem
      was partially masked because the autovacuum launcher regularly makes
      requests that did cause such updates; however, it became obvious with
      autovacuum disabled.
     </para>
____________________________________________________________________________-->
     <para>
      在普通后端的请求后，统计信息收集器无法更新共享目录的统计信息文件。
      这个问题被部分掩盖了，因为自动清理启动器定期发出导致这种更新的请求;
      然而，禁用自动清理后变得明显。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid redundant writes of the statistics files when multiple
      backends request updates close together (Tom Lane, Tomas Vondra)
     </para>
____________________________________________________________________________-->
     <para>
      当多个后端请求更新时，请避免对统计文件进行冗余写入 (Tom Lane, Tomas Vondra)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid consuming a transaction ID during <command>VACUUM</command>
      (Alexander Korotkov)
     </para>
____________________________________________________________________________-->
     <para>
      避免在<command>VACUUM</>期间使用事务ID
      (Alexander Korotkov)
     </para>

<!--==========================orignal english content==========================
     <para>
      Some cases in <command>VACUUM</command> unnecessarily caused an XID to be
      assigned to the current transaction.  Normally this is negligible,
      but if one is up against the XID wraparound limit, consuming more
      XIDs during anti-wraparound vacuums is a very bad thing.
     </para>
____________________________________________________________________________-->
     <para>
      <command>VACUUM</>中的某些情况不必要地导致将XID分配给当前事务。
      通常这是可以忽略不计的，但如果是针对XID环绕限制，
      在反包装清理中消耗更多的XID是一件非常糟糕的事情。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid canceling hot-standby queries during <command>VACUUM FREEZE</command>
      (Simon Riggs, &Aacute;lvaro Herrera)
     </para>
____________________________________________________________________________-->
     <para>
      避免在<command>VACUUM FREEZE</>期间取消热备用查询
      (Simon Riggs, &Aacute;lvaro Herrera)
     </para>

<!--==========================orignal english content==========================
     <para>
      <command>VACUUM FREEZE</command> on an otherwise-idle master server could
      result in unnecessary cancellations of queries on its standby
      servers.
     </para>
____________________________________________________________________________-->
     <para>
      在空闲的主服务器上的<command>VACUUM FREEZE</>
      可能导致在其备用服务器上不必要地取消查询。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Prevent possible failure when vacuuming multixact IDs in an
      installation that has been pg_upgrade'd from pre-9.3 (Andrew Gierth,
      &Aacute;lvaro Herrera)
     </para>
____________________________________________________________________________-->
     <para>
      在从9.3之前pg_upgrade的安装中清理多重ID时，防止可能的失败
      (Andrew Gierth,&Aacute;lvaro Herrera)
     </para>

<!--==========================orignal english content==========================
     <para>
      The usual symptom of this bug is errors
      like <quote>MultiXactId <replaceable>NNN</replaceable> has not been created
      yet -&minus; apparent wraparound</quote>.
     </para>
____________________________________________________________________________-->
     <para>
      这个bug的常见情况是像<quote>MultiXactId <replaceable>NNN</> has not been created
      yet -- apparent wraparound</quote>这样的错误。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      When a manual <command>ANALYZE</command> specifies a column list, don't
      reset the table's <literal>changes_since_analyze</literal> counter
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      当手动<command>ANALYZE</>指定列列表时，请不要重置表的
      <literal>changes_since_analyze</>计数器 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      If we're only analyzing some columns, we should not prevent routine
      auto-analyze from happening for the other columns.
     </para>
____________________________________________________________________________-->
     <para>
      如果我们只是分析一些列，我们不应该阻止对其他列的日常自动分析。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <command>ANALYZE</command>'s overestimation of <literal>n_distinct</literal>
      for a unique or nearly-unique column with many null entries (Tom
      Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<command>ANALYZE</>对具有许多空条目的唯一或几乎唯一的列进行过高估计
      <literal>n_distinct</> (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      The nulls could get counted as though they were themselves distinct
      values, leading to serious planner misestimates in some types of
      queries.
     </para>
____________________________________________________________________________-->
     <para>
      空值可以被计数就像它们本身是不同的值，导致在某些类型的查询中严重的规划器错误估计。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Prevent autovacuum from starting multiple workers for the same shared
      catalog (&Aacute;lvaro Herrera)
     </para>
____________________________________________________________________________-->
     <para>
      防止autovacuum启动为同一个共享目录的多个工作进程 (&Aacute;lvaro Herrera)
     </para>

<!--==========================orignal english content==========================
     <para>
      Normally this isn't much of a problem because the vacuum doesn't take
      long anyway; but in the case of a severely bloated catalog, it could
      result in all but one worker uselessly waiting instead of doing
      useful work on other tables.
     </para>
____________________________________________________________________________-->
     <para>
      通常这不是很大的问题，因为清理不需要很长时间；但是在目录严重膨胀的情况下，
      除了一个工作进程外，所有工作进程都将无用地等待，而不是在其他表格上进行有用的工作。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid duplicate buffer lock release when abandoning a b-tree index
      page deletion attempt (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      在放弃b-tree索引页删除尝试时避免重复的缓冲区锁释放 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This mistake prevented <command>VACUUM</command> from completing in some
      cases involving corrupt b-tree indexes.
     </para>
____________________________________________________________________________-->
     <para>
      在某些情况下，包括损坏的b-tree索引，这种错误阻止了<command>VACUUM</>完成。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Prevent infinite loop in GiST index build for geometric columns
      containing NaN component values (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      阻止GiST索引构建中包含NaN组件值的几何列的无限循环 (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <filename>contrib/btree_gin</filename> to handle the smallest
      possible <type>bigint</type> value correctly (Peter Eisentraut)
     </para>
____________________________________________________________________________-->
     <para>
      修复<filename>contrib/btree_gin</>，以正确处理最小可能的
      <type>bigint</>值 (Peter Eisentraut)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Teach libpq to correctly decode server version from future servers
      (Peter Eisentraut)
     </para>
____________________________________________________________________________-->
     <para>
      教会libpq正确解码未来服务器的服务器版本
      (Peter Eisentraut)
     </para>

<!--==========================orignal english content==========================
     <para>
      It's planned to switch to two-part instead of three-part server
      version numbers for releases after 9.6.  Make sure
      that <function>PQserverVersion()</function> returns the correct value for
      such cases.
     </para>
____________________________________________________________________________-->
     <para>
      计划在9.6之后的版本切换到两部分而不是三部分服务器版本号。确保
      <function>PQserverVersion()</>为这种情况返回正确的值。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>ecpg</application>'s code for <literal>unsigned long long</literal>
      array elements (Michael Meskes)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>ecpg</>为<literal>unsigned long long</>
      数组元素的编码 (Michael Meskes)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      In <application>pg_dump</application> with both <option>-c</option> and <option>-C</option>
      options, avoid emitting an unwanted <literal>CREATE SCHEMA public</literal>
      command (David Johnston, Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      在同时具有<option>-c</>和<option>-C</>选项的<application>pg_dump</>中，
      避免发出不需要的<literal>CREATE SCHEMA public</>命令 (David Johnston, Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Improve handling of <systemitem>SIGTERM</systemitem>/control-C in
      parallel <application>pg_dump</application> and <application>pg_restore</application> (Tom
      Lane)
     </para>
____________________________________________________________________________-->
     <para>
      改进并行<application>pg_dump</>和<application>pg_restore</>
      中<systemitem>SIGTERM</>/control-C的处理 (Tom
      Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Make sure that the worker processes will exit promptly, and also arrange
      to send query-cancel requests to the connected backends, in case they
      are doing something long-running such as a <command>CREATE INDEX</command>.
     </para>
____________________________________________________________________________-->
     <para>
      确保工作进程将立即退出，并且还安排向所连接的后端发送查询取消请求，
      以防万一他们正在进行长时间的运行，例如<command>CREATE INDEX</>。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix error reporting in parallel <application>pg_dump</application>
      and <application>pg_restore</application> (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复并行<application>pg_dump</>和<application>pg_restore</>
      中的错误报告 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, errors reported by <application>pg_dump</application>
      or <application>pg_restore</application> worker processes might never make it to
      the user's console, because the messages went through the master
      process, and there were various deadlock scenarios that would prevent
      the master process from passing on the messages.  Instead, just print
      everything to <literal>stderr</literal>.  In some cases this will result in
      duplicate messages (for instance, if all the workers report a server
      shutdown), but that seems better than no message.
     </para>
____________________________________________________________________________-->
     <para>
      以前，<application>pg_dump</>或<application>pg_restore</>
      工作进程报告的错误可能永远不会发送给用户的控制台，因为消息通过主进程，
      并且有各种死锁情况会阻止主进程传递消息。相反，只需打印一切到
      <literal>stderr</>。 在某些情况下，这将导致重复的消息（例如，
      如果所有的工作进程都报告服务器关闭），但这似乎比没有消息更好。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Ensure that parallel <application>pg_dump</application>
      or <application>pg_restore</application> on Windows will shut down properly
      after an error (Kyotaro Horiguchi)
     </para>
____________________________________________________________________________-->
     <para>
      确保Windows上并行的<application>pg_dump</>或
      <application>pg_restore</>在错误后正确关闭 (Kyotaro Horiguchi)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, it would report the error, but then just sit until
      manually stopped by the user.
     </para>
____________________________________________________________________________-->
     <para>
      以前，它会报告错误，但是之后会等待直到用户手动停止。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Make <application>pg_dump</application> behave better when built without zlib
      support (Kyotaro Horiguchi)
     </para>
____________________________________________________________________________-->
     <para>
      在不使用zlib支持的情况下，使<application>pg_dump</>的行为更好
      (Kyotaro Horiguchi)
     </para>

<!--==========================orignal english content==========================
     <para>
      It didn't work right for parallel dumps, and emitted some rather
      pointless warnings in other cases.
     </para>
____________________________________________________________________________-->
     <para>
      它并不适用于并行转储，并在其他情况下发出了一些相当无意义的警告。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Make <application>pg_basebackup</application> accept <literal>-Z 0</literal> as
      specifying no compression (Fujii Masao)
     </para>
____________________________________________________________________________-->
     <para>
      让<application>pg_basebackup</>接受<literal>-Z 0</>
      指定不压缩 (Fujii Masao)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix makefiles' rule for building AIX shared libraries to be safe for
      parallel make (Noah Misch)
     </para>
____________________________________________________________________________-->
     <para>
      修复用于构建AIX共享库的makefile文件规则对于并行make是安全的 (Noah Misch)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix TAP tests and MSVC scripts to work when build directory's path
      name contains spaces (Michael Paquier, Kyotaro Horiguchi)
     </para>
____________________________________________________________________________-->
     <para>
      修复TAP测试和MSVC脚本使其在构建目录的路径名中包含空格时可以运行
      (Michael Paquier, Kyotaro Horiguchi)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Be more predictable about reporting <quote>statement timeout</quote>
      versus <quote>lock timeout</quote> (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      针对<quote>锁定超时</>报告<quote>语句超时</>
      更加可预测 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      On heavily loaded machines, the regression tests sometimes failed due
      to reporting <quote>lock timeout</quote> even though the statement timeout
      should have occurred first.
     </para>
____________________________________________________________________________-->
     <para>
      在负载较重的机器上，即使应该已经先发生了语句超时，
      因为报告<quote>锁定超时</>，回归测试有时也会失败。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Make regression tests safe for Danish and Welsh locales (Jeff Janes,
      Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      使回归测试对丹麦和威尔士环境是安全的 (Jeff Janes,
      Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Change some test data that triggered the unusual sorting rules of
      these locales.
     </para>
____________________________________________________________________________-->
     <para>
      更改一些触发这些区域设置的异常排序规则的测试数据。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Update our copy of the timezone code to match
      IANA's <application>tzcode</application> release 2016c (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      更新或拷贝时区代码以匹配IANA的<application>tzcode</>版本2016c (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This is needed to cope with anticipated future changes in the time
      zone data files.  It also fixes some corner-case bugs in coping with
      unusual time zones.
     </para>
____________________________________________________________________________-->
     <para>
      这需要应对时区数据文件中预期的未来变化。它还修复了一些处理异常时区的角落错误。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Update time zone data files to <application>tzdata</application> release 2016f
      for DST law changes in Kemerovo and Novosibirsk, plus historical
      corrections for Azerbaijan, Belarus, and Morocco.
     </para>
____________________________________________________________________________-->
     <para>
      将时区数据文件更新为Kemerovo和新西伯利亚的DST法律变更的
      <application>tzdata</>版本2016f，以及阿塞拜疆、白俄罗斯和摩洛哥的历史更正。
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-9-4-8">
<!--==========================orignal english content==========================
  <title>Release 9.4.8</title>
____________________________________________________________________________-->
  <title>版本 9.4.8</title>
  
  <formalpara>
<!--==========================orignal english content==========================
  <title>Release date:</title>
____________________________________________________________________________-->
  <title>发布日期：</title>
<!--==========================orignal english content==========================
  <para>2016-05-12</para>
____________________________________________________________________________-->
  <para>2016-05-12</para>
  </formalpara>

<!--==========================orignal english content==========================
  <para>
   This release contains a variety of fixes from 9.4.7.
   For information about new features in the 9.4 major release, see
   <xref linkend="release-9-4">.
  </para>
____________________________________________________________________________-->
  <para>
   这个版本包含各种自9.4.7以来的修复。关于9.4主版本的新特性信息，
   请查看<xref linkend="release-9-4">。
  </para>

  <sect2>
<!--==========================orignal english content==========================
   <title>Migration to Version 9.4.8</title>
____________________________________________________________________________-->
   <title>迁移到版本 9.4.8</title>

<!--==========================orignal english content==========================
   <para>
    A dump/restore is not required for those running 9.4.X.
   </para>
____________________________________________________________________________-->
   <para>
    运行9.4.X版本的用户不需要转储/恢复。
   </para>

<!--==========================orignal english content==========================
   <para>
    However, if you are upgrading from a version earlier than 9.4.6,
    see <xref linkend="release-9-4-6">.
   </para>
____________________________________________________________________________-->
   <para>
    不过，如果您是从一个早于9.4.6的版本升级而来，那么请查看
    <xref linkend="release-9-4-6">。
   </para>
  </sect2>

  <sect2>
<!--==========================orignal english content==========================
   <title>Changes</title>
____________________________________________________________________________-->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Clear the OpenSSL error queue before OpenSSL calls, rather than
      assuming it's clear already; and make sure we leave it clear
      afterwards (Peter Geoghegan, Dave Vitek, Peter Eisentraut)
     </para>
____________________________________________________________________________-->
     <para>
      在OpenSSL调用之前清理OpenSSL错误队列，而不是假设它早已经清理了；
      并且确保我们以后清除它 (Peter Geoghegan, Dave Vitek, Peter Eisentraut)
     </para>

<!--==========================orignal english content==========================
     <para>
      This change prevents problems when there are multiple connections
      using OpenSSL within a single process and not all the code involved
      follows the same rules for when to clear the error queue.
      Failures have been reported specifically when a client application
      uses SSL connections in <application>libpq</application> concurrently with
      SSL connections using the PHP, Python, or Ruby wrappers for OpenSSL.
      It's possible for similar problems to arise within the server as well,
      if an extension module establishes an outgoing SSL connection.
     </para>
____________________________________________________________________________-->
     <para>
      这个修改阻止了多个连接在一个进程中使用OpenSSL，
      并且并非所有包含的代码都遵循何时清理错误序列的规则时的问题。
      当一个客户端应用在<application>libpq</>中使用了SSL连接并同时
      SSL连接为OpenSSL使用了PHP、Python或Ruby封装器时，
      明确的报告错误。如果一个扩展模块建立了一个外向SSL连接，
      那么服务器也有可能出现相似的问题。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <quote>failed to build any <replaceable>N</replaceable>-way joins</quote>
      planner error with a full join enclosed in the right-hand side of a
      left join (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      使用一个封闭在left join右侧的full join，修复
      <quote>failed to build any <replaceable>N</>-way joins</quote>
      规划器错误 (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix incorrect handling of equivalence-class tests in multilevel
      nestloop plans (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复等价类测试在多级嵌套循环规划中的错误处理 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Given a three-or-more-way equivalence class of variables, such
      as <literal>X.X = Y.Y = Z.Z</literal>, it was possible for the planner to omit
      some of the tests needed to enforce that all the variables are actually
      equal, leading to join rows being output that didn't satisfy
      the <literal>WHERE</literal> clauses.  For various reasons, erroneous plans
      were seldom selected in practice, so that this bug has gone undetected
      for a long time.
     </para>
____________________________________________________________________________-->
     <para>
      给出三个或更多个等价类变量，比如<literal>X.X = Y.Y = Z.Z</>，
      规划器有可能忽略一些强制所有变量实际上相等所需的测试，
      导致输出的连接行不满足<literal>WHERE</>子句。由于各种原因，
      实际上很少选择错误的规划，所以这个bug很长时间都没检测出来。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix query-lifespan memory leak in GIN index scans (Julien Rouhaud)
     </para>
____________________________________________________________________________-->
     <para>
      修复GIN索引扫描中的查询寿命内存泄露 (Julien Rouhaud)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix query-lifespan memory leak and potential index corruption hazard in
      GIN index insertion (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复GIN索引插入中的查询寿命内存泄露和潜在的索引损坏危险 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      The memory leak would typically not amount to much in simple queries,
      but it could be very substantial during a large GIN index build with
      high <varname>maintenance_work_mem</varname>.
     </para>
____________________________________________________________________________-->
     <para>
      在简单查询中，内存泄露通常不会太多，但是在具有高
      <varname>maintenance_work_mem</>的大量GIN索引构建期间会有很多。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix possible misbehavior of <literal>TH</literal>, <literal>th</literal>,
      and <literal>Y,YYY</literal> format codes in <function>to_timestamp()</function>
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<function>to_timestamp()</>中<literal>TH</>、<literal>th</>
      和<literal>Y,YYY</>格式代码可能的错误行为 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      These could advance off the end of the input string, causing subsequent
      format codes to read garbage.
     </para>
____________________________________________________________________________-->
     <para>
      这些可能超出输入字符串的末尾，导致后续格式代码读取垃圾。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix dumping of rules and views in which the <replaceable>array</replaceable>
      argument of a <literal><replaceable>value</replaceable> <replaceable>operator</replaceable>
      ANY (<replaceable>array</replaceable>)</literal> construct is a sub-SELECT
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<replaceable>array</>中规则和视图的转储，该<replaceable>array</>
      参数是<literal><replaceable>value</> <replaceable>operator</>
      ANY (<replaceable>array</>)</literal>构造中的子SELECT (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Disallow newlines in <command>ALTER SYSTEM</command> parameter values
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      禁用<command>ALTER SYSTEM</>参数值中的新行
      (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      The configuration-file parser doesn't support embedded newlines in
      string literals, so we mustn't allow them in values to be inserted
      by <command>ALTER SYSTEM</command>.
     </para>
____________________________________________________________________________-->
     <para>
      配置文件解析器不支持在字符串文字中嵌入换行符，
      因此我们不能让它们通过<command>ALTER SYSTEM</>插入值。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <command>ALTER TABLE ... REPLICA IDENTITY USING INDEX</command> to
      work properly if an index on OID is selected (David Rowley)
     </para>
____________________________________________________________________________-->
     <para>
      如果选择了OID上的索引，请修复<command>ALTER TABLE ... REPLICA IDENTITY USING INDEX</>
      以正常工作 (David Rowley)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix crash in logical decoding on alignment-picky platforms (Tom Lane,
      Andres Freund)
     </para>
____________________________________________________________________________-->
     <para>
      修复在对齐选择平台上的逻辑解码崩溃 (Tom Lane,
      Andres Freund)
     </para>

<!--==========================orignal english content==========================
     <para>
      The failure occurred only with a transaction large enough to spill to
      disk and a primary-key change within that transaction.
     </para>
____________________________________________________________________________-->
     <para>
      只有当事务大到足以溢出到磁盘并且该事务中发生主键更改时，才会发生故障。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid repeated requests for feedback from receiver while shutting down
      walsender (Nick Cleaton)
     </para>
____________________________________________________________________________-->
     <para>
      在关闭walsender时，避免反复的请求接收器反馈 (Nick Cleaton)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Make <application>pg_regress</application> use a startup timeout from the
      <envar>PGCTLTIMEOUT</envar> environment variable, if that's set (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      使<application>pg_regress</>使用来自<envar>PGCTLTIMEOUT</>
      环境变量的启动超时，如果设置了的话 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This is for consistency with a behavior recently added
      to <application>pg_ctl</application>; it eases automated testing on slow machines.
     </para>
____________________________________________________________________________-->
     <para>
      这是为了与最近添加到<application>pg_ctl</>的行为一致；
      它简化了慢速机器上的自动测试。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>pg_upgrade</application> to correctly restore extension
      membership for operator families containing only one operator class
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>pg_upgrade</>，
      以正确恢复仅包含一个操作符类的操作符族的扩展成员
      (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      In such a case, the operator family was restored into the new database,
      but it was no longer marked as part of the extension.  This had no
      immediate ill effects, but would cause later <application>pg_dump</application>
      runs to emit output that would cause (harmless) errors on restore.
     </para>
____________________________________________________________________________-->
     <para>
      在这样的情况下，操作符族被恢复到一个新的数据库，
      但是它不再标记为该扩展的一部分。这没有立即的不良影响，
      但是会导致稍后的<application>pg_dump</>运行发出会导致恢复时（无害）
      错误的输出。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>pg_upgrade</application> to not fail when new-cluster TOAST rules
      differ from old (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>pg_upgrade</>在新集群TOAST规则与旧规则不同时不会失败
      (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      <application>pg_upgrade</application> had special-case code to handle the
      situation where the new <productname>PostgreSQL</productname> version thinks that
      a table should have a TOAST table while the old version did not.  That
      code was broken, so remove it, and instead do nothing in such cases;
      there seems no reason to believe that we can't get along fine without
      a TOAST table if that was okay according to the old version's rules.
     </para>
____________________________________________________________________________-->
     <para>
      <application>pg_upgrade</>有特殊情况代码来处理<productname>PostgreSQL</>
      新版本认为一个表应该有一个TOAST表而旧版本没有的特殊情况。
      该代码是破损的，所以删除它，而不是在这种情况下什么都不做;
      似乎没有理由相信，如果根据旧版本的规则这是可以的，
      没有TOAST表我们就不能运行的很好。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Reduce the number of SysV semaphores used by a build configured with
      <option>-&minus;disable-spinlocks</option> (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      减少使用<option>--disable-spinlocks</>配置的构建使用的SysV信号量数
      (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Rename internal function <function>strtoi()</function>
      to <function>strtoint()</function> to avoid conflict with a NetBSD library
      function (Thomas Munro)
     </para>
____________________________________________________________________________-->
     <para>
      将内部函数<function>strtoi()</>重命名为<function>strtoint()</>，
      以避免与NetBSD库函数冲突 (Thomas Munro)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix reporting of errors from <function>bind()</function>
      and <function>listen()</function> system calls on Windows (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复来自Windows上<function>bind()</>和<function>listen()</>
      系统调用的报告错误 (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Reduce verbosity of compiler output when building with Microsoft Visual
      Studio (Christian Ullrich)
     </para>
____________________________________________________________________________-->
     <para>
      减少用Microsoft Visual Studio构建时编译器的冗长输出 (Christian Ullrich)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <function>putenv()</function> to work properly with Visual Studio 2013
      (Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      修复<function>putenv()</>，使其能与Visual Studio 2013正常工作
      (Michael Paquier)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid possibly-unsafe use of Windows' <function>FormatMessage()</function>
      function (Christian Ullrich)
     </para>
____________________________________________________________________________-->
     <para>
      避免Windows的<function>FormatMessage()</>函数可能的不安全使用
      (Christian Ullrich)
     </para>

<!--==========================orignal english content==========================
     <para>
      Use the <literal>FORMAT_MESSAGE_IGNORE_INSERTS</literal> flag where
      appropriate.  No live bug is known to exist here, but it seems like a
      good idea to be careful.
     </para>
____________________________________________________________________________-->
     <para>
      适当时使用<literal>FORMAT_MESSAGE_IGNORE_INSERTS</>标识。
      已知没有bug存在于这里，但是小心总是没错的。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Update time zone data files to <application>tzdata</application> release 2016d
      for DST law changes in Russia and Venezuela.  There are new zone
      names <literal>Europe/Kirov</literal> and <literal>Asia/Tomsk</literal> to reflect
      the fact that these regions now have different time zone histories from
      adjacent regions.
     </para>
____________________________________________________________________________-->
     <para>
      将时区数据文件更新为<application>tzdata</>版本2016d，
      用于俄罗斯和委内瑞拉的DST法律变更。有新的区域名称
      <literal>Europe/Kirov</>和<literal>Asia/Tomsk</>，
      反映这些区域现在具有与相邻区域有不同的时区历史的事实。
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-9-4-7">
<!--==========================orignal english content==========================
  <title>Release 9.4.7</title>
____________________________________________________________________________-->
  <title>版本 9.4.7</title>

  <formalpara>
<!--==========================orignal english content==========================
  <title>Release date:</title>
____________________________________________________________________________-->
  <title>发布日期：</title>
<!--==========================orignal english content==========================
  <para>2016-03-31</para>
____________________________________________________________________________-->
  <para>2016-03-31</para>
  </formalpara>

<!--==========================orignal english content==========================
  <para>
   This release contains a variety of fixes from 9.4.6.
   For information about new features in the 9.4 major release, see
   <xref linkend="release-9-4">.
  </para>
____________________________________________________________________________-->
  <para>
   这个版本包含各种自9.4.6以来的修复。关于9.4主版本的新特性信息，
   请查看<xref linkend="release-9-4">。
  </para>

  <sect2>
<!--==========================orignal english content==========================
   <title>Migration to Version 9.4.7</title>
____________________________________________________________________________-->
   <title>迁移到版本9.4.7</title>

<!--==========================orignal english content==========================
   <para>
    A dump/restore is not required for those running 9.4.X.
   </para>
____________________________________________________________________________-->
   <para>
    对于运行9.4.X的用户，不需要转储/恢复。
   </para>

<!--==========================orignal english content==========================
   <para>
    However, if you are upgrading from a version earlier than 9.4.6,
    see <xref linkend="release-9-4-6">.
   </para>
____________________________________________________________________________-->
   <para>
    不过，如果你是从一个早于9.4.6的版本升级而来，请查看<xref linkend="release-9-4-6">。
   </para>
  </sect2>

  <sect2>
<!--==========================orignal english content==========================
   <title>Changes</title>
____________________________________________________________________________-->
   <title>修改列表</title>

   <itemizedlist>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix incorrect handling of NULL index entries in
      indexed <literal>ROW()</literal> comparisons (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复索引的<literal>ROW()</>比较中NULL索引项的不正确处理
      (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      An index search using a row comparison such as <literal>ROW(a, b) &gt;
      ROW('x', 'y')</literal> would stop upon reaching a NULL entry in
      the <structfield>b</structfield> column, ignoring the fact that there might be
      non-NULL <structfield>b</structfield> values associated with later values
      of <structfield>a</structfield>.
     </para>
____________________________________________________________________________-->
     <para>
      使用行比较的索引搜索比如<literal>ROW(a, b) &gt;
      ROW('x', 'y')</>将在到达<structfield>b</>列中的NULL条目时停止，
      忽略可能存在与<structfield>a</>的稍后值相关联的非NULL <structfield>b</>值的事实。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid unlikely data-loss scenarios due to renaming files without
      adequate <function>fsync()</function> calls before and after (Michael Paquier,
      Tomas Vondra, Andres Freund)
     </para>
____________________________________________________________________________-->
     <para>
      避免由于重命名文件之前或之后没有适当的
      <function>fsync()</>调用，导致不太可能的数据丢失情况 (Michael Paquier,
      Tomas Vondra, Andres Freund)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix bug in <function>json_to_record()</function> when a field of its input
      object contains a sub-object with a field name matching one of the
      requested output column names (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<function>json_to_record()</>
      当其输入对象的字段包含具有匹配所请求的输出列名称之一的字段名称的子对象时的错误
      (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix misformatting of negative time zone offsets
      by <function>to_char()</function>'s <literal>OF</literal> format code
      (Thomas Munro, Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      通过<function>to_char()</>的<literal>OF</>格式代码修正负时区偏移的格式错误
      (Thomas Munro, Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Ignore <xref linkend="recovery-min-apply-delay"> parameter until
      recovery has reached a consistent state (Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      忽略<xref linkend="recovery-min-apply-delay">参数，
      直到恢复已经达到一个一致的状态 (Michael Paquier)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, standby servers would delay application of WAL records in
      response to <varname>recovery_min_apply_delay</varname> even while replaying
      the initial portion of WAL needed to make their database state valid.
      Since the standby is useless until it's reached a consistent database
      state, this was deemed unhelpful.
     </para>
____________________________________________________________________________-->
     <para>
      以前，即使在重放要使其数据库状态有效的WAL的初始部分时，
      备用服务器也会响应<varname>recovery_min_apply_delay</>延迟应用WAL记录。
      因为在达到一致的数据库状态之前，备用数据库是无用的，所以这被认为没有帮助。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Correctly handle cases where <literal>pg_subtrans</literal> is close to XID
      wraparound during server startup (Jeff Janes)
     </para>
____________________________________________________________________________-->
     <para>
      正确处理在服务器启动期间<literal>pg_subtrans</>接近XID wraparound的情况
      (Jeff Janes)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix assorted bugs in logical decoding (Andres Freund)
     </para>
____________________________________________________________________________-->
     <para>
      修复逻辑解码中的各种错误 (Andres Freund)
     </para>

<!--==========================orignal english content==========================
     <para>
      Trouble cases included tuples larger than one page when replica
      identity is <literal>FULL</literal>, <command>UPDATE</command>s that change a
      primary key within a transaction large enough to be spooled to disk,
      incorrect reports of <quote>subxact logged without previous toplevel
      record</quote>, and incorrect reporting of a transaction's commit time.
     </para>
____________________________________________________________________________-->
     <para>
      故障情况包括：当复制标识为<literal>FULL</>、<command>UPDATE</>时，
      大于一个页面的元组将事务中的主键改为大到足以后台打印到磁盘，
      不正确的报告<quote>subxact logged without previous toplevel
      record</>，并且错误的报告事务的提交时间。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix planner error with nested security barrier views when the outer
      view has a <literal>WHERE</literal> clause containing a correlated subquery
      (Dean Rasheed)
     </para>
____________________________________________________________________________-->
     <para>
      当外部视图具有包含相关子查询的<literal>WHERE</>子句时，
      使用嵌套安全性屏障视图修复计划器错误 (Dean Rasheed)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix corner-case crash due to trying to free <function>localeconv()</function>
      output strings more than once (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复由于多次尝试释放<function>localeconv()</>
      输出字符串而导致的极端崩溃 (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix parsing of affix files for <literal>ispell</literal> dictionaries
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<literal>ispell</>字典的附加文件的解析
      (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      The code could go wrong if the affix file contained any characters
      whose byte length changes during case-folding, for
      example <literal>I</literal> in Turkish UTF8 locales.
     </para>
____________________________________________________________________________-->
     <para>
      如果附加文件包含字节长度在大小写折叠期间变化的字符，
      例如土耳其语在UTF8区域设置中的<literal>I</>，则代码可能会出错。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid use of <function>sscanf()</function> to parse <literal>ispell</literal>
      dictionary files (Artur Zakirov)
     </para>
____________________________________________________________________________-->
     <para>
      避免使用<function>sscanf()</>解析<literal>ispell</>
      字典文件 (Artur Zakirov)
     </para>

<!--==========================orignal english content==========================
     <para>
      This dodges a portability problem on FreeBSD-derived platforms
      (including macOS).
     </para>
____________________________________________________________________________-->
     <para>
      这避免了FreeBSD派生平台上的可移植性问题(包括 macOS)。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid a crash on old Windows versions (before 7SP1/2008R2SP1) with an
      AVX2-capable CPU and a Postgres build done with Visual Studio 2013
      (Christian Ullrich)
     </para>
____________________________________________________________________________-->
     <para>
      避免在具有支持AVX2 CPU的旧版Windows版本（在7SP1/2008R2SP1之前）上崩溃，
      并使用Visual Studio 2013完成Postgres构建
      (Christian Ullrich)
     </para>

<!--==========================orignal english content==========================
     <para>
      This is a workaround for a bug in Visual Studio 2013's runtime
      library, which Microsoft have stated they will not fix in that
      version.
     </para>
____________________________________________________________________________-->
     <para>
      这是Visual Studio 2013运行库中的一个错误的解决方法，
      Microsoft已经声明他们不会在该版本中修复。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>psql</application>'s tab completion logic to handle multibyte
      characters properly (Kyotaro Horiguchi, Robert Haas)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>psql</>的tab完成逻辑，以正确处理多字节字符
      (Kyotaro Horiguchi, Robert Haas)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>psql</application>'s tab completion for
      <literal>SECURITY LABEL</literal> (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      为<literal>SECURITY LABEL</>修复<application>psql</>的tab完成
      (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Pressing TAB after <literal>SECURITY LABEL</literal> might cause a crash
      or offering of inappropriate keywords.
     </para>
____________________________________________________________________________-->
     <para>
      在<literal>SECURITY LABEL</>之后键入TAB可能会导致崩溃或提供不适当的关键字。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Make <application>pg_ctl</application> accept a wait timeout from the
      <envar>PGCTLTIMEOUT</envar> environment variable, if none is specified on
      the command line (Noah Misch)
     </para>
____________________________________________________________________________-->
     <para>
      如果在命令行中没有指定，则让<application>pg_ctl</>从<envar>PGCTLTIMEOUT</>
      环境变量中接受一个等待超时 (Noah Misch)
     </para>

<!--==========================orignal english content==========================
     <para>
      This eases testing of slower buildfarm members by allowing them
      to globally specify a longer-than-normal timeout for postmaster
      startup and shutdown.
     </para>
____________________________________________________________________________-->
     <para>
      通过允许他们对postmaster启动和关闭全局指定一个长于正常的超时，
      可以方便测试较慢的buildfarm成员。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix incorrect test for Windows service status
      in <application>pg_ctl</application> (Manuel Mathar)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>pg_ctl</>中Windows服务状态的不正确测试
      (Manuel Mathar)
     </para>

<!--==========================orignal english content==========================
     <para>
      The previous set of minor releases attempted to
      fix <application>pg_ctl</application> to properly determine whether to send log
      messages to Window's Event Log, but got the test backwards.
     </para>
____________________________________________________________________________-->
     <para>
      上一组小版本尝试修复<application>pg_ctl</>
      以正确确定是否将日志消息发送到Windows事件日志，但是测试弄反了。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>pgbench</application> to correctly handle the combination
      of <literal>-C</literal> and <literal>-M prepared</literal> options (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>pgbench</>以正确的处理<literal>-C</>
      和<literal>-M prepared</>选项的组合 (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      In <application>pg_upgrade</application>, skip creating a deletion script when
      the new data directory is inside the old data directory (Bruce
      Momjian)
     </para>
____________________________________________________________________________-->
     <para>
      在<application>pg_upgrade</>中，当新数据目录位于旧数据目录内时，
      跳过创建删除脚本 (Bruce
      Momjian)
     </para>

<!--==========================orignal english content==========================
     <para>
      Blind application of the script in such cases would result in loss of
      the new data directory.
     </para>
____________________________________________________________________________-->
     <para>
      在这种情况下，盲目应用脚本将导致新的数据目录丢失。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      In PL/Perl, properly translate empty Postgres arrays into empty Perl
      arrays (Alex Hunsaker)
     </para>
____________________________________________________________________________-->
     <para>
      在PL/Perl中，将空的Postgres数组正确的翻译为空的Perl数组
      (Alex Hunsaker)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Make PL/Python cope with function names that aren't valid Python
      identifiers (Jim Nasby)
     </para>
____________________________________________________________________________-->
     <para>
      使PL/Python处理不是有效Python标识符的函数名称 (Jim Nasby)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix multiple mistakes in the statistics returned
      by <filename>contrib/pgstattuple</filename>'s <function>pgstatindex()</function>
      function (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<filename>contrib/pgstattuple</>的<function>pgstatindex()</>
      函数返回的多个统计错误 (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Remove dependency on <literal>psed</literal> in MSVC builds, since it's no
      longer provided by core Perl (Michael Paquier, Andrew Dunstan)
     </para>
____________________________________________________________________________-->
     <para>
      删除MSVC构建中对<literal>psed</>的依赖，因为核心Perl不再提供它了
      (Michael Paquier, Andrew Dunstan)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Update time zone data files to <application>tzdata</application> release 2016c
      for DST law changes in Azerbaijan, Chile, Haiti, Palestine, and Russia
      (Altai, Astrakhan, Kirov, Sakhalin, Ulyanovsk regions), plus
      historical corrections for Lithuania, Moldova, and Russia
      (Kaliningrad, Samara, Volgograd).
     </para>
____________________________________________________________________________-->
     <para>
      更新时区数据文件为<application>tzdata</> release 2016c，
      因为阿塞拜疆、智利、海地、巴勒斯坦和俄罗斯(Altai, Astrakhan,
      Kirov, Sakhalin, Ulyanovsk 区域)的DST法律变更，加上立陶宛、
      摩尔多瓦和俄罗斯(Kaliningrad, Samara, Volgograd)的历史更正。
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-9-4-6">
<!--==========================orignal english content==========================
  <title>Release 9.4.6</title>
____________________________________________________________________________-->
  <title>版本 9.4.6</title>

  <formalpara>
<!--==========================orignal english content==========================
  <title>Release date:</title>
____________________________________________________________________________-->
  <title>发布日期：</title>
<!--==========================orignal english content==========================
  <para>2016-02-11</para>
____________________________________________________________________________-->
  <para>2016-02-11</para>
  </formalpara>

<!--==========================orignal english content==========================
  <para>
   This release contains a variety of fixes from 9.4.5.
   For information about new features in the 9.4 major release, see
   <xref linkend="release-9-4">.
  </para>
____________________________________________________________________________-->
  <para>
   这个版本包含各种自9.4.5以来的修复。关于9.4主版本的新特性信息，
   请查看<xref linkend="release-9-4">。
  </para>

  <sect2>
<!--==========================orignal english content==========================
   <title>Migration to Version 9.4.6</title>
____________________________________________________________________________-->
   <title>迁移到版本9.4.6</title>

<!--==========================orignal english content==========================
   <para>
    A dump/restore is not required for those running 9.4.X.
   </para>
____________________________________________________________________________-->
   <para>
    运行9.4.X版本的用户不需要转储/恢复。
   </para>

<!--==========================orignal english content==========================
   <para>
    However, if you are upgrading an installation that contains any GIN
    indexes that use the (non-default) <literal>jsonb_path_ops</literal> operator
    class, see the first changelog entry below.
   </para>
____________________________________________________________________________-->
   <para>
    但是，如果要升级包含使用（非默认）<literal>jsonb_path_ops</>
    运算符类的任何GIN索引的安装，请参阅下面的第一个更改日志条目。
   </para>

<!--==========================orignal english content==========================
   <para>
    Also, if you are upgrading from a version earlier than 9.4.4,
    see <xref linkend="release-9-4-4">.
   </para>
____________________________________________________________________________-->
   <para>
    还有，如果您是从一个早于9.4.4的版本升级而来，请查看<xref linkend="release-9-4-4">。
   </para>
  </sect2>

  <sect2>
<!--==========================orignal english content==========================
   <title>Changes</title>
____________________________________________________________________________-->
   <title>修改列表</title>

   <itemizedlist>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix inconsistent hash calculations in <literal>jsonb_path_ops</literal> GIN
      indexes (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<literal>jsonb_path_ops</> GIN索引中不一致的哈希计算 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      When processing <type>jsonb</type> values that contain both scalars and
      sub-objects at the same nesting level, for example an array containing
      both scalars and sub-arrays, key hash values could be calculated
      differently than they would be for the same key in a different context.
      This could result in queries not finding entries that they should find.
      Fixing this means that existing indexes may now be inconsistent with the
      new hash calculation code.  Users
      should <command>REINDEX</command> <literal>jsonb_path_ops</literal> GIN indexes after
      installing this update to make sure that all searches work as expected.
     </para>
____________________________________________________________________________-->
     <para>
      当处理包含相同嵌套级别的标量和子对象的<type>jsonb</>值时，例如包含标量和子数组的数组，
      秘钥哈希值的计算方式可能不同于在不同上下文中相同键值的计算。
      这可能导致查询未找到他们应该找到的条目。
      修复这意味着现有索引现在可能与新的哈希计算代码不一致。在安装此更新后，
      用户应该在安装此更新后<command>REINDEX</> <literal>jsonb_path_ops</> GIN索引，
      以确保所有搜索按预期工作。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix infinite loops and buffer-overrun problems in regular expressions
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复正则表达式中无限循环和缓冲区溢出问题
      (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Very large character ranges in bracket expressions could cause
      infinite loops in some cases, and memory overwrites in other cases.
      (CVE-2016-0773)
     </para>
____________________________________________________________________________-->
     <para>
      在某些情况下，括号表达式中非常大的字符范围可能会导致无限循环，
      并且在其他情况下内存会覆盖。 (CVE-2016-0773)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Perform an immediate shutdown if the <filename>postmaster.pid</filename> file
      is removed (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      如果删除了<filename>postmaster.pid</>文件，执行立即关闭 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      The postmaster now checks every minute or so
      that <filename>postmaster.pid</filename> is still there and still contains its
      own PID.  If not, it performs an immediate shutdown, as though it had
      received <systemitem>SIGQUIT</systemitem>.  The main motivation for this change
      is to ensure that failed buildfarm runs will get cleaned up without
      manual intervention; but it also serves to limit the bad effects if a
      DBA forcibly removes <filename>postmaster.pid</filename> and then starts a new
      postmaster.
     </para>
____________________________________________________________________________-->
     <para>
      postmaster现在每一分钟都检查，查看<filename>postmaster.pid</>仍然存在，
      仍然包含它自己的PID。如果没有，它会立即关闭，就像收到了<systemitem>SIGQUIT</>一样。
      这种变化的主要动机是确保在没有手动干预的情况下，失败的构建运行得到清理；
      但是如果DBA强制删除<filename>postmaster.pid</>，然后启动一个新的postmaster，
      它也可以限制不良影响。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      In <literal>SERIALIZABLE</literal> transaction isolation mode, serialization
      anomalies could be missed due to race conditions during insertions
      (Kevin Grittner, Thomas Munro)
     </para>
____________________________________________________________________________-->
     <para>
      在<literal>SERIALIZABLE</>事务隔离模式下，
      串行化异常可能由于插入过程中的竞争条件而丢失
      (Kevin Grittner, Thomas Munro)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix failure to emit appropriate WAL records when doing <literal>ALTER
      TABLE ... SET TABLESPACE</literal> for unlogged relations (Michael Paquier,
      Andres Freund)
     </para>
____________________________________________________________________________-->
     <para>
      修复在为未记录的关系执行<literal>ALTER TABLE ... SET TABLESPACE</>时，
      未能发出合适的WAL记录 (Michael Paquier, Andres Freund)
     </para>

<!--==========================orignal english content==========================
     <para>
      Even though the relation's data is unlogged, the move must be logged or
      the relation will be inaccessible after a standby is promoted to master.
     </para>
____________________________________________________________________________-->
     <para>
      即使关系的数据未被记录，移动必须被记录否则在备用被提升为主服务器之后关系将无法访问。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix possible misinitialization of unlogged relations at the end of
      crash recovery (Andres Freund, Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      修复在崩溃恢复结束时可能的未记录关系的错误初始化 (Andres Freund, Michael Paquier)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Ensure walsender slots are fully re-initialized when being re-used
      (Magnus Hagander)
     </para>
____________________________________________________________________________-->
     <para>
      确保在重新使用时完全重新初始化Walsender插槽
      (Magnus Hagander)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <command>ALTER COLUMN TYPE</command> to reconstruct inherited check
      constraints properly (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<command>ALTER COLUMN TYPE</>以正确重构造继承的检查约束 (Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <command>REASSIGN OWNED</command> to change ownership of composite types
      properly (&Aacute;lvaro Herrera)
     </para>
____________________________________________________________________________-->
     <para>
      修复<command>REASSIGN OWNED</>以正确改变复合类型的所有者 (&Aacute;lvaro Herrera)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <command>REASSIGN OWNED</command> and <command>ALTER OWNER</command> to correctly
      update granted-permissions lists when changing owners of data types,
      foreign data wrappers, or foreign servers (Bruce Momjian,
      &Aacute;lvaro Herrera)
     </para>
____________________________________________________________________________-->
     <para>
      在更改数据类型、外部数据封装器或外部服务器的所有者时，
      修复<command>REASSIGN OWNED</>和<command>ALTER OWNER</>
      来正确更新授权权限列表 (Bruce Momjian,
      &Aacute;lvaro Herrera)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <command>REASSIGN OWNED</command> to ignore foreign user mappings,
      rather than fail (&Aacute;lvaro Herrera)
     </para>
____________________________________________________________________________-->
     <para>
      修复<command>REASSIGN OWNED</>，忽略外部用户映射而不是失败 (&Aacute;lvaro Herrera)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix possible crash after doing query rewrite for an updatable view
      (Stephen Frost)
     </para>
____________________________________________________________________________-->
     <para>
      修复为可更新视图执行查询重写后可能的崩溃
      (Stephen Frost)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix planner's handling of <literal>LATERAL</literal> references (Tom
      Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复规划器对<literal>LATERAL</>引用的处理 (Tom
      Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This fixes some corner cases that led to <quote>failed to build any
      N-way joins</quote> or <quote>could not devise a query plan</quote> planner
      failures.
     </para>
____________________________________________________________________________-->
     <para>
      这修复了一些导致<quote>failed to build any
      N-way joins</>或<quote>could not devise a query plan</>规划器失败的极端情况。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Add more defenses against bad planner cost estimates for GIN index
      scans when the index's internal statistics are very out-of-date
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      当索引的内部统计数据非常过时时，为GIN索引扫描的错误规划成本估算增加更多的防御
      (Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Make planner cope with hypothetical GIN indexes suggested by an index
      advisor plug-in (Julien Rouhaud)
     </para>
____________________________________________________________________________-->
     <para>
      使规划器处理索引建议插件建议的假设GIN索引 (Julien Rouhaud)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Speed up generation of unique table aliases in <command>EXPLAIN</command> and
      rule dumping, and ensure that generated aliases do not
      exceed <literal>NAMEDATALEN</literal> (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      加快在<command>EXPLAIN</>和规则转储中唯一表别名的生成，
      并确保生成的别名不超过<literal>NAMEDATALEN</> (Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix dumping of whole-row Vars in <literal>ROW()</literal>
      and <literal>VALUES()</literal> lists (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<literal>ROW()</>和<literal>VALUES()</>列表中整行变量的转储 (Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Translation of minus-infinity dates and timestamps to <type>json</type>
      or <type>jsonb</type> incorrectly rendered them as plus-infinity (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      负无穷日期和时间戳到<type>json</>或<type>jsonb</>的转换不正确的呈现为正无穷 (Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix possible internal overflow in <type>numeric</type> division
      (Dean Rasheed)
     </para>
____________________________________________________________________________-->
     <para>
      修复<type>numeric</>除法中可能的内部溢出
      (Dean Rasheed)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix enforcement of restrictions inside parentheses within regular
      expression lookahead constraints (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修正正则表达式前瞻性约束内的括号内的强制限制 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Lookahead constraints aren't allowed to contain backrefs, and
      parentheses within them are always considered non-capturing, according
      to the manual.  However, the code failed to handle these cases properly
      inside a parenthesized subexpression, and would give unexpected
      results.
     </para>
____________________________________________________________________________-->
     <para>
      前瞻性约束不允许包含后向引用，根据手册，它们中的括号总是被认为是非捕获。
      但是，代码无法在括号内的子表达式中正确处理这些情况，并会产生意想不到的结果。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Conversion of regular expressions to indexscan bounds could produce
      incorrect bounds from regexps containing lookahead constraints
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      将正则表达式转换为索引扫描边界可能会产生包含前瞻约束的正则表达式的不正确边界
      (Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix regular-expression compiler to handle loops of constraint arcs
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修正正则表达式编译器来处理约束弧的循环
      (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      The code added for CVE-2007-4772 was both incomplete, in that it didn't
      handle loops involving more than one state, and incorrect, in that it
      could cause assertion failures (though there seem to be no bad
      consequences of that in a non-assert build).  Multi-state loops would
      cause the compiler to run until the query was canceled or it reached
      the too-many-states error condition.
     </para>
____________________________________________________________________________-->
     <para>
      为CVE-2007-4772添加的代码是不完整的，因为它不处理涉及多个状态的循环，
      并且不正确，因为它可能导致断言失败（尽管在非断言构建中似乎没有不良后果）。
      多状态循环将导致编译器运行，直到查询被取消或达到太多状态的错误状态。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Improve memory-usage accounting in regular-expression compiler
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      改进正则表达式编译器中的内存使用量计算
      (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This causes the code to emit <quote>regular expression is too
      complex</quote> errors in some cases that previously used unreasonable
      amounts of time and memory.
     </para>
____________________________________________________________________________-->
     <para>
      这导致代码在某些以前使用了不合理的时间和内存的情况下发出
      <quote>regular expression is too complex</>的错误。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Improve performance of regular-expression compiler (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      提高正则表达式编译器的性能 (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Make <literal>%h</literal> and <literal>%r</literal> escapes
      in <varname>log_line_prefix</varname> work for messages emitted due
      to <varname>log_connections</varname> (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      让<varname>log_line_prefix</>中的<literal>%h</>
      和<literal>%r</>转义可用于<varname>log_connections</>
      发出的消息 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, <literal>%h</literal>/<literal>%r</literal> started to work just after a
      new session had emitted the <quote>connection received</quote> log message;
      now they work for that message too.
     </para>
____________________________________________________________________________-->
     <para>
      以前，<literal>%h</>/<literal>%r</>仅在新会话发出<quote>connection received</>
      日志消息后开始工作；现在它们也用于该消息。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      On Windows, ensure the shared-memory mapping handle gets closed in
      child processes that don't need it (Tom Lane, Amit Kapila)
     </para>
____________________________________________________________________________-->
     <para>
      在Windows上，确保共享内存映射句柄在不需要它的子进程中关闭 (Tom Lane, Amit Kapila)
     </para>
<!--==========================orignal english content==========================
     <para>
      This oversight resulted in failure to recover from crashes
      whenever <varname>logging_collector</varname> is turned on.
     </para>
____________________________________________________________________________-->
     <para>
      这个疏忽导致<varname>logging_collector</>打开时，
      无法从崩溃中恢复。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix possible failure to detect socket EOF in non-blocking mode on
      Windows (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复Windows上在非阻塞模式下检测套接字EOF的可能失败 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      It's not entirely clear whether this problem can happen in pre-9.5
      branches, but if it did, the symptom would be that a walsender process
      would wait indefinitely rather than noticing a loss of connection.
     </para>
____________________________________________________________________________-->
     <para>
      还不完全清楚这个问题是否会在9.5之前的分支中发生，但如果发生，
      那么症状就是一个walsender进程会无限期地等待，而不是注意到连接丢失。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid leaking a token handle during SSPI authentication
      (Christian Ullrich)
     </para>
____________________________________________________________________________-->
     <para>
      避免在SSPI认证期间泄露令牌句柄
      (Christian Ullrich)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      In <application>psql</application>, ensure that <application>libreadline</application>'s idea
      of the screen size is updated when the terminal window size changes
      (Merlin Moncure)
     </para>
____________________________________________________________________________-->
     <para>
      在<application>psql</>中，确保当终端窗口大小更改时，
      <application>libreadline</>的屏幕大小也更新 (Merlin Moncure)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, <application>libreadline</application> did not notice if the window
      was resized during query output, leading to strange behavior during
      later input of multiline queries.
     </para>
____________________________________________________________________________-->
     <para>
      以前，<application>libreadline</>没有注意到在查询输出期间是否调整了窗口的大小，
      导致在以后输入多行查询时出现了奇怪的行为。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>psql</application>'s <literal>\det</literal> command to interpret its
      pattern argument the same way as other <literal>\d</literal> commands with
      potentially schema-qualified patterns do (Reece Hart)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>psql</>的<literal>\det</>命令，
      与其他<literal>\d</>命令潜在模式限定模式相同的方式解释其模式参数 (Reece Hart)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid possible crash in <application>psql</application>'s <literal>\c</literal> command
      when previous connection was via Unix socket and command specifies a
      new hostname and same username (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      当前一次连接是通过Unix套接字和命令指定新的主机名和相同用户名时，
      避免<application>psql</>的<literal>\c</>命令中可能的崩溃 (Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      In <literal>pg_ctl start -w</literal>, test child process status directly
      rather than relying on heuristics (Tom Lane, Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      在<literal>pg_ctl start -w</>中，直接测试子进程状态，而不是依赖于启发 (Tom Lane, Michael Paquier)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, <application>pg_ctl</application> relied on an assumption that the new
      postmaster would always create <filename>postmaster.pid</filename> within five
      seconds.  But that can fail on heavily-loaded systems,
      causing <application>pg_ctl</application> to report incorrectly that the
      postmaster failed to start.
     </para>
____________________________________________________________________________-->
     <para>
      以前，<application>pg_ctl</>依赖于一个假设，
      即新的postmaster将始终在五秒钟内创建<filename>postmaster.pid</>。但是，
      在重负载系统上可能会失败，导致<application>pg_ctl</>
      不正确地报告postmaster无法启动。
     </para>

<!--==========================orignal english content==========================
     <para>
      Except on Windows, this change also means that a <literal>pg_ctl start
      -w</literal> done immediately after another such command will now reliably
      fail, whereas previously it would report success if done within two
      seconds of the first command.
     </para>
____________________________________________________________________________-->
     <para>
      除了在Windows上，这种改变也意味着在另一个这样的命令之后立即执行的一个
      <literal>pg_ctl start -w</>将可靠地失败，
      而之前如果它在第一个命令的两秒内完成会报告成功。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      In <literal>pg_ctl start -w</literal>, don't attempt to use a wildcard listen
      address to connect to the postmaster (Kondo Yuta)
     </para>
____________________________________________________________________________-->
     <para>
      在<literal>pg_ctl start -w</>中，不要尝试使用通配符监听地址连接到postmaster (Kondo Yuta)
     </para>

<!--==========================orignal english content==========================
     <para>
      On Windows, <application>pg_ctl</application> would fail to detect postmaster
      startup if <varname>listen_addresses</varname> is set to <literal>0.0.0.0</literal>
      or <literal>::</literal>, because it would try to use that value verbatim as
      the address to connect to, which doesn't work.  Instead assume
      that <literal>127.0.0.1</literal> or <literal>::1</literal>, respectively, is the
      right thing to use.
     </para>
____________________________________________________________________________-->
     <para>
      在Windows上，如果<varname>listen_addresses</>设置为<literal>0.0.0.0</>
      或者<literal>::</>，则<application>pg_ctl</>将无法检测到postmaster启动，
      因为它将尝试逐字使用该值作为要连接到的地址。正确的做法是分别假设使用
      <literal>127.0.0.1</>或<literal>::1</>。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      In <application>pg_ctl</application> on Windows, check service status to decide
      where to send output, rather than checking if standard output is a
      terminal (Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      在Windows上的<application>pg_ctl</>中，检查服务器状态以决定输出发送到哪里，
      而不是检查标准输出是否是终端 (Michael Paquier)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      In <application>pg_dump</application> and <application>pg_basebackup</application>, adopt
      the GNU convention for handling tar-archive members exceeding 8GB
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      在<application>pg_dump</>和<application>pg_basebackup</>中，
      采用GNU约定来处理超过8GB的tar档案成员
      (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      The POSIX standard for <literal>tar</literal> file format does not allow
      archive member files to exceed 8GB, but most modern implementations
      of <application>tar</application> support an extension that fixes that.  Adopt
      this extension so that <application>pg_dump</application> with <option>-Ft</option> no
      longer fails on tables with more than 8GB of data, and so
      that <application>pg_basebackup</application> can handle files larger than 8GB.
      In addition, fix some portability issues that could cause failures for
      members between 4GB and 8GB on some platforms.  Potentially these
      problems could cause unrecoverable data loss due to unreadable backup
      files.
     </para>
____________________________________________________________________________-->
     <para>
      <literal>tar</>文件格式的POSIX标准不允许归档超过8GB的成员文件，
      但是大多数现代化的<application>tar</>实现支持一个扩展，修复了此问题。
      采取这个扩展，以便在具有超过8GB数据的表上使用<option>-Ft</>的
      <application>pg_dump</>不再失败，因此<application>pg_basebackup</> 
      可以处理大于8GB的文件。此外，修复了一些可能导致在某些平台上4GB到8GB
      之间的成员失败出现故障的可移植性问题。
      潜在的这些问题可能会由于不可读的备份文件而导致无法恢复的数据丢失。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix assorted corner-case bugs in <application>pg_dump</application>'s processing
      of extension member objects (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>pg_dump</>处理扩展成员对象中的各种极端错误 (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Make <application>pg_dump</application> mark a view's triggers as needing to be
      processed after its rule, to prevent possible failure during
      parallel <application>pg_restore</application> (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      让<application>pg_dump</>标记一个视图的触发器需要在其规则之后处理，
      以阻止并行<application>pg_restore</>期间可能的失败 (Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Ensure that relation option values are properly quoted
      in <application>pg_dump</application> (Kouhei Sutou, Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      确保关系选项值在<application>pg_dump</>中正确的引用了 (Kouhei Sutou, Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      A reloption value that isn't a simple identifier or number could lead
      to dump/reload failures due to syntax errors in CREATE statements
      issued by <application>pg_dump</application>.  This is not an issue with any
      reloption currently supported by core <productname>PostgreSQL</productname>, but
      extensions could allow reloptions that cause the problem.
     </para>
____________________________________________________________________________-->
     <para>
      由于<application>pg_dump</>发出的CREATE语句中的语法错误，
      不是简单的标识符或数字的关系选项值可能导致转储/重新加载失败。
      核心<productname>PostgreSQL</>目前支持的任何关系选项都不是问题，
      但扩展可能会允许导致问题的关系选项。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid repeated password prompts during parallel <application>pg_dump</application>
      (Zeus Kronion)
     </para>
____________________________________________________________________________-->
     <para>
      在并发<application>pg_dump</>期间，避免重复的口令提示
      (Zeus Kronion)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>pg_upgrade</application>'s file-copying code to handle errors
      properly on Windows (Bruce Momjian)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>pg_upgrade</>的文件拷贝代码，以在Windows上正确的处理错误 (Bruce Momjian)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Install guards in <application>pgbench</application> against corner-case overflow
      conditions during evaluation of script-specified division or modulo
      operators (Fabien Coelho, Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      在评估脚本指定的除法或模运算符期间，在<application>pgbench</>
      中安装保护防止极端溢出条件 (Fabien Coelho, Michael Paquier)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix failure to localize messages emitted
      by <application>pg_receivexlog</application> and <application>pg_recvlogical</application>
      (Ioseph Kim)
     </para>
____________________________________________________________________________-->
     <para>
      修复未能本地化<application>pg_receivexlog</>和<application>pg_recvlogical</>
      发出的消息 (Ioseph Kim)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid dump/reload problems when using both <application>plpython2</application>
      and <application>plpython3</application> (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      在使用<application>plpython2</>和<application>plpython3</>
      时，避免转储/重载问题 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      In principle, both versions of <application>PL/Python</application> can be used in
      the same database, though not in the same session (because the two
      versions of <application>libpython</application> cannot safely be used concurrently).
      However, <application>pg_restore</application> and <application>pg_upgrade</application> both
      do things that can fall foul of the same-session restriction.  Work
      around that by changing the timing of the check.
     </para>
____________________________________________________________________________-->
     <para>
      原则上，两个版本的<application>PL/Python</>可以在同一个数据库中使用，
      虽然不在同一个会话中（因为<application>libpython</>的两个版本不能安全地同时使用）。
      然而，<application>pg_restore</>和<application>pg_upgrade</>
      两者做的事情会使同一个会话限制冲突。通过改变检查的时间来解决。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>PL/Python</application> regression tests to pass with Python 3.5
      (Peter Eisentraut)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>PL/Python</>回归测试以通过Python 3.5
      (Peter Eisentraut)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix premature clearing of <application>libpq</application>'s input buffer when
      socket EOF is seen (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复当插槽EOF时，<application>libpq</>输入缓冲区过早的清除 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This mistake caused <application>libpq</application> to sometimes not report the
      backend's final error message before reporting <quote>server closed the
      connection unexpectedly</quote>.
     </para>
____________________________________________________________________________-->
     <para>
      在报告<quote>服务器意外关闭连接</>之前，此错误导致<application>libpq</>
      有时不报告后端的最终错误消息。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Prevent certain <application>PL/Java</application> parameters from being set by
      non-superusers (Noah Misch)
     </para>
____________________________________________________________________________-->
     <para>
      阻止某些<application>PL/Java</>参数被非超级用户设置 (Noah Misch)
     </para>

<!--==========================orignal english content==========================
     <para>
      This change mitigates a <application>PL/Java</application> security bug
      (CVE-2016-0766), which was fixed in <application>PL/Java</application> by marking
      these parameters as superuser-only.  To fix the security hazard for
      sites that update <productname>PostgreSQL</productname> more frequently
      than <application>PL/Java</application>, make the core code aware of them also.
     </para>
____________________________________________________________________________-->
     <para>
      此更改缓解<application>PL/Java</>安全性错误(CVE-2016-0766)，
      该错误在<application>PL/Java</>中已通过将这些参数标记为仅限超级用户修复。
      为了修复<productname>PostgreSQL</>比<application>PL/Java</>
      更频繁更新的站点安全隐患，让核心代码也知道它们。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Improve <application>libpq</application>'s handling of out-of-memory situations
      (Michael Paquier, Amit Kapila, Heikki Linnakangas)
     </para>
____________________________________________________________________________-->
     <para>
      改进<application>libpq</>对内存不足情况的处理
      (Michael Paquier, Amit Kapila, Heikki Linnakangas)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix order of arguments
      in <application>ecpg</application>-generated <literal>typedef</literal> statements
      (Michael Meskes)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>ecpg</>产生的<literal>typedef</>语句中参数的顺序
      (Michael Meskes)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Use <literal>%g</literal> not <literal>%f</literal> format
      in <application>ecpg</application>'s <function>PGTYPESnumeric_from_double()</function>
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      在<application>ecpg</>的<function>PGTYPESnumeric_from_double()</>
      中使用<literal>%g</>而不是<literal>%f</>格式
      (Tom Lane)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>ecpg</application>-supplied header files to not contain comments
      continued from a preprocessor directive line onto the next line
      (Michael Meskes)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>ecpg</>提供的头文件不包含从预处理器指令行继续到下一行的注释
      (Michael Meskes)
     </para>

<!--==========================orignal english content==========================
     <para>
      Such a comment is rejected by <application>ecpg</application>.  It's not yet clear
      whether <application>ecpg</application> itself should be changed.
     </para>
____________________________________________________________________________-->
     <para>
      这样的注释被<application>ecpg</>拒绝。目前还不清楚是否应该更改
      <application>ecpg</>本身。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <function>hstore_to_json_loose()</function>'s test for whether
      an <type>hstore</type> value can be converted to a JSON number (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<function>hstore_to_json_loose()</>，
      测试<type>hstore</>值是否可以转换为JSON数字 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously this function could be fooled by non-alphanumeric trailing
      characters, leading to emitting syntactically-invalid JSON.
     </para>
____________________________________________________________________________-->
     <para>
      以前，此函数可能被非字母数字的尾随字符欺骗，导致发出句法上无效的JSON。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Ensure that <filename>contrib/pgcrypto</filename>'s <function>crypt()</function>
      function can be interrupted by query cancel (Andreas Karlsson)
     </para>
____________________________________________________________________________-->
     <para>
      确保<filename>contrib/pgcrypto</>的<function>crypt()</>
      函数可以通过查询取消中断 (Andreas Karlsson)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      In <filename>contrib/postgres_fdw</filename>, fix bugs triggered by use
      of <literal>tableoid</literal> in data-modifying commands (Etsuro Fujita,
      Robert Haas)
     </para>
____________________________________________________________________________-->
     <para>
      在<filename>contrib/postgres_fdw</>中，修复在数据修改命令中使用
      <literal>tableoid</>触发的错误 (Etsuro Fujita,
      Robert Haas)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Accept <application>flex</application> versions later than 2.5.x
      (Tom Lane, Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      接受<application>flex</> 2.5.x 之后的版本
      (Tom Lane, Michael Paquier)
     </para>

<!--==========================orignal english content==========================
     <para>
      Now that flex 2.6.0 has been released, the version checks in our build
      scripts needed to be adjusted.
     </para>
____________________________________________________________________________-->
     <para>
      现在，flex 2.6.0已经发布，我们的构建脚本中的版本检查需要调整。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Improve reproducibility of build output by ensuring filenames are given
      to the linker in a fixed order (Christoph Berg)
     </para>
____________________________________________________________________________-->
     <para>
      通过确保文件名以固定顺序给链接器提高构建输出的重现性 (Christoph Berg)
     </para>

<!--==========================orignal english content==========================
     <para>
      This avoids possible bitwise differences in the produced executable
      files from one build to the next.
     </para>
____________________________________________________________________________-->
     <para>
      这避免了从一个构建到下一个构建生成的可执行文件的可能的逐位差异。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Install our <filename>missing</filename> script where PGXS builds can find it
      (Jim Nasby)
     </para>
____________________________________________________________________________-->
     <para>
      在PGXS构建可以找到<filename>缺少</>脚本的地方安装它
      (Jim Nasby)
     </para>

<!--==========================orignal english content==========================
     <para>
      This allows sane behavior in a PGXS build done on a machine where build
      tools such as <application>bison</application> are missing.
     </para>
____________________________________________________________________________-->
     <para>
      这允许在缺少构建工具（例如<application>bison</>）
      的机器上完成PGXS构建中的正常行为。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Ensure that <filename>dynloader.h</filename> is included in the installed
      header files in MSVC builds (Bruce Momjian, Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      确保<filename>dynloader.h</>包含在MSVC构建中安装的头文件中 
      (Bruce Momjian, Michael Paquier)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Add variant regression test expected-output file to match behavior of
      current <application>libxml2</application> (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      添加变体回归测试预期的输出文件以匹配当前<application>libxml2</>行为 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      The fix for <application>libxml2</application>'s CVE-2015-7499 causes it not to
      output error context reports in some cases where it used to do so.
      This seems to be a bug, but we'll probably have to live with it for
      some time, so work around it.
     </para>
____________________________________________________________________________-->
     <para>
      对<application>libxml2</>的CVE-2015-7499
      的修复导致它在某些应该报告错误内容的情况下不输出错误内容。
      这似乎是一个错误，但是我们可能要忍受一段时间，所以绕开它。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Update time zone data files to <application>tzdata</application> release 2016a for
      DST law changes in Cayman Islands, Metlakatla, and Trans-Baikal
      Territory (Zabaykalsky Krai), plus historical corrections for Pakistan.
     </para>
____________________________________________________________________________-->
     <para>
      更新时区数据文件到<application>tzdata</>版本2016a，
      因为DST规律在开曼群岛、Metlakatla和Trans-Baikal Territory (Zabaykalsky Krai)
      发生了改变，加上巴基斯坦的历史修正。
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-9-4-5">
<!--==========================orignal english content==========================
  <title>Release 9.4.5</title>
____________________________________________________________________________-->
  <title>版本 9.4.5</title>

  <formalpara>
<!--==========================orignal english content==========================
  <title>Release date:</title>
____________________________________________________________________________-->
  <title>发布日期：</title>
<!--==========================orignal english content==========================
  <para>2015-10-08</para>
____________________________________________________________________________-->
  <para>2015-10-08</para>
  </formalpara>

<!--==========================orignal english content==========================
  <para>
   This release contains a variety of fixes from 9.4.4.
   For information about new features in the 9.4 major release, see
   <xref linkend="release-9-4">.
  </para>
____________________________________________________________________________-->
  <para>
   这个版本包含自9.4.4以来的各种修复。关于9.4主版本的新特性信息，请查看
   <xref linkend="release-9-4">。
  </para>

  <sect2>
<!--==========================orignal english content==========================
   <title>Migration to Version 9.4.5</title>
____________________________________________________________________________-->
   <title>迁移到版本9.4.5</title>

<!--==========================orignal english content==========================
   <para>
    A dump/restore is not required for those running 9.4.X.
   </para>
____________________________________________________________________________-->
   <para>
    运行9.4.X的用户不需要转储/恢复。
   </para>

<!--==========================orignal english content==========================
   <para>
    However, if you are upgrading from a version earlier than 9.4.4,
    see <xref linkend="release-9-4-4">.
   </para>
____________________________________________________________________________-->
   <para>
    不过，如果您是从一个早于9.4.4的版本升级而来，请查看
    <xref linkend="release-9-4-4">。
   </para>
  </sect2>

  <sect2>
<!--==========================orignal english content==========================
   <title>Changes</title>
____________________________________________________________________________-->
   <title>修改列表</title>

   <itemizedlist>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Guard against stack overflows in <type>json</type> parsing
      (Oskari Saarenmaa)
     </para>
____________________________________________________________________________-->
     <para>
      防止<type>json</>解析中的堆栈溢出
      (Oskari Saarenmaa)
     </para>

<!--==========================orignal english content==========================
     <para>
      If an application constructs PostgreSQL <type>json</type>
      or <type>jsonb</type> values from arbitrary user input, the application's
      users can reliably crash the PostgreSQL server, causing momentary
      denial of service.  (CVE-2015-5289)
     </para>
____________________________________________________________________________-->
     <para>
      如果应用程序从任意用户输入构造PostgreSQL <type>json</>或<type>jsonb</>值，
      则应用程序的用户可以可靠地崩溃PostgreSQL服务器，导致暂时的拒绝服务。 (CVE-2015-5289)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <filename>contrib/pgcrypto</filename> to detect and report
      too-short <function>crypt()</function> salts (Josh Kupershmidt)
     </para>
____________________________________________________________________________-->
     <para>
      修复<filename>contrib/pgcrypto</>，检测和报告过短的
      <function>crypt()</>盐 (Josh Kupershmidt)
     </para>

<!--==========================orignal english content==========================
     <para>
      Certain invalid salt arguments crashed the server or disclosed a few
      bytes of server memory.  We have not ruled out the viability of
      attacks that arrange for presence of confidential information in the
      disclosed bytes, but they seem unlikely.  (CVE-2015-5288)
     </para>
____________________________________________________________________________-->
     <para>
      某些无效的salt参数破坏了服务器或公开了几个字节的服务器内存。
      我们没有排除在公开字节中安排机密信息存在的攻击的可行性，但似乎不大可能。 (CVE-2015-5288)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix subtransaction cleanup after a portal (cursor) belonging to an
      outer subtransaction fails (Tom Lane, Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      在属于外部子事务的门户（光标）失败后修复子事务清理 (Tom Lane, Michael Paquier)
     </para>

<!--==========================orignal english content==========================
     <para>
      A function executed in an outer-subtransaction cursor could cause an
      assertion failure or crash by referencing a relation created within an
      inner subtransaction.
     </para>
____________________________________________________________________________-->
     <para>
      在外部子事务游标中执行的函数可能会引用在内部子事务中创建的关系导致断言失败或崩溃。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix possible deadlock during WAL insertion
      when <varname>commit_delay</varname> is set (Heikki Linnakangas)
     </para>
____________________________________________________________________________-->
     <para>
      在<varname>commit_delay</>设置时，修复WAL插入期间可能的死锁 (Heikki Linnakangas)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Ensure all relations referred to by an updatable view are properly
      locked during an update statement (Dean Rasheed)
     </para>
____________________________________________________________________________-->
     <para>
      确保在可更新视图中引用的所有关系在更新语句期间被正确锁定 (Dean Rasheed)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix insertion of relations into the relation cache <quote>init file</quote>
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      将关系插入关系缓存<quote>init文件</>中
      (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      An oversight in a patch in the most recent minor releases
      caused <structname>pg_trigger_tgrelid_tgname_index</structname> to be omitted
      from the init file.  Subsequent sessions detected this, then deemed the
      init file to be broken and silently ignored it, resulting in a
      significant degradation in session startup time.  In addition to fixing
      the bug, install some guards so that any similar future mistake will be
      more obvious.
     </para>
____________________________________________________________________________-->
     <para>
      在最近次要版本的修补程序中的监督会导致从init文件中省略
      <structname> pg_trigger_tgrelid_tgname_index </>。后续会话检测到这一点，
      然后认为init文件被破坏，并且默认忽略它，导致会话启动时间显着降低。
      除了修复错误之外，还要安装一些防护装置，以使任何类似的未来错误都会更加明显。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid O(N^2) behavior when inserting many tuples into a SPI query
      result (Neil Conway)
     </para>
____________________________________________________________________________-->
     <para>
      当将许多元组插入到SPI查询结果中时，避免使用O(N^2)行为 (Neil Conway)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Improve <command>LISTEN</command> startup time when there are many unread
      notifications (Matt Newell)
     </para>
____________________________________________________________________________-->
     <para>
      当有许多未读通知时，改进<command>LISTEN</>启动时间 (Matt Newell)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix performance problem when a session alters large numbers of foreign
      key constraints (Jan Wieck, Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      当会话改变大量的外键约束时修复性能问题 (Jan Wieck, Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This was seen primarily when restoring <application>pg_dump</application> output
      for databases with many thousands of tables.
     </para>
____________________________________________________________________________-->
     <para>
      主要是在为具有数千个表的数据库恢复<application>pg_dump</>输出时出现。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Disable SSL renegotiation by default (Michael Paquier, Andres Freund)
     </para>
____________________________________________________________________________-->
     <para>
      默认情况下禁用SSL重新协商 (Michael Paquier, Andres Freund)
     </para>

<!--==========================orignal english content==========================
     <para>
      While use of SSL renegotiation is a good idea in theory, we have seen
      too many bugs in practice, both in the underlying OpenSSL library and
      in our usage of it.  Renegotiation will be removed entirely in 9.5 and
      later.  In the older branches, just change the default value
      of <varname>ssl_renegotiation_limit</varname> to zero (disabled).
     </para>
____________________________________________________________________________-->
     <para>
      虽然使用SSL重新协商理论上是一个好主意，但我们在实践中看到了太多的错误，
      包括底层的OpenSSL库和我们的使用。重新协商将在9.5及以后完全删除。
      在较旧的分支中，只需将<varname>ssl_renegotiation_limit</>的默认值更改为零（禁用）。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Lower the minimum values of the <literal>*_freeze_max_age</literal> parameters
      (Andres Freund)
     </para>
____________________________________________________________________________-->
     <para>
      降低<literal>*_freeze_max_age</>参数的最小值
      (Andres Freund)
     </para>

<!--==========================orignal english content==========================
     <para>
      This is mainly to make tests of related behavior less time-consuming,
      but it may also be of value for installations with limited disk space.
     </para>
____________________________________________________________________________-->
     <para>
      这主要是为了使相关行为的测试较少耗时，
      但是对于具有有限磁盘空间的安装也可能是有价值的。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Limit the maximum value of <varname>wal_buffers</varname> to 2GB to avoid
      server crashes (Josh Berkus)
     </para>
____________________________________________________________________________-->
     <para>
      限制<varname>wal_buffers</>的最大值为2GB，以避免服务器崩溃 (Josh Berkus)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid logging complaints when a parameter that can only be set at
      server start appears multiple times in <filename>postgresql.conf</filename>,
      and fix counting of line numbers after an <literal>include_dir</literal>
      directive (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      当只能在服务器启动时设置的参数在<filename>postgresql.conf</>中多次显示时，
      请避免记录投诉，并修正<literal>include_dir</>指令后的行号计数 (Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix rare internal overflow in multiplication of <type>numeric</type> values
      (Dean Rasheed)
     </para>
____________________________________________________________________________-->
     <para>
      修复<type>numeric</>值的乘法中罕见的内部溢出
      (Dean Rasheed)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Guard against hard-to-reach stack overflows involving record types,
      range types, <type>json</type>, <type>jsonb</type>, <type>tsquery</type>,
      <type>ltxtquery</type> and <type>query_int</type> (Noah Misch)
     </para>
____________________________________________________________________________-->
     <para>
      防止难以达到的堆栈溢出，包括记录类型、范围类型、<type>json</>、
      <type>jsonb</>、<type>tsquery</>、<type>ltxtquery</>和<type>query_int</> (Noah Misch)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix handling of <literal>DOW</literal> and <literal>DOY</literal> in datetime input
      (Greg Stark)
     </para>
____________________________________________________________________________-->
     <para>
      修复日期时间输入中<literal>DOW</>和<literal>DOY</>的处理
      (Greg Stark)
     </para>

<!--==========================orignal english content==========================
     <para>
      These tokens aren't meant to be used in datetime values, but previously
      they resulted in opaque internal error messages rather
      than <quote>invalid input syntax</quote>.
     </para>
____________________________________________________________________________-->
     <para>
      这些令牌并不意味着在datetime值中使用，但以前它们导致不透明的内部错误消息而不是
      <quote>无效输入语法</>。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Add more query-cancel checks to regular expression matching (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      向正则表达式匹配中添加更多查询取消检查 (Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Add recursion depth protections to regular expression, <literal>SIMILAR
      TO</literal>, and <literal>LIKE</literal> matching (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      向正则表达式添加递归深度保护，<literal>SIMILAR
      TO</>和<literal>LIKE</>匹配 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Suitable search patterns and a low stack depth limit could lead to
      stack-overrun crashes.
     </para>
____________________________________________________________________________-->
     <para>
      合适的搜索模式和低堆栈深度限制可能会导致堆栈超载崩溃。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix potential infinite loop in regular expression execution (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复正则表达式执行中潜在的无限循环 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      A search pattern that can apparently match a zero-length string, but
      actually doesn't match because of a back reference, could lead to an
      infinite loop.
     </para>
____________________________________________________________________________-->
     <para>
      一个搜索模式可以表面上匹配零长度字符串，但是实际上因为反向引用并不匹配，
      会导致一个无限循环。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      In regular expression execution, correctly record match data for
      capturing parentheses within a quantifier even when the match is
      zero-length (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      在正则表达式执行中，即使当匹配为零长度时，
      也可以正确记录用于捕获量词内的括号的匹配数据 (Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix low-memory failures in regular expression compilation
      (Andreas Seltenreich)
     </para>
____________________________________________________________________________-->
     <para>
      修复正则表达式编译中的低内存故障
      (Andreas Seltenreich)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix low-probability memory leak during regular expression execution
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复在正则表达式执行期间低概率的内存泄漏
      (Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix rare low-memory failure in lock cleanup during transaction abort
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复在事务中止期间锁清除中罕见的低内存故障
      (Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <quote>unexpected out-of-memory situation during sort</quote> errors
      when using tuplestores with small <varname>work_mem</varname> settings (Tom
      Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复在使用小的<varname>work_mem</>设置的tuplestores时，
      <quote>排序期间意外的内存不足情况</>错误 (Tom
      Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix very-low-probability stack overrun in <function>qsort</function> (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<function>qsort</>中非常低可能性的堆栈溢出 (Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <quote>invalid memory alloc request size</quote> failure in hash joins
      with large <varname>work_mem</varname> settings (Tomas Vondra, Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<quote>无效内存分配请求大小</>与大<varname>work_mem</>
      设置的哈希连接失败 (Tomas Vondra, Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix assorted planner bugs (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复各种计划错误 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      These mistakes could lead to incorrect query plans that would give wrong
      answers, or to assertion failures in assert-enabled builds, or to odd
      planner errors such as <quote>could not devise a query plan for the
      given query</quote>, <quote>could not find pathkey item to
      sort</quote>, <quote>plan should not reference subplan's variable</quote>,
      or <quote>failed to assign all NestLoopParams to plan nodes</quote>.
      Thanks are due to Andreas Seltenreich and Piotr Stefaniak for fuzz
      testing that exposed these problems.
     </para>
____________________________________________________________________________-->
     <para>
      这些错误会导致不正确的查询计划会给出错误的答案，或者启用断言的构建中的断言失败，
      或者奇怪的计划错误，比如<quote>无法为给定的查询设计查询计划</>、
      <quote>找不到要排序的路径项</>、<quote>计划不应该参考子计划的变量</>
      或<quote>无法将所有NestLoopParams分配给计划节点</>。
      感谢Andreas Seltenreich和Piotr Stefaniak的模糊测试，揭露了这些问题。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Improve planner's performance for <command>UPDATE</command>/<command>DELETE</command>
      on large inheritance sets (Tom Lane, Dean Rasheed)
     </para>
____________________________________________________________________________-->
     <para>
      提高规划者在大型继承集上的<command>UPDATE</>/<command>DELETE</>的性能 (Tom Lane, Dean Rasheed)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Ensure standby promotion trigger files are removed at postmaster
      startup (Michael Paquier, Fujii Masao)
     </para>
____________________________________________________________________________-->
     <para>
      确保在postmaster启动时备用升级触发器文件被删除 (Michael Paquier, Fujii Masao)
     </para>

<!--==========================orignal english content==========================
     <para>
      This prevents unwanted promotion from occurring if these files appear
      in a database backup that is used to initialize a new standby server.
     </para>
____________________________________________________________________________-->
     <para>
      如果这些文件出现在用于初始化一个新的备用服务器的数据库备份中，
      则可以防止不必要的升级。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      During postmaster shutdown, ensure that per-socket lock files are
      removed and listen sockets are closed before we remove
      the <filename>postmaster.pid</filename> file (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      在postmaster关闭期间，确保移除每套接字锁文件并且在我们移除
      <filename>postmaster.pid</>文件之前关闭监听套接字 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This avoids race-condition failures if an external script attempts to
      start a new postmaster as soon as <literal>pg_ctl stop</literal> returns.
     </para>
____________________________________________________________________________-->
     <para>
      如果外部脚本尝试在<literal>pg_ctl stop</>返回时立即启动新的postmaster，
      则可以避免竞争条件失败。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Ensure that the postmaster does not exit until all its child processes
      are gone, even in an immediate shutdown (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      确保postmaster不会退出，直到它所有的子进程都消失，即使是立即关闭模式 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Like the previous item, this avoids possible race conditions against a
      subsequently-started postmaster.
     </para>
____________________________________________________________________________-->
     <para>
      像上一项一样，这样可以避免与随后启动的postmaster发生竞争。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix postmaster's handling of a startup-process crash during crash
      recovery (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复崩溃恢复期间主进程对启动进程崩溃的处理 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      If, during a crash recovery cycle, the startup process crashes without
      having restored database consistency, we'd try to launch a new startup
      process, which typically would just crash again, leading to an infinite
      loop.
     </para>
____________________________________________________________________________-->
     <para>
      如果，在崩溃恢复循环期间，启动进程还未恢复数据库一致性就崩溃了，
      我们会尝试加载一个新的启动进程，这通常会再次崩溃，导致无限循环。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Make emergency autovacuuming for multixact wraparound more robust
      (Andres Freund)
     </para>
____________________________________________________________________________-->
     <para>
      使多重环绕的紧急自动清理更健壮
      (Andres Freund)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Do not print a <literal>WARNING</literal> when an autovacuum worker is already
      gone when we attempt to signal it, and reduce log verbosity for such
      signals (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      当我们尝试发出信号并且自动清理工作者已经不在时，请勿打印<literal>WARNING</>，
      并减少此类信号的日志冗长度 (Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Prevent autovacuum launcher from sleeping unduly long if the server
      clock is moved backwards a large amount (&Aacute;lvaro Herrera)
     </para>
____________________________________________________________________________-->
     <para>
      如果服务器时钟向后大量移动，防止自动清理加载进程睡眠过长 (&Aacute;lvaro Herrera)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Ensure that cleanup of a GIN index's pending-insertions list is
      interruptable by cancel requests (Jeff Janes)
     </para>
____________________________________________________________________________-->
     <para>
      确保GIN索引未完成插入列表的清理可以通过取消请求中断 (Jeff Janes)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Allow all-zeroes pages in GIN indexes to be reused (Heikki Linnakangas)
     </para>
____________________________________________________________________________-->
     <para>
      允许重新使用GIN索引中的全零页面 (Heikki Linnakangas)
     </para>

<!--==========================orignal english content==========================
     <para>
      Such a page might be left behind after a crash.
     </para>
____________________________________________________________________________-->
     <para>
      这样的页面可能会在崩溃后遗留下来。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix handling of all-zeroes pages in SP-GiST indexes (Heikki
      Linnakangas)
     </para>
____________________________________________________________________________-->
     <para>
      修复SP-GiST索引中全零页面的处理 (Heikki
      Linnakangas)
     </para>

<!--==========================orignal english content==========================
     <para>
      <command>VACUUM</command> attempted to recycle such pages, but did so in a
      way that wasn't crash-safe.
     </para>
____________________________________________________________________________-->
     <para>
      <command>VACUUM</>尝试回收这样的页面，但是执行的方式不是崩溃安全的。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix off-by-one error that led to otherwise-harmless warnings
      about <quote>apparent wraparound</quote> in subtrans/multixact truncation
      (Thomas Munro)
     </para>
____________________________________________________________________________-->
     <para>
      修复了一个在subtrans/multixact截断中导致关于<quote>明显回绕</>
      的其他无害警告的一个接一个的错误
      (Thomas Munro)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix misreporting of <command>CONTINUE</command> and <command>MOVE</command> statement
      types in <application>PL/pgSQL</application>'s error context messages
      (Pavel Stehule, Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>PL/pgSQL</>的错误内容信息中<command>CONTINUE</>和
      <command>MOVE</>语句类型的错误报告
      (Pavel Stehule, Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>PL/Perl</application> to handle non-<acronym>ASCII</acronym> error
      message texts correctly (Alex Hunsaker)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>PL/Perl</>以正确处理非<acronym>ASCII</>错误消息文本 (Alex Hunsaker)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>PL/Python</application> crash when returning the string
      representation of a <type>record</type> result (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复当返回一个<type>record</>结果的字符串表示时，
      <application>PL/Python</>的崩溃 (Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix some places in <application>PL/Tcl</application> that neglected to check for
      failure of <function>malloc()</function> calls (Michael Paquier, &Aacute;lvaro
      Herrera)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>PL/Tcl</>中忽略了检查<function>malloc()</>调用失败的某些地方
      (Michael Paquier, &Aacute;lvaro Herrera)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      In <filename>contrib/isn</filename>, fix output of ISBN-13 numbers that begin
      with 979 (Fabien Coelho)
     </para>
____________________________________________________________________________-->
     <para>
      在<filename>contrib/isn</>中，修复以979开头的ISBN-13编号的输出 (Fabien Coelho)
     </para>

<!--==========================orignal english content==========================
     <para>
      EANs beginning with 979 (but not 9790) are considered ISBNs, but they
      must be printed in the new 13-digit format, not the 10-digit format.
     </para>
____________________________________________________________________________-->
     <para>
      以979（但不是9790）开头的EAN被认为是ISBN，但是它们必须以新的13位格式打印，
      而不是10位格式。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Improve <filename>contrib/pg_stat_statements</filename>' handling of
      query-text garbage collection (Peter Geoghegan)
     </para>
____________________________________________________________________________-->
     <para>
      改进<filename>contrib/pg_stat_statements</>对查询文本垃圾收集的处理 (Peter Geoghegan)
     </para>

<!--==========================orignal english content==========================
     <para>
      The external file containing query texts could bloat to very large
      sizes; once it got past 1GB attempts to trim it would fail, soon
      leading to situations where the file could not be read at all.
     </para>
____________________________________________________________________________-->
     <para>
      包含查询文本的外部文件可能会膨胀到非常大的大小；
      一旦它超过1GB，修剪它的尝试将失败，很快导致文件无法读取的情况。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Improve <filename>contrib/postgres_fdw</filename>'s handling of
      collation-related decisions (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      改进<filename>contrib/postgres_fdw</>对排序相关的决定的处理 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      The main user-visible effect is expected to be that comparisons
      involving <type>varchar</type> columns will be sent to the remote server
      for execution in more cases than before.
     </para>
____________________________________________________________________________-->
     <para>
      主要的用户可见效果预计是，在更多的情况下，
      涉及<type>varchar</>列的比较将被发送到远程服务器执行。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Improve <application>libpq</application>'s handling of out-of-memory conditions
      (Michael Paquier, Heikki Linnakangas)
     </para>
____________________________________________________________________________-->
     <para>
      改进<application>libpq</>对内存不足条件的处理
      (Michael Paquier, Heikki Linnakangas)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix memory leaks and missing out-of-memory checks
      in <application>ecpg</application> (Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>ecpg</>中内存泄露和缺少内存不足检查 (Michael Paquier)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>psql</application>'s code for locale-aware formatting of numeric
      output (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>psql</>的数字输出区域感知格式的代码 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      The formatting code invoked by <literal>\pset numericlocale on</literal>
      did the wrong thing for some uncommon cases such as numbers with an
      exponent but no decimal point.  It could also mangle already-localized
      output from the <type>money</type> data type.
     </para>
____________________________________________________________________________-->
     <para>
      <literal>\pset numericlocale on</>调用的格式化代码对于一些不常见的情况
      （例如具有指数而不是小数点的数字）做错了事情。它也可以从<type>money</>
      数据类型中转移已经本地化的输出。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Prevent crash in <application>psql</application>'s <command>\c</command> command when
      there is no current connection (Noah Misch)
     </para>
____________________________________________________________________________-->
     <para>
      当没有当前连接时，在<application>psql</>的<command>\c</>命令中防止崩溃 (Noah Misch)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Make <application>pg_dump</application> handle inherited <literal>NOT VALID</literal>
      check constraints correctly (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      让<application>pg_dump</>正确处理继承的<literal>NOT VALID</>
      检查约束 (Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix selection of default <application>zlib</application> compression level
      in <application>pg_dump</application>'s directory output format (Andrew Dunstan)
     </para>
____________________________________________________________________________-->
     <para>
      修正在<application>pg_dump</>的目录输出格式中默认的<application>zlib</>
      压缩级别的选择 (Andrew Dunstan)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Ensure that temporary files created during a <application>pg_dump</application>
      run with <acronym>tar</acronym>-format output are not world-readable (Michael
      Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      确保在<application>pg_dump</>中使用<acronym>tar</>
      格式输出创建的临时文件不是世界可读的 (Michael
      Paquier)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>pg_dump</application> and <application>pg_upgrade</application> to support
      cases where the <literal>postgres</literal> or <literal>template1</literal> database
      is in a non-default tablespace (Marti Raudsepp, Bruce Momjian)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>pg_dump</>和<application>pg_upgrade</>以支持
      <literal>postgres</>或<literal>template1</>数据库在非缺省表空间中的情况
      (Marti Raudsepp, Bruce Momjian)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>pg_dump</application> to handle object privileges sanely when
      dumping from a server too old to have a particular privilege type
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>pg_dump</>在从过旧的服务器转储而获得特定的权限类型时，
      正确地处理对象权限 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      When dumping data types from pre-9.2 servers, and when dumping
      functions or procedural languages from pre-7.3
      servers, <application>pg_dump</application> would
      produce <command>GRANT</command>/<command>REVOKE</command> commands that revoked the
      owner's grantable privileges and instead granted all privileges
      to <literal>PUBLIC</literal>.  Since the privileges involved are
      just <literal>USAGE</literal> and <literal>EXECUTE</literal>, this isn't a security
      problem, but it's certainly a surprising representation of the older
      systems' behavior.  Fix it to leave the default privilege state alone
      in these cases.
     </para>
____________________________________________________________________________-->
     <para>
      当从9.2之前的服务器转储数据类型，和从7.3之前的服务器转储函数或过程语言时，
      <application>pg_dump</>
      将产生撤销所有者的授予权限然后赋予所有权限给<literal>PUBLIC</>的
      <command>GRANT</>/<command>REVOKE</>命令。因为权限仅包括<literal>USAGE</>
      和<literal>EXECUTE</>，所以这不是一个安全问题，但是，对于旧系统的行为来说，
      这当然是一个令人惊讶的表现。修复它在这些情况下单独保留默认权限状态。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>pg_dump</application> to dump shell types (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>pg_dump</>以转储shell类型 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Shell types (that is, not-yet-fully-defined types) aren't useful for
      much, but nonetheless <application>pg_dump</application> should dump them.
     </para>
____________________________________________________________________________-->
     <para>
      Shell类型(也就是还未完全定义的类型)对于很多方面是没有用的，
      但是<application>pg_dump</>应该转储它们。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix assorted minor memory leaks in <application>pg_dump</application> and other
      client-side programs (Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>pg_dump</>和其他客户端程序中的各种小内存泄漏 (Michael Paquier)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>pgbench</application>'s progress-report behavior when a query,
      or <application>pgbench</application> itself, gets stuck (Fabien Coelho)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>pgbench</>的进度报告行为，当查询或
      <application>pgbench</>本身卡住 (Fabien Coelho)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix spinlock assembly code for Alpha hardware (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复Alpha硬件的spinlock汇编代码 (Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix spinlock assembly code for PPC hardware to be compatible
      with <acronym>AIX</acronym>'s native assembler (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复PPC硬件的spinlock汇编代码与<acronym>AIX</>的本地汇编程序兼容 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Building with <application>gcc</application> didn't work if <application>gcc</application>
      had been configured to use the native assembler, which is becoming more
      common.
     </para>
____________________________________________________________________________-->
     <para>
      如果<application>gcc</>被配置为使用本机汇编程序，这种情况正在变得越来越普遍，
      那么使用<application>gcc</>构建就不起作用。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      On <acronym>AIX</acronym>, test the <literal>-qlonglong</literal> compiler option
      rather than just assuming it's safe to use (Noah Misch)
     </para>
____________________________________________________________________________-->
     <para>
      在<acronym>AIX</>上，测试<literal>-qlonglong</>编译器选项而不仅仅假设它是安全的
       (Noah Misch)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      On <acronym>AIX</acronym>, use <literal>-Wl,-brtllib</literal> link option to allow
      symbols to be resolved at runtime (Noah Misch)
     </para>
____________________________________________________________________________-->
     <para>
      在<acronym>AIX</>上，使用<literal>-Wl,-brtllib</>连接选项以允许在运行时解决符号
      (Noah Misch)
     </para>

<!--==========================orignal english content==========================
     <para>
      Perl relies on this ability in 5.8.0 and later.
     </para>
____________________________________________________________________________-->
     <para>
      Perl在5.8.0及以后的版本中依赖于此能力。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid use of inline functions when compiling with
      32-bit <application>xlc</application>, due to compiler bugs (Noah Misch)
     </para>
____________________________________________________________________________-->
     <para>
      由于编译器错误，在使用32位<application>xlc</>编译时，
      避免使用内联函数 (Noah Misch)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Use <filename>librt</filename> for <function>sched_yield()</function> when necessary,
      which it is on some Solaris versions (Oskari Saarenmaa)
     </para>
____________________________________________________________________________-->
     <para>
      在需要时为<function>sched_yield()</>使用<filename>librt</>，
      在某些Solaris版本上是这样的 (Oskari Saarenmaa)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Translate encoding <literal>UHC</literal> as Windows code page 949
      (Noah Misch)
     </para>
____________________________________________________________________________-->
     <para>
      将编码<literal>UHC</>转换为Windows代码页949
      (Noah Misch)
     </para>

<!--==========================orignal english content==========================
     <para>
      This fixes presentation of non-ASCII log messages from processes that
      are not attached to any particular database, such as the postmaster.
     </para>
____________________________________________________________________________-->
     <para>
      这将修复非附加到任何特定数据库（如postmaster）的进程的非ASCII日志消息的表示。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      On Windows, avoid failure when doing encoding conversion to UTF16
      outside a transaction, such as for log messages (Noah Misch)
     </para>
____________________________________________________________________________-->
     <para>
      在Windows上，在事务之外进行编码转换到UTF16时，避免失败，
      例如日志消息 (Noah Misch)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix postmaster startup failure due to not
      copying <function>setlocale()</function>'s return value (Noah Misch)
     </para>
____________________________________________________________________________-->
     <para>
      修复postmaster由于没有拷贝<function>setlocale()</>
      的返回值而启动失败 (Noah Misch)
     </para>

<!--==========================orignal english content==========================
     <para>
      This has been reported on Windows systems with the ANSI code page set
      to CP936 (<quote>Chinese (Simplified, PRC)</quote>), and may occur with
      other multibyte code pages.
     </para>
____________________________________________________________________________-->
     <para>
      这已在Windows系统上报告，其ANSI代码页设置为CP936（<quote>Chinese (Simplified, PRC)</>），
      并且可能与其他多字节代码页一起发生。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix Windows <filename>install.bat</filename> script to handle target directory
      names that contain spaces (Heikki Linnakangas)
     </para>
____________________________________________________________________________-->
     <para>
      修复Windows <filename>install.bat</>脚本以处理包含空格的目标路径名 (Heikki Linnakangas)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Make the numeric form of the <productname>PostgreSQL</productname> version number
      (e.g., <literal>90405</literal>) readily available to extension Makefiles,
      as a variable named <varname>VERSION_NUM</varname> (Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      让<productname>PostgreSQL</>版本号的数值形式
      (例如<literal>90405</>)对扩展Makefiles可用，
      作为一个名为<varname>VERSION_NUM</>的变量 (Michael Paquier)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Update time zone data files to <application>tzdata</application> release 2015g for
      DST law changes in Cayman Islands, Fiji, Moldova, Morocco, Norfolk
      Island, North Korea, Turkey, and Uruguay.  There is a new zone name
      <literal>America/Fort_Nelson</literal> for the Canadian Northern Rockies.
     </para>
____________________________________________________________________________-->
     <para>
      更新时区数据文件到<application>tzdata</>版本2015g，
      因为DST规律在开曼群岛、斐济、摩尔多瓦、摩洛哥、诺福克岛、北朝鲜、
      土耳其和乌拉圭发生了改变。加拿大北洛矶山脉有一个新的时区名
      <literal>America/Fort_Nelson</>。
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-9-4-4">
<!--==========================orignal english content==========================
  <title>Release 9.4.4</title>
____________________________________________________________________________-->
  <title>版本 9.4.4</title>

  <formalpara>
<!--==========================orignal english content==========================
  <title>Release date:</title>
____________________________________________________________________________-->
  <title>发布日期：</title>
<!--==========================orignal english content==========================
  <para>2015-06-12</para>
____________________________________________________________________________-->
  <para>2015-06-12</para>
  </formalpara>

<!--==========================orignal english content==========================
  <para>
   This release contains a small number of fixes from 9.4.3.
   For information about new features in the 9.4 major release, see
   <xref linkend="release-9-4">.
  </para>
____________________________________________________________________________-->
  <para>
   这个版本包含少量来自9.4.3的补丁。关于9.4主版本的新特性信息，请查看<xref linkend="release-9-4">。
  </para>  

  <sect2>
<!--==========================orignal english content==========================
   <title>Migration to Version 9.4.4</title>
____________________________________________________________________________-->
   <title>迁移到版本 9.4.4</title>

<!--==========================orignal english content==========================
   <para>
    A dump/restore is not required for those running 9.4.X.
   </para>
____________________________________________________________________________-->
   <para>
    运行9.4.X版本的用户不需要转储/恢复。
   </para>

<!--==========================orignal english content==========================
   <para>
    However, if you are upgrading an installation that was previously
    upgraded using a <application>pg_upgrade</application> version between 9.3.0 and
    9.3.4 inclusive, see the first changelog entry below.
   </para>
____________________________________________________________________________-->
   <para>
    不过，如果你正在升级一个以前使用9.3.0到9.3.4之间的<application>pg_upgrade</>
    版本升级的安装，请查看下面的第一个更新日志条目。
   </para>

<!--==========================orignal english content==========================
   <para>
    Also, if you are upgrading from a version earlier than 9.4.2,
    see <xref linkend="release-9-4-2">.
   </para>
____________________________________________________________________________-->
   <para>
    另外，如果你从一个早于9.4.2的版本升级而来，请查看<xref linkend="release-9-4-2">。
   </para>
  </sect2>

  <sect2>
<!--==========================orignal english content==========================
   <title>Changes</title>
____________________________________________________________________________-->
   <title>修改列表</title>

   <itemizedlist>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix possible failure to recover from an inconsistent database state
      (Robert Haas)
     </para>
____________________________________________________________________________-->
     <para>
      修复可能的失败，以便从一个不一致的数据库状态中恢复
      (Robert Haas)
     </para>

<!--==========================orignal english content==========================
<para>
      Recent <productname>PostgreSQL</productname> releases introduced mechanisms to
      protect against multixact wraparound, but some of that code did not
      account for the possibility that it would need to run during crash
      recovery, when the database may not be in a consistent state.  This
      could result in failure to restart after a crash, or failure to start
      up a secondary server.  The lingering effects of a previously-fixed
      bug in <application>pg_upgrade</application> could also cause such a failure, in
      installations that had used <application>pg_upgrade</application> versions
      between 9.3.0 and 9.3.4.
     </para>
____________________________________________________________________________-->
<para>
最近的<productname>PostgreSQL</>版本引入了防范multixact概括的机制，
但是一些代码并没有说明数据库不在一个一致的状态时，它需要在崩溃恢复期间运行的可能性。
这会导致崩溃后未能重启或未能启动辅助服务器。在<application>pg_upgrade</>
中以前修复的一个bug一直存在的影响也会导致这样的失败，
在曾经使用版本9.3.0和9.3.4的<application>pg_upgrade</>的安装中。
</para>

<!--==========================orignal english content==========================
     <para>
      The <application>pg_upgrade</application> bug in question was that it would
      set <literal>oldestMultiXid</literal> to 1 in <filename>pg_control</filename> even
      if the true value should be higher.  With the fixes introduced in
      this release, such a situation will result in immediate emergency
      autovacuuming until a correct <literal>oldestMultiXid</literal> value can
      be determined.  If that would pose a hardship, users can avoid it by
      doing manual vacuuming <emphasis>before</emphasis> upgrading to this release.
      In detail:

      <orderedlist>
       <listitem>
        <para>
         Check whether <application>pg_controldata</application> reports <quote>Latest
         checkpoint's oldestMultiXid</quote> to be 1.  If not, there's nothing
         to do.
        </para>
       </listitem>
       <listitem>
        <para>
         Look in <filename>PGDATA/pg_multixact/offsets</filename> to see if there's a
         file named <filename>0000</filename>.  If there is, there's nothing to do.
        </para>
       </listitem>
       <listitem>
        <para>
         Otherwise, for each table that has
         <structname>pg_class</structname>.<structfield>relminmxid</structfield> equal to 1,
         <command>VACUUM</command> that table with
         both <xref linkend="guc-vacuum-multixact-freeze-min-age">
         and <xref linkend="guc-vacuum-multixact-freeze-table-age"> set to
         zero.  (You can use the vacuum cost delay parameters described
         in <xref linkend="runtime-config-resource-vacuum-cost"> to reduce
         the performance consequences for concurrent sessions.)
        </para>
       </listitem>
      </orderedlist>
     </para>
____________________________________________________________________________-->
     <para>
正在讨论的<application>pg_upgrade</> bug，可以设置<filename>pg_control</>中的
<literal>oldestMultiXid</>为1，即使真值应该更高些。由于在这些版本中引入的修复，
这样的情况将导致立即紧急清理，直到可以确定一个正确的<literal>oldestMultiXid</>值。
如果这会造成困难，用户可以在升级到这个版本<emphasis>之前</>，通过手动清理来避免。详细：

      <orderedlist>
       <listitem>
        <para>
         检查<application>pg_controldata</>是否报告<quote>最近检查点的oldestMultiXid</>为1。
         如果不，则什么都不用做。
        </para>
       </listitem>
       <listitem>
        <para>
        查看<filename>PGDATA/pg_multixact/offsets</>，看看是否有一个名为<filename>0000</>的文件。
        如果有，则什么都不用做。
        </para>
       </listitem>
       <listitem>
        <para>
         否则，对于每个表都有<structname>pg_class</>.<structfield>relminmxid</>等于1，
         <xref linkend="guc-vacuum-multixact-freeze-min-age">和
         <xref linkend="guc-vacuum-multixact-freeze-table-age">都设置为零<command>VACUUM</>该表。
         （你可以使用<xref linkend="runtime-config-resource-vacuum-cost">
         中描述的清理开销延迟参数来降低对当前会话的性能影响。）
        </para>
       </listitem>
      </orderedlist>
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix rare failure to invalidate relation cache init file (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复关系缓存初始化文件失效的罕见失败 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      With just the wrong timing of concurrent activity, a <command>VACUUM
      FULL</command> on a system catalog might fail to update the <quote>init file</quote>
      that's used to avoid cache-loading work for new sessions.  This would
      result in later sessions being unable to access that catalog at all.
      This is a very ancient bug, but it's so hard to trigger that no
      reproducible case had been seen until recently.
     </para>
____________________________________________________________________________-->
     <para>
      由于并发活动正好发生在错误的时间，在一个系统目录上的<command>VACUUM
      FULL</>可能会未能更新用于避免新会话缓存加载工作的<quote>初始化文件</>。
      这会导致稍后的会话不能访问该目录。这是一个非常老的bug，
      但是它非常难以触发，一直没有看到可复制的情况直到最近。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid deadlock between incoming sessions and <literal>CREATE/DROP
      DATABASE</literal> (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      避免传入的会话和<literal>CREATE/DROP DATABASE</>之间的死锁 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      A new session starting in a database that is the target of
      a <command>DROP DATABASE</command> command, or is the template for
      a <command>CREATE DATABASE</command> command, could cause the command to wait
      for five seconds and then fail, even if the new session would have
      exited before that.
     </para>
____________________________________________________________________________-->
     <para>
      在数据库中开始的新会话是<command>DROP DATABASE</>命令的目标，
      或者是<command>CREATE DATABASE</>命令的模板，会导致命令等待5秒钟然后失败，
      即使新的会话在这之前退出。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Improve planner's cost estimates for semi-joins and anti-joins with
      inner indexscans (Tom Lane, Tomas Vondra)
     </para>
____________________________________________________________________________-->
     <para>
      改善半连接和反连接内部索引扫描的规划器的开销估计 (Tom Lane, Tomas Vondra)
     </para>

<!--==========================orignal english content==========================
     <para>
      This type of plan is quite cheap when all the join clauses are used
      as index scan conditions, even if the inner scan would nominally
      fetch many rows, because the executor will stop after obtaining one
      row.  The planner only partially accounted for that effect, and would
      therefore overestimate the cost, leading it to possibly choose some
      other much less efficient plan type.
     </para>
____________________________________________________________________________-->
     <para>
      当所有连接子句都用作索引扫描条件时，这种类型的规划是相当便宜的，
      即使内部扫描将名义上获取许多行，因为执行器将在获得一行之后停止。
      规划器只是部分的解释那个影响，并且因此高估开销，
      导致它有可能选择一些其他更小影响的规划类型。
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-9-4-3">
<!--==========================orignal english content==========================
  <title>Release 9.4.3</title>
____________________________________________________________________________-->
  <title>版本 9.4.3</title>

  <formalpara>
<!--==========================orignal english content==========================
  <title>Release date:</title>
____________________________________________________________________________-->
  <title>发布日期：</title>
<!--==========================orignal english content==========================
  <para>2015-06-04</para>
____________________________________________________________________________-->
  <para>2015-06-04</para>
  </formalpara>

<!--==========================orignal english content==========================
  <para>
   This release contains a small number of fixes from 9.4.2.
   For information about new features in the 9.4 major release, see
   <xref linkend="release-9-4">.
  </para>
____________________________________________________________________________-->
  <para>
  这个版本包含一些9.4.2以来的小的修复。关于9.4主版本的新特性信息，
  请查看<xref linkend="release-9-4">。
  </para>

  
  
  <sect2>
<!--==========================orignal english content==========================
   <title>Migration to Version 9.4.3</title>
____________________________________________________________________________-->
   <title>迁移到版本 9.4.3</title>

<!--==========================orignal english content==========================
   <para>
    A dump/restore is not required for those running 9.4.X.
   </para>
____________________________________________________________________________-->
   <para>
    运行9.4.X的用户不需要转储/恢复。
   </para>

<!--==========================orignal english content==========================
   <para>
    However, if you are upgrading from a version earlier than 9.4.2,
    see <xref linkend="release-9-4-2">.
   </para>
____________________________________________________________________________-->
   <para>
    不过，如果你是从一个早于9.4.2的版本升级而来，请查阅<xref linkend="release-9-4-2">。
   </para>
  </sect2>

  <sect2>
<!--==========================orignal english content==========================
   <title>Changes</title>
____________________________________________________________________________-->
   <title>修改列表</title>

   <itemizedlist>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid failures while <function>fsync</function>'ing data directory during
      crash restart (Abhijit Menon-Sen, Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      避免崩溃重启期间<function>fsync</>数据目录失败 (Abhijit Menon-Sen, Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      In the previous minor releases we added a patch to <function>fsync</function>
      everything in the data directory after a crash.  Unfortunately its
      response to any error condition was to fail, thereby preventing the
      server from starting up, even when the problem was quite harmless.
      An example is that an unwritable file in the data directory would
      prevent restart on some platforms; but it is common to make SSL
      certificate files unwritable by the server.  Revise this behavior so
      that permissions failures are ignored altogether, and other types of
      failures are logged but do not prevent continuing.
     </para>
____________________________________________________________________________-->
     <para>
      在之前的小版本中，我们添加了一个补丁，修补崩溃之后在数据目录中<function>fsync</>任何东西。
      不幸的是，它对任何错误条件的响应都是失败，因此阻止服务器重启，
      即使问题是完全无害的。一个例子是，数据目录中的一个不可写文件在某些平台上会阻止重启；
      但是共同的是会导致SSL认证文件不能被服务器写。修改这个行为，
      忽略所有权限失败，并且记录其他类型的失败但是不阻止继续。
     </para>

<!--==========================orignal english content==========================
     <para>
      Also apply the same rules in <literal>initdb -&minus;sync-only</literal>.
      This case is less critical but it should act similarly.
     </para>
____________________________________________________________________________-->
     <para>
      也在<literal>initdb --sync-only</>中应用相同的规则。
      这个情况不太重要但是也要类似的动作。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <function>pg_get_functiondef()</function> to show
      functions' <literal>LEAKPROOF</literal> property, if set (Jeevan Chalke)
     </para>
____________________________________________________________________________-->
     <para>
      修复<function>pg_get_functiondef()</>，显示函数的
      <literal>LEAKPROOF</>属性，如果设置了的话 (Jeevan Chalke)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <function>pushJsonbValue()</function> to unpack <type>jbvBinary</type>
      objects (Andrew Dunstan)
     </para>
____________________________________________________________________________-->
     <para>
      修复<function>pushJsonbValue()</>，解压<type>jbvBinary</>对象 (Andrew Dunstan)
     </para>

<!--==========================orignal english content==========================
     <para>
      This change does not affect any behavior in the core code as of 9.4,
      but it avoids a corner case for possible third-party callers.
     </para>
____________________________________________________________________________-->
     <para>
      这个修改并不影响9.4内核代码中的任何行为，但是它避免了可能的第三方调用的极端情况。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Remove <application>configure</application>'s check prohibiting linking to a
      threaded <application>libpython</application>
      on <systemitem class="osname">OpenBSD</systemitem> (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      删除<application>configure</>的检查禁止连接到<systemitem class="osname">OpenBSD</>
      上的线程<application>libpython</> (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      The failure this restriction was meant to prevent seems to not be a
      problem anymore on current <systemitem class="osname">OpenBSD</systemitem>
      versions.
     </para>
____________________________________________________________________________-->
     <para>
      为了避免失败的这个限制在当前的<systemitem class="osname">OpenBSD</>
      版本上看起来不再是一个问题。
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-9-4-2">
<!--==========================orignal english content==========================
  <title>Release 9.4.2</title>
____________________________________________________________________________-->
  <title>版本 9.4.2</title>

  <formalpara>
<!--==========================orignal english content==========================
  <title>Release date:</title>
____________________________________________________________________________-->
  <title>发布日期：</title>
<!--==========================orignal english content==========================
  <para>2015-05-22</para>
____________________________________________________________________________-->
  <para>2015-05-22</para>
  </formalpara>

<!--==========================orignal english content==========================
  <para>
   This release contains a variety of fixes from 9.4.1.
   For information about new features in the 9.4 major release, see
   <xref linkend="release-9-4">.
  </para>
____________________________________________________________________________-->
  <para>
   这个版本包含各种自9.4.1以来的修复。关于9.4主版本的的新特性信息，
   请查看<xref linkend="release-9-4">。
  </para>

  <sect2>
<!--==========================orignal english content==========================
   <title>Migration to Version 9.4.2</title>
____________________________________________________________________________-->
   <title>迁移到版本9.4.2</title>

<!--==========================orignal english content==========================
   <para>
    A dump/restore is not required for those running 9.4.X.
   </para>
____________________________________________________________________________-->
   <para>
    运行9.4.X版本的用户不需要转储/恢复。
   </para>

<!--==========================orignal english content==========================
   <para>
    However, if you use <filename>contrib/citext</filename>'s
    <function>regexp_matches()</function> functions, see the changelog entry below
    about that.
   </para>
____________________________________________________________________________-->
   <para>
    不过，如果你使用了<filename>contrib/citext</>的<function>regexp_matches()</>
    函数，请产看下面关于它的修改日志项。
   </para>

<!--==========================orignal english content==========================
   <para>
    Also, if you are upgrading from a version earlier than 9.4.1,
    see <xref linkend="release-9-4-1">.
   </para>
____________________________________________________________________________-->
   <para>
    另外，如果你是从早于9.4.1的版本升级而来，请查看<xref linkend="release-9-4-1">。
   </para>
  </sect2>

  <sect2>
<!--==========================orignal english content==========================
   <title>Changes</title>
____________________________________________________________________________-->
   <title>修改列表</title>

   <itemizedlist>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid possible crash when client disconnects just before the
      authentication timeout expires (Benkocs Norbert Attila)
     </para>
____________________________________________________________________________-->
     <para>
      避免正好在认证超时之前客户端断开时可能的崩溃 (Benkocs Norbert Attila)
     </para>

<!--==========================orignal english content==========================
     <para>
      If the timeout interrupt fired partway through the session shutdown
      sequence, SSL-related state would be freed twice, typically causing a
      crash and hence denial of service to other sessions.  Experimentation
      shows that an unauthenticated remote attacker could trigger the bug
      somewhat consistently, hence treat as security issue.
      (CVE-2015-3165)
     </para>
____________________________________________________________________________-->
     <para>
      如果超时中断触发了会话关闭序列中的一部分，那么SSL相关的状态将会释放两次，
      通常导致崩溃并且因此拒绝其他会话的服务。实验显示一个未认证的远程攻击会有些一致的触发该bug，
      因此将其看做是安全问题。 (CVE-2015-3165)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Improve detection of system-call failures (Noah Misch)
     </para>
____________________________________________________________________________-->
     <para>
      改善系统调用失败的检测 (Noah Misch)
     </para>

<!--==========================orignal english content==========================
     <para>
      Our replacement implementation of <function>snprintf()</function> failed to
      check for errors reported by the underlying system library calls;
      the main case that might be missed is out-of-memory situations.
      In the worst case this might lead to information exposure, due to our
      code assuming that a buffer had been overwritten when it hadn't been.
      Also, there were a few places in which security-relevant calls of other
      system library functions did not check for failure.
     </para>
____________________________________________________________________________-->
     <para>
      我们的<function>snprintf()</>替换实现未能检查底层系统库调用报告的错误；
      可能错过的主要情况是内存溢出状况。在最坏的情况下，这可能导致信息暴露，
      因为我们的代码假设一个缓冲器已经重写了，而它没有重写。另外，
      有几个地方有其他系统库函数的安全相关的调用没有检查失败。
     </para>

<!--==========================orignal english content==========================
     <para>
      It remains possible that some calls of the <function>*printf()</function>
      family of functions are vulnerable to information disclosure if an
      out-of-memory error occurs at just the wrong time.  We judge the risk
      to not be large, but will continue analysis in this area.
      (CVE-2015-3166)
     </para>
____________________________________________________________________________-->
     <para>
      如果内存溢出错误发生在错误的时间，那么仍然有可能<function>*printf()</>
      族的一些函数调用容易信息暴露。我们判断该风险不大，但是将继续在这方面分析。
      (CVE-2015-3166)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      In <filename>contrib/pgcrypto</filename>, uniformly report decryption failures
      as <quote>Wrong key or corrupt data</quote> (Noah Misch)
     </para>
____________________________________________________________________________-->
     <para>
      在<filename>contrib/pgcrypto</>中，统一报告解密失败为<quote>错误的键或数据损坏</> (Noah Misch)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, some cases of decryption with an incorrect key could report
      other error message texts.  It has been shown that such variance in
      error reports can aid attackers in recovering keys from other systems.
      While it's unknown whether <filename>pgcrypto</filename>'s specific behaviors
      are likewise exploitable, it seems better to avoid the risk by using a
      one-size-fits-all message.
      (CVE-2015-3167)
     </para>
____________________________________________________________________________-->
     <para>
      以前，用不正确的键解密的一些情况会报告其他错误消息文本。
      已经证明，在错误报告中显示这样的变化会帮助攻击者从其他系统中恢复键。
      虽然不知道<filename>pgcrypto</>的特定行为是否也可以利用，
      看起来最好是使用一个通用的消息避免风险。 (CVE-2015-3167)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Protect against wraparound of multixact member IDs
      (&Aacute;lvaro Herrera, Robert Haas, Thomas Munro)
     </para>
____________________________________________________________________________-->
     <para>
      防止包含multixact成员ID (&Aacute;lvaro Herrera, Robert Haas, Thomas Munro)
     </para>

<!--==========================orignal english content==========================
     <para>
      Under certain usage patterns, the existing defenses against this might
      be insufficient, allowing <filename>pg_multixact/members</filename> files to be
      removed too early, resulting in data loss.
      The fix for this includes modifying the server to fail transactions
      that would result in overwriting old multixact member ID data, and
      improving autovacuum to ensure it will act proactively to prevent
      multixact member ID wraparound, as it does for transaction ID
      wraparound.
     </para>
____________________________________________________________________________-->
     <para>
      在某些使用模式，现有的防御可能是不充分的，允许<filename>pg_multixact/members</>
      文件过早的移除，导致数据丢失。对此的修复包括修改服务器让导致重写老的multixact成员ID数据的事务失败，
      并且改进自动清理以确保它主动地阻止包括multixact成员ID，就像处理包含事务ID一样。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix incorrect declaration of <filename>contrib/citext</filename>'s
      <function>regexp_matches()</function> functions (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<filename>contrib/citext</>的<function>regexp_matches()</>
      函数的错误声明 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      These functions should return <type>setof text[]</type>, like the core
      functions they are wrappers for; but they were incorrectly declared as
      returning just <type>text[]</type>.  This mistake had two results: first,
      if there was no match you got a scalar null result, whereas what you
      should get is an empty set (zero rows).  Second, the <literal>g</literal> flag
      was effectively ignored, since you would get only one result array even
      if there were multiple matches.
     </para>
____________________________________________________________________________-->
     <para>
      这些函数应该返回<type>setof text[]</>，就像它们封装的内核函数一样；
      但是它们错误的声明为只返回<type>text[]</>。这个错误有两个结果：
      第一，如果没有匹配则获得一个标量null结果，而你应该得到的是一个空集合（0行）。
      第二，有效的忽略了<literal>g</>标志，因此你将只得到一个结果数组，
      即使有多个匹配。
     </para>

<!--==========================orignal english content==========================
     <para>
      While the latter behavior is clearly a bug, there might be applications
      depending on the former behavior; therefore the function declarations
      will not be changed by default until <productname>PostgreSQL</productname> 9.5.
      In pre-9.5 branches, the old behavior exists in version 1.0 of
      the <literal>citext</literal> extension, while we have provided corrected
      declarations in version 1.1 (which is <emphasis>not</emphasis> installed by
      default).  To adopt the fix in pre-9.5 branches, execute
      <literal>ALTER EXTENSION citext UPDATE TO '1.1'</literal> in each database in
      which <literal>citext</literal> is installed.  (You can also <quote>update</quote>
      back to 1.0 if you need to undo that.)  Be aware that either update
      direction will require dropping and recreating any views or rules that
      use <filename>citext</filename>'s <function>regexp_matches()</function> functions.
     </para>
____________________________________________________________________________-->
     <para>
      然而后者的行为明显是一个bug，可能有应用依赖于前者的行为；
      因此函数声明缺省将不会改变，直到<productname>PostgreSQL</> 9.5。
      在9.5以前的分支，老的行为存在于<literal>citext</>扩展的1.0版本中，
      而我们在版本1.1中提供了纠正声明（缺省<emphasis>没有</>安装）。
      要在9.5之前的分支中采用该修复，在每个安装了<literal>citext</>
      的数据库中执行<literal>ALTER EXTENSION citext UPDATE TO '1.1'</>。
      （如果要取消操作，你也可以<quote>update</>回到1.0。）
      要知道任一更新方向都将需要删除并重建任何使用<filename>citext</>
      的<function>regexp_matches()</>函数的视图和规则。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Render infinite dates and timestamps as <literal>infinity</literal> when
      converting to <type>json</type>, rather than throwing an error
      (Andrew Dunstan)
     </para>
____________________________________________________________________________-->
     <para>
     在转换到<type>json</>时，让无限的日期和时间戳显示为<literal>infinity</>，
     而不是抛出一个错误 (Andrew Dunstan)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <type>json</type>/<type>jsonb</type>'s <function>populate_record()</function>
      and <function>to_record()</function> functions to handle empty input properly
      (Andrew Dunstan)
     </para>
____________________________________________________________________________-->
     <para>
      修复<type>json</>/<type>jsonb</>的<function>populate_record()</>
      和<function>to_record()</>函数，正确的处理空输入 (Andrew Dunstan)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix incorrect checking of deferred exclusion constraints after a HOT
      update (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复HOT更新之后延迟排除约束的不正确的检查 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      If a new row that potentially violates a deferred exclusion constraint
      is HOT-updated (that is, no indexed columns change and the row can be
      stored back onto the same table page) later in the same transaction,
      the exclusion constraint would be reported as violated when the check
      finally occurred, even if the row(s) the new row originally conflicted
      with had been deleted.
     </para>
____________________________________________________________________________-->
     <para>
      如果一个新行潜在的违反稍后在同一个事务中HOT更新（也就是，
      没有索引的字段改变并且该行可以存储到相同的表页面中）的延迟排除约束，
      那么当检查最终发生时，该排除约束将被报告为违反，即使最初与该新行冲突的行已经删除。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix behavior when changing foreign key constraint deferrability status
      with <literal>ALTER TABLE ... ALTER CONSTRAINT</literal> (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复用<literal>ALTER TABLE ... ALTER CONSTRAINT</>改变外键约束可延迟状态时的行为 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Operations later in the same session or concurrent sessions might not
      honor the status change promptly.
     </para>
____________________________________________________________________________-->
     <para>
     在同一会话或并发会话中的稍后操作可能不能立即遵守变化的状态。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix planning of star-schema-style queries (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复星型模式风格查询的规划 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Sometimes, efficient scanning of a large table requires that index
      parameters be provided from more than one other table (commonly,
      dimension tables whose keys are needed to index a large fact table).
      The planner should be able to find such plans, but an overly
      restrictive search heuristic prevented it.
     </para>
____________________________________________________________________________-->
     <para>
      有时，大表的高效扫描需要多个表提供索引参数（通常，是提供键索引大的事实表的维度表）。
      规划器应该能够找出这样的规划，但是过度限制的搜索提示会阻止找出规划。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Prevent improper reordering of antijoins (NOT EXISTS joins) versus
      other outer joins (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
     阻止反连接(不存在连接)对其他外连接不正确的重新排序 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This oversight in the planner has been observed to cause <quote>could
      not find RelOptInfo for given relids</quote> errors, but it seems possible
      that sometimes an incorrect query plan might get past that consistency
      check and result in silently-wrong query output.
     </para>
____________________________________________________________________________-->
     <para>
      已经观察到规划器中的这个疏忽会导致<quote>未能找到给定relids的RelOptInfo</>错误，
      但是有可能有时通过不正确的查询规划，导致在静默的错误查询输出中有不一致的检查和结果。
     </para> 
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix incorrect matching of subexpressions in outer-join plan nodes
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复外连接规划节点中不正确的子表达式匹配 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, if textually identical non-strict subexpressions were used
      both above and below an outer join, the planner might try to re-use
      the value computed below the join, which would be incorrect because the
      executor would force the value to NULL in case of an unmatched outer row.
     </para>
____________________________________________________________________________-->
     <para>
      以前，如果外连接上下都使用了文本相同、非严格的子表达式，
      规划器可能尝试重利用连接下面计算的值，这是不正确的，
      因为执行器在外部行不匹配的情况下将强制该值为NULL。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix GEQO planner to cope with failure of its join order heuristic
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复GEQO规划器，以处理它的连接顺序启发方法的失败 (Tom Lane)
     </para> 

<!--==========================orignal english content==========================
     <para>
      This oversight has been seen to lead to <quote>failed to join all
      relations together</quote> errors in queries involving <literal>LATERAL</literal>,
      and that might happen in other cases as well.
     </para>
____________________________________________________________________________-->
     <para>
      已经看到这个疏忽在包含<literal>LATERAL</>的查询中会导致
      <quote>未能同时连接所有关系</>的错误，并且也可能在其他情况下发生。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Ensure that row locking occurs properly when the target of
      an <command>UPDATE</command> or <command>DELETE</command> is a security-barrier view
      (Stephen Frost)
     </para>
____________________________________________________________________________-->
     <para>
      当<command>UPDATE</>或<command>DELETE</>的目标是一个安全屏障视图时，
      确保正确的发生行锁定 (Stephen Frost)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Use a file opened for read/write when syncing replication slot data
      during database startup (Andres Freund)
     </para>
____________________________________________________________________________-->
     <para>
      当在数据库启动期间同步复制槽数据时，使用文件打开来读/写 (Andres Freund)
     </para>

<!--==========================orignal english content==========================
     <para>
      On some platforms, the previous coding could result in errors like
      <quote>could not fsync file "pg_replslot/...": Bad file descriptor</quote>.
     </para>
____________________________________________________________________________-->
     <para>
      在一些平台上，以前的编程会导致像
      <quote>不能同步文件"pg_replslot/..."：错误的文件描述符</>这样的错误。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix possible deadlock at startup
      when <literal>max_prepared_transactions</literal> is too small
      (Heikki Linnakangas)
     </para>
____________________________________________________________________________-->
     <para>
      修复当<literal>max_prepared_transactions</>太小时，
      启动时可能的死锁 (Heikki Linnakangas)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Don't archive useless preallocated WAL files after a timeline switch
      (Heikki Linnakangas)
     </para>
____________________________________________________________________________-->
     <para>
      不要归档跟在时间线切换后面的无用的预先分配的WAL文件 (Heikki Linnakangas)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Recursively <function>fsync()</function> the data directory after a crash
      (Abhijit Menon-Sen, Robert Haas)
     </para>
____________________________________________________________________________-->
     <para>
      在崩溃后递归的<function>fsync()</>数据目录 (Abhijit Menon-Sen, Robert Haas)
     </para>

<!--==========================orignal english content==========================
     <para>
      This ensures consistency if another crash occurs shortly later.  (The
      second crash would have to be a system-level crash, not just a database
      crash, for there to be a problem.)
     </para>
____________________________________________________________________________-->
     <para>
      如果另一个崩溃稍后发生，这就确保了一致性。（第二个崩溃必须是一个系统级别的崩溃，
      不只是数据库崩溃，所以这里是一个问题。）
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix autovacuum launcher's possible failure to shut down, if an error
      occurs after it receives SIGTERM (&Aacute;lvaro Herrera)
     </para>
____________________________________________________________________________-->
     <para>
      修复自动清理启动器在接收到SIGTERM之后发生错误时可能的未能关闭 (&Aacute;lvaro Herrera)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix failure to handle invalidation messages for system catalogs
      early in session startup (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复早在会话启动的时候未能处理系统目录的无效消息 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This oversight could result in failures in sessions that start
      concurrently with a <command>VACUUM FULL</command> on a system catalog.
     </para>
____________________________________________________________________________-->
     <para>
      这个疏忽会导致在系统目录上与<command>VACUUM FULL</>并发的会话中的失败。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix crash in <function>BackendIdGetTransactionIds()</function> when trying
      to get status for a backend process that just exited (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复尝试获取刚刚退出的后端进程的状态时<function>BackendIdGetTransactionIds()</>
      中的崩溃 (Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Cope with unexpected signals in <function>LockBufferForCleanup()</function>
      (Andres Freund)
     </para>
____________________________________________________________________________-->
     <para>
      处理<function>LockBufferForCleanup()</>中的意外信号 (Andres Freund)
     </para>

<!--==========================orignal english content==========================
     <para>
      This oversight could result in spurious errors about <quote>multiple
      backends attempting to wait for pincount 1</quote>.
     </para>
____________________________________________________________________________-->
     <para>
      这个疏忽会导致关于<quote>多个后端尝试等待pincount 1</>的伪错误。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix crash when doing <literal>COPY IN</literal> to a table with check
      constraints that contain whole-row references (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复带有包含整行引用的检查约束执行<literal>COPY IN</>到一个表时的崩溃 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      The known failure case only crashes in 9.4 and up, but there is very
      similar code in 9.3 and 9.2, so back-patch those branches as well.
     </para>
____________________________________________________________________________-->
     <para>
      已知的失败案例只在9.4及以上的版本中崩溃了，但是在9.3和9.2中有非常相似的代码，
      所以也向后打了这些分支的补丁。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid waiting for WAL flush or synchronous replication during commit of
      a transaction that was read-only so far as the user is concerned
      (Andres Freund)
     </para>
____________________________________________________________________________-->
     <para>
      在用户关心的只读事务提交期间，避免等待WAL刷新或同步复制 (Andres Freund)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, a delay could occur at commit in transactions that had
      written WAL due to HOT page pruning, leading to undesirable effects
      such as sessions getting stuck at startup if all synchronous replicas
      are down.  Sessions have also been observed to get stuck in catchup
      interrupt processing when using synchronous replication; this will fix
      that problem as well.
     </para>
____________________________________________________________________________-->
     <para>
      以前，在由于HOT页修剪写入WAL的事务中提交时会发生延迟，导致不良影响，
      比如如果执行所有的同步复制，那么会话在启动时被卡住。同样观察到，
      在使用同步复制时，在追赶中断处理中会话也会被卡住；这也会修复这个问题。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid busy-waiting with short <literal>recovery_min_apply_delay</literal>
      values (Andres Freund)
     </para>
____________________________________________________________________________-->
     <para>
      避免短暂的<literal>recovery_min_apply_delay</>值忙碌等待 (Andres Freund)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix crash when manipulating hash indexes on temporary tables
      (Heikki Linnakangas)
     </para>
____________________________________________________________________________-->
     <para>
      修复在临时表上手动哈希索引时的崩溃 (Heikki Linnakangas)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix possible failure during hash index bucket split, if other processes
      are modifying the index concurrently (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复其他进程并发的修改索引时，哈希索引桶分裂期间可能的失败 (Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix memory leaks in GIN index vacuum (Heikki Linnakangas)
     </para>
____________________________________________________________________________-->
     <para>
      修复GIN索引清理中的内存泄露 (Heikki Linnakangas)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Check for interrupts while analyzing index expressions (Jeff Janes)
     </para>
____________________________________________________________________________-->
     <para>
      在分析索引表达式时检查中断 (Jeff Janes)
     </para>

<!--==========================orignal english content==========================
     <para>
      <command>ANALYZE</command> executes index expressions many times; if there are
      slow functions in such an expression, it's desirable to be able to
      cancel the <command>ANALYZE</command> before that loop finishes.
     </para>
____________________________________________________________________________-->
     <para>
      <command>ANALYZE</>执行索引表达式多次；如果在这样的一个表达式中有缓慢的功能，
      那么在循环结束之前取消<command>ANALYZE</>是可取的。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Ensure <structfield>tableoid</structfield> of a foreign table is reported
      correctly when a <literal>READ COMMITTED</literal> recheck occurs after
      locking rows in <command>SELECT FOR UPDATE</command>, <command>UPDATE</command>,
      or <command>DELETE</command> (Etsuro Fujita)
     </para>
____________________________________________________________________________-->
     <para>
      确保<literal>READ COMMITTED</>复查发生在<command>SELECT FOR UPDATE</>、
      <command>UPDATE</>或<command>DELETE</>中的锁定行之后时，正确的报告外部表的
      <structfield>tableoid</> (Etsuro Fujita)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Add the name of the target server to object description strings for
      foreign-server user mappings (&Aacute;lvaro Herrera)
     </para>
____________________________________________________________________________-->
     <para>
      为使用映射的外部服务器用户添加目标服务器名字到目标描述字符串 (&Aacute;lvaro Herrera)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Include the schema name in object identity strings for conversions
      (&Aacute;lvaro Herrera)
     </para>
____________________________________________________________________________-->
     <para>
      在用于转换的目标身份字符串中包含模式名 (&Aacute;lvaro Herrera)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Recommend setting <literal>include_realm</literal> to 1 when using
      Kerberos/GSSAPI/SSPI authentication (Stephen Frost)
     </para>
____________________________________________________________________________-->
     <para>
      当使用Kerberos/GSSAPI/SSPI认证时，推荐设置<literal>include_realm</>为1 (Stephen Frost)
     </para>

<!--==========================orignal english content==========================
     <para>
      Without this, identically-named users from different realms cannot be
      distinguished.  For the moment this is only a documentation change, but
      it will become the default setting in <productname>PostgreSQL</productname> 9.5.
     </para>
____________________________________________________________________________-->
     <para>
      没有这个，不能识别来自不同领域的相同名字的用户。目前，这只是一个文档变化，
      但是它在<productname>PostgreSQL</> 9.5中将成为缺省设置。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Remove code for matching IPv4 <filename>pg_hba.conf</filename> entries to
      IPv4-in-IPv6 addresses (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      移动匹配IPv4 <filename>pg_hba.conf</>项的代码到IPv4-in-IPv6地址 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This hack was added in 2003 in response to a report that some Linux
      kernels of the time would report IPv4 connections as having
      IPv4-in-IPv6 addresses.  However, the logic was accidentally broken in
      9.0.  The lack of any field complaints since then shows that it's not
      needed anymore.  Now we have reports that the broken code causes
      crashes on some systems, so let's just remove it rather than fix it.
      (Had we chosen to fix it, that would make for a subtle and potentially
      security-sensitive change in the effective meaning of
      IPv4 <filename>pg_hba.conf</filename> entries, which does not seem like a good
      thing to do in minor releases.)
     </para>
____________________________________________________________________________-->
     <para>
      这个骇客是在2003年添加的，回应一些Linux内核有时报告IPv4为拥有IPv4-in-IPv6地址连接的报告。
      不过，该逻辑在9.0被偶然的打断了。缺乏任何字段投诉之后显示不再需要这些代码了。
      现在我们已经报告了不完善的代码在某些系统上会导致崩溃，
      所以我们只是移除它而不是修复它。（如果我们选择修复它，那么在IPv4 <filename>pg_hba.conf</>
      项的有效含义中可能会有微妙的、潜在的安全问题改变，在小版本中做这个看起来不是一个好的事情。）
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix status reporting for terminated background workers that were never
      actually started (Robert Haas)
     </para>
____________________________________________________________________________-->
     <para>
      修复从未真正启动过的终止的后台进程的状态报告  (Robert Haas)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      After a database crash, don't restart background workers that are
      marked <literal>BGW_NEVER_RESTART</literal> (Amit Khandekar)
     </para>
____________________________________________________________________________-->
     <para>
      在数据库崩溃之后，不要重启标记为<literal>BGW_NEVER_RESTART</>
      的后台进程 (Amit Khandekar)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Report WAL flush, not insert, position in <literal>IDENTIFY_SYSTEM</literal>
      replication command (Heikki Linnakangas)
     </para>
____________________________________________________________________________-->
     <para>
      报告WAL刷新，不插入，定位在<literal>IDENTIFY_SYSTEM</>复制命令中 (Heikki Linnakangas)
     </para>

<!--==========================orignal english content==========================
     <para>
      This avoids a possible startup failure
      in <application>pg_receivexlog</application>.
     </para>
____________________________________________________________________________-->
     <para>
      这避免了<application>pg_receivexlog</>中一个可能的启动失败。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      While shutting down service on Windows, periodically send status
      updates to the Service Control Manager to prevent it from killing the
      service too soon; and ensure that <application>pg_ctl</application> will wait for
      shutdown (Krystian Bigaj)
     </para>
____________________________________________________________________________-->
     <para>
      当在Windows上关闭服务时，定期发送状态更新到服务控制管理器，
      以阻止它太快的杀死服务；并且确保<application>pg_ctl</>等待关闭 (Krystian Bigaj)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Reduce risk of network deadlock when using <application>libpq</application>'s
      non-blocking mode (Heikki Linnakangas)
     </para>
____________________________________________________________________________-->
     <para>
      减少使用<application>libpq</>的非阻塞模式时网络死锁的风险 (Heikki Linnakangas)
     </para>

<!--==========================orignal english content==========================
     <para>
      When sending large volumes of data, it's important to drain the input
      buffer every so often, in case the server has sent enough response data
      to cause it to block on output.  (A typical scenario is that the server
      is sending a stream of NOTICE messages during <literal>COPY FROM
      STDIN</literal>.)  This worked properly in the normal blocking mode, but not
      so much in non-blocking mode.  We've modified <application>libpq</application>
      to opportunistically drain input when it can, but a full defense
      against this problem requires application cooperation: the application
      should watch for socket read-ready as well as write-ready conditions,
      and be sure to call <function>PQconsumeInput()</function> upon read-ready.
     </para>
____________________________________________________________________________-->
     <para>
      当发送大量数据时，偶尔耗尽输入内存是非常重要的，以防服务器发送大量响应数据导致它阻塞输出。
      （一个典型的情况是在<literal>COPY FROM STDIN</>期间服务器发送大量的NOTICE消息。）
      这在正常的阻塞模式下正确的工作，但是在非阻塞模式下不行。
      我们已经修改了<application>libpq</>以在可能时偶尔耗尽输入，
      但是全面防御这个问题需要应用协同：应用应该注意套接字读准备好和写准备好条件，
      并确保在读准备好时调用<function>PQconsumeInput()</>。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      In <application>libpq</application>, fix misparsing of empty values in URI
      connection strings (Thomas Fanghaenel)
     </para>
____________________________________________________________________________-->
     <para>
      在<application>libpq</>中，修复URI连接字符串中对空值的错误解析 (Thomas Fanghaenel)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix array handling in <application>ecpg</application> (Michael Meskes)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>ecpg</>中的数组处理 (Michael Meskes)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>psql</application> to sanely handle URIs and conninfo strings as
      the first parameter to <command>\connect</command>
      (David Fetter, Andrew Dunstan, &Aacute;lvaro Herrera)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>psql</>以稳健的处理URI和conninfo字符串为<command>\connect</>
      的第一个参数 (David Fetter, Andrew Dunstan, &Aacute;lvaro Herrera)
     </para>

<!--==========================orignal english content==========================
     <para>
      This syntax has been accepted (but undocumented) for a long time, but
      previously some parameters might be taken from the old connection
      instead of the given string, which was agreed to be undesirable.
     </para>
____________________________________________________________________________-->
     <para>
      已经接受这个语法很长时间了（但是没有记录在册），
      但是以前一些参数可能从老的连接而不是给定的字符串中获取，这是不可取的。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Suppress incorrect complaints from <application>psql</application> on some
      platforms that it failed to write <filename>~/.psql_history</filename> at exit
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      废止某些平台上<application>psql</>在退出时未能写入<filename>~/.psql_history</>
      时不正确的抱怨 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This misbehavior was caused by a workaround for a bug in very old
      (pre-2006) versions of <application>libedit</application>.  We fixed it by
      removing the workaround, which will cause a similar failure to appear
      for anyone still using such versions of <application>libedit</application>.
      Recommendation: upgrade that library, or use <application>libreadline</application>.
     </para>
____________________________________________________________________________-->
     <para>
      这个错误行为是由很老的（2006以前）<application>libedit</>版本绕开一个bug时引起的。
      我们通过移除该变通方案来修复它，这将导致仍然使用这个<application>libedit</>
      版本的用户出现类似的错误。建议：更新该库，或使用<application>libreadline</>。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>pg_dump</application>'s rule for deciding which casts are
      system-provided casts that should not be dumped (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>pg_dump</>的规则以决定哪个转换是应该废弃的系统提供的转换 (Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      In <application>pg_dump</application>, fix failure to honor <literal>-Z</literal>
      compression level option together with <literal>-Fd</literal>
      (Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      在<application>pg_dump</>中，修复未能遵守<literal>-Z</>
      压缩级别选项连同<literal>-Fd</> (Michael Paquier)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Make <application>pg_dump</application> consider foreign key relationships
      between extension configuration tables while choosing dump order
      (Gilles Darold, Michael Paquier, Stephen Frost)
     </para>
____________________________________________________________________________-->
     <para>
      让<application>pg_dump</>在选择转储顺序时考虑扩展配置表间的外键关系
      (Gilles Darold, Michael Paquier, Stephen Frost)
     </para>

<!--==========================orignal english content==========================
     <para>
      This oversight could result in producing dumps that fail to reload
      because foreign key constraints are transiently violated.
     </para>
____________________________________________________________________________-->
     <para>
      这个疏忽会导致生成的转储未能重载，因为外键约束暂时性的违反。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid possible <application>pg_dump</application> failure when concurrent sessions
      are creating and dropping temporary functions (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      当创建并发的会话和删除临时函数时，避免可能的<application>pg_dump</>失败 (Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix dumping of views that are just <literal>VALUES(...)</literal> but have
      column aliases (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复仅有<literal>VALUES(...)</>但是有字段别名的视图的转储 (Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Ensure that a view's replication identity is correctly set
      to <literal>nothing</literal> during dump/restore (Marko Tiikkaja)
     </para>
____________________________________________________________________________-->
     <para>
      确保一个视图的复制标识在转储/恢复期间正确的设置为<literal>nothing</> (Marko Tiikkaja)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, if the view was involved in a circular dependency,
      it might wind up with an incorrect replication identity property.
     </para>
____________________________________________________________________________-->
     <para>
      以前，如果该视图包含在一个循环依赖中，那么它可能以一个不正确的复制标识属性结束。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      In <application>pg_upgrade</application>, force timeline 1 in the new cluster
      (Bruce Momjian)
     </para>
____________________________________________________________________________-->
     <para>
      在<application>pg_upgrade</>中，强制时间线1在新的群集中 (Bruce Momjian)
     </para>

<!--==========================orignal english content==========================
     <para>
      This change prevents upgrade failures caused by bogus complaints about
      missing WAL history files.
     </para>
____________________________________________________________________________-->
     <para>
      这个修改阻止了由于丢失WAL历史文件的虚假报错引起的升级失败。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      In <application>pg_upgrade</application>, check for improperly non-connectable
      databases before proceeding
      (Bruce Momjian)
     </para>
____________________________________________________________________________-->
     <para>
      在<application>pg_upgrade</>中，在进行之前，先检查不适当的不可连接数据库
      (Bruce Momjian)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      In <application>pg_upgrade</application>, quote directory paths
      properly in the generated <literal>delete_old_cluster</literal> script
      (Bruce Momjian)
     </para>
____________________________________________________________________________-->
     <para>
      在<application>pg_upgrade</>中，在生成的<literal>delete_old_cluster</>
      脚本中正确的引用目录路径 (Bruce Momjian)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      In <application>pg_upgrade</application>, preserve database-level freezing info
      properly
      (Bruce Momjian)
     </para>
____________________________________________________________________________-->
     <para>
      在<application>pg_upgrade</>中，正确的保护数据库级别的冻结信息 (Bruce Momjian)
     </para>

<!--==========================orignal english content==========================
     <para>
      This oversight could cause missing-clog-file errors for tables within
      the <literal>postgres</literal> and <literal>template1</literal> databases.
     </para>
____________________________________________________________________________-->
     <para>
      这个疏忽会导致<literal>postgres</>和<literal>template1</>
      数据库中的表发生丢失阻碍文件错误。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Run <application>pg_upgrade</application> and <application>pg_resetxlog</application> with
      restricted privileges on Windows, so that they don't fail when run by
      an administrator (Muhammad Asif Naeem)
     </para>
____________________________________________________________________________-->
     <para>
      用受限制的权限在Windows上运行<application>pg_upgrade</>和<application>pg_resetxlog</>，
      这样它们在通过管理员运行时不会失败 (Muhammad Asif Naeem)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Improve handling of <function>readdir()</function> failures when scanning
      directories in <application>initdb</application> and <application>pg_basebackup</application>
      (Marco Nenciarini)
     </para>
____________________________________________________________________________-->
     <para>
      改善扫描路径在<application>initdb</>和<application>pg_basebackup</>中时，
      <function>readdir()</>失败的处理 (Marco Nenciarini)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix slow sorting algorithm in <filename>contrib/intarray</filename> (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<filename>contrib/intarray</>中缓慢的分类算法 (Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix compile failure on Sparc V8 machines (Rob Rowan)
     </para>
____________________________________________________________________________-->
     <para>
      修复Sparc V8机器上的编译失败 (Rob Rowan)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Silence some build warnings on macOS (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      消除macOS上的某些构建警告 (Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Update time zone data files to <application>tzdata</application> release 2015d
      for DST law changes in Egypt, Mongolia, and Palestine, plus historical
      changes in Canada and Chile.  Also adopt revised zone abbreviations for
      the America/Adak zone (HST/HDT not HAST/HADT).
     </para>
____________________________________________________________________________-->
     <para>
      更新时区数据文件到<application>tzdata</>版本2015d，因为DST规律在埃及、
      蒙古和巴拉斯坦发生了改变，还有加拿大和智利的历史变化。
      还为America/Adak时区采取了改进的时区缩写 (HST/HDT not HAST/HADT).
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-9-4-1">
<!--==========================orignal english content==========================
  <title>Release 9.4.1</title>
____________________________________________________________________________-->
  <title>版本 9.4.1</title>

  <formalpara>
<!--==========================orignal english content==========================
  <title>Release date:</title>
____________________________________________________________________________-->
  <title>发布日期：</title>
<!--==========================orignal english content==========================
  <para>2015-02-05</para>
____________________________________________________________________________-->
  <para>2015-02-05</para>
  </formalpara>

<!--==========================orignal english content==========================
  <para>
   This release contains a variety of fixes from 9.4.0.
   For information about new features in the 9.4 major release, see
   <xref linkend="release-9-4">.
  </para>
____________________________________________________________________________-->
  <para>
   这个版本包含各种自9.4.0以来的修复。关于9.4主版本的新特性信息，
   请查看<xref linkend="release-9-4">。
  </para>

  <sect2>
<!--==========================orignal english content==========================
   <title>Migration to Version 9.4.1</title>
____________________________________________________________________________-->
   <title>迁移到版本9.4.1</title>

<!--==========================orignal english content==========================
   <para>
    A dump/restore is not required for those running 9.4.X.
   </para>
____________________________________________________________________________-->
   <para>
    运行9.4.X版本的用户不需要转储/恢复。
   </para>

<!--==========================orignal english content==========================
   <para>
    However, if you are a Windows user and are using the <quote>Norwegian
    (Bokm&aring;l)</quote> locale, manual action is needed after the upgrade to
    replace any <quote>Norwegian (Bokm&aring;l)_Norway</quote>
    or <quote>norwegian-bokmal</quote> locale names stored
    in <productname>PostgreSQL</productname> system catalogs with the plain-ASCII
    alias <quote>Norwegian_Norway</quote>.  For details see
    <ulink url="http://wiki.postgresql.org/wiki/Changes_To_Norwegian_Locale"></ulink>
   </para>
____________________________________________________________________________-->
   <para>
    不过，如果你是Windows用户并且正在使用<quote>Norwegian (Bokm&aring;l)</>区域设置，
    那么在升级替换了任何存储在<productname>PostgreSQL</>系统目录中带有纯ASCII别名
    <quote>Norwegian_Norway</>的<quote>Norwegian (Bokm&aring;l)_Norway</>或
    <quote>norwegian-bokmal</>地区名称之后，需要手动动作。详情请查看    
    <ulink url="http://wiki.postgresql.org/wiki/Changes_To_Norwegian_Locale"></>
   </para>
  </sect2>

  <sect2>
<!--==========================orignal english content==========================
   <title>Changes</title>
____________________________________________________________________________-->
   <title>修改列表</title>

   <itemizedlist>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix buffer overruns in <function>to_char()</function>
      (Bruce Momjian)
     </para>
____________________________________________________________________________-->
     <para>
      修复<function>to_char()</>中的缓冲区溢出 (Bruce Momjian)
     </para>

<!--==========================orignal english content==========================
     <para>
      When <function>to_char()</function> processes a numeric formatting template
      calling for a large number of digits, <productname>PostgreSQL</productname>
      would read past the end of a buffer.  When processing a crafted
      timestamp formatting template, <productname>PostgreSQL</productname> would write
      past the end of a buffer.  Either case could crash the server.
      We have not ruled out the possibility of attacks that lead to
      privilege escalation, though they seem unlikely.
      (CVE-2015-0241)
     </para>
____________________________________________________________________________-->
     <para>
      当<function>to_char()</>处理一个数字化格式模板时，需要大量的数据，
      <productname>PostgreSQL</>将读到缓冲区的末尾。当处理一个时间戳格式模板时，
      <productname>PostgreSQL</>将写到缓冲区的末尾。两种情况都会令服务器崩溃。
      我们不排除攻击导致特权提升的可能性，尽管它们看起来是不可能的。 (CVE-2015-0241)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix buffer overrun in replacement <function>*printf()</function> functions
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复代替者<function>*printf()</>函数中的缓冲区溢出 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      <productname>PostgreSQL</productname> includes a replacement implementation
      of <function>printf</function> and related functions.  This code will overrun
      a stack buffer when formatting a floating point number (conversion
      specifiers <literal>e</literal>, <literal>E</literal>, <literal>f</literal>, <literal>F</literal>,
      <literal>g</literal> or <literal>G</literal>) with requested precision greater than
      about 500.  This will crash the server, and we have not ruled out the
      possibility of attacks that lead to privilege escalation.
      A database user can trigger such a buffer overrun through
      the <function>to_char()</function> SQL function.  While that is the only
      affected core <productname>PostgreSQL</productname> functionality, extension
      modules that use printf-family functions may be at risk as well.
     </para>
____________________________________________________________________________-->
     <para>
      <productname>PostgreSQL</>包括<function>printf</>和相关函数的替换实现。
      在格式化浮点数（转换说明符<literal>e</>、<literal>E</>、<literal>f</>、<literal>F</>、
      <literal>g</>或<literal>G</>），要求的精度超过500时，这个代码会超出堆栈缓冲区。
      这会使服务器崩溃，而且我们还没有解决攻击导致权限提升的可能性。
      一个数据库用户可以通过<function>to_char()</> SQL函数触发这样一个缓冲区溢出。
      虽然这是唯一受到影响的内核<productname>PostgreSQL</>函数，
      但是使用printf族函数的扩展模块可能也有风险。
     </para>

<!--==========================orignal english content==========================
     <para>
      This issue primarily affects <productname>PostgreSQL</productname> on Windows.
      <productname>PostgreSQL</productname> uses the system implementation of these
      functions where adequate, which it is on other modern platforms.
      (CVE-2015-0242)
     </para>
____________________________________________________________________________-->
     <para>
      这个问题主要影响Windows上的<productname>PostgreSQL</>。
      <productname>PostgreSQL</>在其他现代系统上的时候，
      在适当的地方使用这些函数的系统实现。
      (CVE-2015-0242)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix buffer overruns in <filename>contrib/pgcrypto</filename>
      (Marko Tiikkaja, Noah Misch)
     </para>
____________________________________________________________________________-->
     <para>
      修复<filename>contrib/pgcrypto</>中的缓冲区溢出
      (Marko Tiikkaja, Noah Misch)
     </para>

<!--==========================orignal english content==========================
     <para>
      Errors in memory size tracking within the <filename>pgcrypto</filename>
      module permitted stack buffer overruns and improper dependence on the
      contents of uninitialized memory.  The buffer overrun cases can
      crash the server, and we have not ruled out the possibility of
      attacks that lead to privilege escalation.
      (CVE-2015-0243)
     </para>
____________________________________________________________________________-->
     <para>
      在<filename>pgcrypto</>中追踪的错误的内存大小允许堆栈缓冲区溢出，
      和在未初始化的内存内容上的不正确的依赖。缓冲区溢出情况会使服务器崩溃，
      我们还未解决攻击导致权限提升的可能性。
      (CVE-2015-0243)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix possible loss of frontend/backend protocol synchronization after
      an error
      (Heikki Linnakangas)
     </para>
____________________________________________________________________________-->
     <para>
      修复错误后前/后端协议同步可能的丢失
      (Heikki Linnakangas)
     </para>

<!--==========================orignal english content==========================
     <para>
      If any error occurred while the server was in the middle of reading a
      protocol message from the client, it could lose synchronization and
      incorrectly try to interpret part of the message's data as a new
      protocol message.  An attacker able to submit crafted binary data
      within a command parameter might succeed in injecting his own SQL
      commands this way.  Statement timeout and query cancellation are the
      most likely sources of errors triggering this scenario.  Particularly
      vulnerable are applications that use a timeout and also submit
      arbitrary user-crafted data as binary query parameters.  Disabling
      statement timeout will reduce, but not eliminate, the risk of
      exploit.  Our thanks to Emil Lenngren for reporting this issue.
      (CVE-2015-0244)
     </para>
____________________________________________________________________________-->
     <para>
      如果任何错误发生在服务器正在从客户端读取协议消息的时候，
      那么服务器会丢失同步，并且不正确的尝试解释这部分消息数据为一个新的协议消息。
      攻击者可以通过这种方式注入他自己的SQL命令，在命令参数中提交二进制数据。
      声明超时和查询取消是最可能触发这个情景的来源。
      特别容易遭受攻击的是使用一个超时并且仍然提交任意用户数据作为二进制查询参数的应用。
      禁用语句超时将减少，但是不是消除，开发的风险。感谢Emil Lenngren报告这个问题。
      (CVE-2015-0244)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix information leak via constraint-violation error messages
      (Stephen Frost)
     </para>
____________________________________________________________________________-->
     <para>
      通过约束违反错误消息修复信息泄露 (Stephen Frost)
     </para>

<!--==========================orignal english content==========================
     <para>
      Some server error messages show the values of columns that violate
      a constraint, such as a unique constraint.  If the user does not have
      <literal>SELECT</literal> privilege on all columns of the table, this could
      mean exposing values that the user should not be able to see.  Adjust
      the code so that values are displayed only when they came from the SQL
      command or could be selected by the user.
      (CVE-2014-8161)
     </para>
____________________________________________________________________________-->
     <para>
      一些服务器错误消息显示了违反约束的字段值，比如唯一约束。
      如果用户没有在表的所有字段上拥有<literal>SELECT</>权限，
      那么这表示用户看到了他不应该能够看到的值。调整这个代码，
      使得该值只在它们来自SQL命令或者用户可以选取时显示。
      (CVE-2014-8161)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Lock down regression testing's temporary installations on Windows
      (Noah Misch)
     </para>
____________________________________________________________________________-->
     <para>
      在Windows上锁定回归测试的临时安装 (Noah Misch)
     </para>

<!--==========================orignal english content==========================
     <para>
      Use SSPI authentication to allow connections only from the OS user
      who launched the test suite.  This closes on Windows the same
      vulnerability previously closed on other platforms, namely that other
      users might be able to connect to the test postmaster.
      (CVE-2014-0067)
     </para>
____________________________________________________________________________-->
     <para>
      使用SSPI认证，只允许来自加载了测试套件的OS用户的连接。
      这在Windows上关闭了安全隐患，和以前在其他平台上关闭的相同，
      也就是说，其他用户有可能连接到测试主机。
      (CVE-2014-0067)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Cope with the Windows locale named <quote>Norwegian (Bokm&aring;l)</quote>
      (Heikki Linnakangas)
     </para>
____________________________________________________________________________-->
     <para>
      处理Windows名为<quote>Norwegian (Bokm&aring;l)</>的区域设置
      (Heikki Linnakangas)
     </para>

<!--==========================orignal english content==========================
     <para>
      Non-ASCII locale names are problematic since it's not clear what
      encoding they should be represented in.  Map the troublesome locale
      name to a plain-ASCII alias, <quote>Norwegian_Norway</quote>.
     </para>
____________________________________________________________________________-->
     <para>
      非ASCII区域名是有问题的，因为不清楚它们应该用什么编码表示。
      映射这样的区域名到纯ASCII别名<quote>Norwegian_Norway</>。
     </para>

<!--==========================orignal english content==========================
     <para>
      9.4.0 mapped the troublesome name to <quote>norwegian-bokmal</quote>,
      but that turns out not to work on all Windows configurations.
      <quote>Norwegian_Norway</quote> is now recommended instead.
     </para>
____________________________________________________________________________-->
     <para>
      9.4.0映射有问题的名字到<quote>norwegian-bokmal</>，
      但是结果是在所有的Windows配置上都不能工作。
      现在建议使用<quote>Norwegian_Norway</>。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix use-of-already-freed-memory problem in EvalPlanQual processing
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复在EvalPlanQual处理中使用早已释放的内存的问题
      (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      In <literal>READ COMMITTED</literal> mode, queries that lock or update
      recently-updated rows could crash as a result of this bug.
     </para>
____________________________________________________________________________-->
     <para>
      在<literal>READ COMMITTED</>模式中，锁定或者更新最近更新的行的查询会因为这个bug而崩溃。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Avoid possible deadlock while trying to acquire tuple locks
      in EvalPlanQual processing (&Aacute;lvaro Herrera, Mark Kirkwood)
     </para>
____________________________________________________________________________-->
     <para>
      在EvalPlanQual处理中尝试请求元组锁时避免可能的死锁 (&Aacute;lvaro Herrera, Mark Kirkwood)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix failure to wait when a transaction tries to acquire a <literal>FOR
      NO KEY EXCLUSIVE</literal> tuple lock, while multiple other transactions
      currently hold <literal>FOR SHARE</literal> locks (&Aacute;lvaro Herrera)
     </para>
____________________________________________________________________________-->
     <para>
      修复当事务尝试请求一个<literal>FOR NO KEY EXCLUSIVE</>元组锁时，
      多个其他事务当前持有<literal>FOR SHARE</>锁时的等待失败 (&Aacute;lvaro Herrera)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Improve performance of <command>EXPLAIN</command> with large range tables
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      改善<command>EXPLAIN</>大范围表的性能 (Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <type>jsonb</type> Unicode escape processing, and in consequence
      disallow <literal>\u0000</literal> (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<type>jsonb</> Unicode转义处理，并且因此不允许<literal>\u0000</> (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, the JSON Unicode escape <literal>\u0000</literal> was accepted
      and was stored as those six characters; but that is indistinguishable
      from what is stored for the input <literal>\\u0000</literal>, resulting in
      ambiguity.  Moreover, in cases where de-escaped textual output is
      expected, such as the <literal>-&gt;&gt;</literal> operator, the sequence was
      printed as <literal>\u0000</literal>, which does not meet the expectation
      that JSON escaping would be removed.  (Consistent behavior would
      require emitting a zero byte, but <productname>PostgreSQL</productname> does not
      support zero bytes embedded in text strings.)  9.4.0 included an
      ill-advised attempt to improve this situation by adjusting JSON output
      conversion rules; but of course that could not fix the fundamental
      ambiguity, and it turned out to break other usages of Unicode escape
      sequences.  Revert that, and to avoid the core problem,
      reject <literal>\u0000</literal> in <type>jsonb</type> input.
     </para>
____________________________________________________________________________-->
     <para>
      以前，接受JSON Unicode转义<literal>\u0000</>，并且存储为这六个字符；
      但是它与输入<literal>\\u0000</>的存储区分不开，导致混淆。而且，
      在反转义文本输出中期望，比如<literal>-&gt;&gt;</>操作符，
      序列打印为<literal>\u0000</>，这不符合将被移除的JSON转义的期望。
      （一致的行为将需要发出一个零字节，但是<productname>PostgreSQL</>
      不支持在文本字符串里嵌入零字节。）9.4.0包括一个不明智的尝试，
      通过调整JSON输出转换结果改善这个行为；但是当然这不能修复基本的歧义，
      并且因此破坏了其他Unicode转义序列的使用。恢复原来那样，
      并且要避免内核问题，在<type>jsonb</>输入中拒绝<literal>\u0000</>。
     </para>

<!--==========================orignal english content==========================
     <para>
      If a <type>jsonb</type> column contains a <literal>\u0000</literal> value stored
      with 9.4.0, it will henceforth read out as though it
      were <literal>\\u0000</literal>, which is the other valid interpretation of
      the data stored by 9.4.0 for this case.
     </para>
____________________________________________________________________________-->
     <para>
      如果一个<type>jsonb</>字段包含9.4.0存储的<literal>\u0000</>值，
      那么它将从今以后将其读为<literal>\\u0000</>，这也是9.4.0为此存储数据的其他有效的解释。
     </para>

<!--==========================orignal english content==========================
     <para>
      The <type>json</type> type did not have the storage-ambiguity problem, but
      it did have the problem of inconsistent de-escaped textual output.
      Therefore <literal>\u0000</literal> will now also be rejected
      in <type>json</type> values when conversion to de-escaped form is
      required.  This change does not break the ability to
      store <literal>\u0000</literal> in <type>json</type> columns so long as no
      processing is done on the values.  This is exactly parallel to the
      cases in which non-ASCII Unicode escapes are allowed when the database
      encoding is not UTF8.
     </para>
____________________________________________________________________________-->
     <para>
      <type>json</>类型没有存储歧义问题，但是它确实有不一致的反转义文本输出问题。
      因此当需要转换到反转义格式时，在<type>json</>值中现在也拒绝<literal>\u0000</>。
      这个修改没有破坏在<type>json</>字段中存储<literal>\u0000</>的能力，
      只要该值上面没有正在进行处理。在数据库编码不是UTF8时，
      这正好与允许的非ASCII Unicode转义的情况平行。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix namespace handling in <function>xpath()</function> (Ali Akbar)
     </para>
____________________________________________________________________________-->
     <para>
      修复<function>xpath()</>中的命名空间处理 (Ali Akbar)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, the <type>xml</type> value resulting from
      an <function>xpath()</function> call would not have namespace declarations if
      the namespace declarations were attached to an ancestor element in the
      input <type>xml</type> value, rather than to the specific element being
      returned.  Propagate the ancestral declaration so that the result is
      correct when considered in isolation.
     </para>
____________________________________________________________________________-->
     <para>
      以前，如果命名空间声明附属于输入<type>xml</>值中的一个祖先元素，
      而不是要被返回的指定元素，那么来自<function>xpath()</>调用的<type>xml</>
      值将没有命名空间声明。单独的考虑该值时，传递祖先的声明，这样结果才是正确的。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix assorted oversights in range-operator selectivity estimation
      (Emre Hasegeli)
     </para>
____________________________________________________________________________-->
     <para>
      修复范围运算符选择性估计中各种各样的疏漏 (Emre Hasegeli)
     </para>

<!--==========================orignal english content==========================
     <para>
      This patch fixes corner-case <quote>unexpected operator NNNN</quote> planner
      errors, and improves the selectivity estimates for some other cases.
     </para>
____________________________________________________________________________-->
     <para>
      这个补丁修复极端情况<quote>unexpected operator NNNN</>规划器错误，
      并且改善了一些其他情况的选择性估计。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Revert unintended reduction in maximum size of a GIN index item
      (Heikki Linnakangas)
     </para>
____________________________________________________________________________-->
     <para>
      恢复非故意的减小GIN索引条目的最大值 (Heikki Linnakangas)
     </para>

<!--==========================orignal english content==========================
     <para>
      9.4.0 could fail with <quote>index row size exceeds maximum</quote> errors
      for data that previous versions would accept.
     </para>
____________________________________________________________________________-->
     <para>
      9.4.0在遇到<quote>索引行尺寸超出最大值</>错误时会失败，而以前的版本接受该数据。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix query-duration memory leak during repeated GIN index rescans
      (Heikki Linnakangas)
     </para>
____________________________________________________________________________-->
     <para>
      修复重复的GIN索引扫描时的查询持续内存泄露
      (Heikki Linnakangas)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix possible crash when using
      nonzero <varname>gin_fuzzy_search_limit</varname> (Heikki Linnakangas)
     </para>
____________________________________________________________________________-->
     <para>
      修复使用非零<varname>gin_fuzzy_search_limit</>时可能的崩溃 (Heikki Linnakangas)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Assorted fixes for logical decoding (Andres Freund)
     </para>
____________________________________________________________________________-->
     <para>
      逻辑解码的各种修复 (Andres Freund)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix incorrect replay of WAL parameter change records that report
      changes in the <varname>wal_log_hints</varname> setting (Petr Jelinek)
     </para>
____________________________________________________________________________-->
     <para>
      修复在<varname>wal_log_hints</>设置中报告修改的WAL参数修改记录不正确的重放 (Petr Jelinek)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Change <quote>pgstat wait timeout</quote> warning message to be LOG level,
      and rephrase it to be more understandable (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修改<quote>pgstat等待超时</>警告消息为LOG级别，并且重新措辞使其更易理解 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This message was originally thought to be essentially a can't-happen
      case, but it occurs often enough on our slower buildfarm members to be
      a nuisance.  Reduce it to LOG level, and expend a bit more effort on
      the wording: it now reads <quote>using stale statistics instead of
      current ones because stats collector is not responding</quote>.
     </para>
____________________________________________________________________________-->
     <para>
      这个消息最初以为是基本上不会发生的情况，但是它经常发生在我们的较慢buildfarm成员上，
      实在是很烦人。将其降低到LOG级别，并且在措辞上多花费了一点精力：
      它现在读作<quote>使用旧的状态统计而不是当前的这个，因为状态收集器没有响应了</>。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Warn if macOS's <function>setlocale()</function> starts an unwanted extra
      thread inside the postmaster (Noah Misch)
     </para>
____________________________________________________________________________-->
     <para>
      如果macOS的<function>setlocale()</>在主进程内部启动了一个不想要的额外线程则发出警告 (Noah Misch)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>libpq</application>'s behavior when <filename>/etc/passwd</filename>
      isn't readable (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<filename>/etc/passwd</>不可读时<application>libpq</>的行为 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      While doing <function>PQsetdbLogin()</function>, <application>libpq</application>
      attempts to ascertain the user's operating system name, which on most
      Unix platforms involves reading <filename>/etc/passwd</filename>.  As of 9.4,
      failure to do that was treated as a hard error.  Restore the previous
      behavior, which was to fail only if the application does not provide a
      database role name to connect as.  This supports operation in chroot
      environments that lack an <filename>/etc/passwd</filename> file.
     </para>
____________________________________________________________________________-->
     <para>
      当执行<function>PQsetdbLogin()</>时，<application>libpq</>
      尝试确认用户的操作系统名，这在大多数Unix平台上包括读取<filename>/etc/passwd</>。
      到了9.4，未能做到这点被认为是一个硬伤。恢复以前的行为，
      只在应用没有提供数据库用户名用作连接时失败。
      这支持在缺少<filename>/etc/passwd</>文件的更改根目录环境中操作。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Improve consistency of parsing of <application>psql</application>'s special
      variables (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      改善分析<application>psql</>的特殊变量的一致性 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Allow variant spellings of <literal>on</literal> and <literal>off</literal> (such
      as <literal>1</literal>/<literal>0</literal>) for <literal>ECHO_HIDDEN</literal>
      and <literal>ON_ERROR_ROLLBACK</literal>.  Report a warning for unrecognized
      values for <literal>COMP_KEYWORD_CASE</literal>, <literal>ECHO</literal>,
      <literal>ECHO_HIDDEN</literal>, <literal>HISTCONTROL</literal>,
      <literal>ON_ERROR_ROLLBACK</literal>, and <literal>VERBOSITY</literal>.  Recognize
      all values for all these variables case-insensitively; previously
      there was a mishmash of case-sensitive and case-insensitive behaviors.
     </para>
____________________________________________________________________________-->
     <para>
      允许<literal>ECHO_HIDDEN</>和<literal>ON_ERROR_ROLLBACK</>
      的<literal>on</>和<literal>off</>有不同的拼写（比如<literal>1</>/<literal>0</>）。
      对于不能识别的值为<literal>COMP_KEYWORD_CASE</>、<literal>ECHO</>、<literal>ECHO_HIDDEN</>、
      <literal>HISTCONTROL</>、<literal>ON_ERROR_ROLLBACK</>和<literal>VERBOSITY</>报告一个警告。
      识别所有这些变量大小写不敏感的值；以前是大小写敏感和大小写不敏感行为的混合。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <application>pg_dump</application> to handle comments on event triggers
      without failing (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      修复<application>pg_dump</>，使其在事件触发器上不失败的处理评论 (Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Allow parallel <application>pg_dump</application> to
      use <option>-&minus;serializable-deferrable</option> (Kevin Grittner)
     </para>
____________________________________________________________________________-->
     <para>
      允许并行的<application>pg_dump</>使用<option>--serializable-deferrable</> (Kevin Grittner)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Prevent WAL files created by <literal>pg_basebackup -x/-X</literal> from
      being archived again when the standby is promoted (Andres Freund)
     </para>
____________________________________________________________________________-->
     <para>
      当备用服务器提升为主服务器时，阻止<literal>pg_basebackup -x/-X</>
      创建的WAL文件被再次归档 (Andres Freund)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Handle unexpected query results, especially NULLs, safely in
      <filename>contrib/tablefunc</filename>'s <function>connectby()</function>
      (Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      安全的在<filename>contrib/tablefunc</>的<function>connectby()</>
      中处理意料之外的查询结果，尤其是NULL (Michael Paquier)
     </para>

<!--==========================orignal english content==========================
     <para>
      <function>connectby()</function> previously crashed if it encountered a NULL
      key value.  It now prints that row but doesn't recurse further.
     </para>
____________________________________________________________________________-->
     <para>
      如果遇到一个NULL关键值，<function>connectby()</>以前会崩溃。
      它现在输出行，但是不会深层递归。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Numerous cleanups of warnings from Coverity static code analyzer
      (Andres Freund, Tatsuo Ishii, Marko Kreen, Tom Lane, Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      清理了很多来自Coverity静态代码分析器的警告
      (Andres Freund, Tatsuo Ishii, Marko Kreen, Tom Lane, Michael Paquier)
     </para>

<!--==========================orignal english content==========================
     <para>
      These changes are mostly cosmetic but in some cases fix corner-case
      bugs, for example a crash rather than a proper error report after an
      out-of-memory failure.  None are believed to represent security
      issues.
     </para>
____________________________________________________________________________-->
     <para>
      这些修改大部分是为了美化，但是在某些情况下修复了极端情况的bug，
      例如在一个超出内存失败之后是一个崩溃而不是一个适当的错误报告。
      没有代表安全问题的。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Allow <varname>CFLAGS</varname> from <application>configure</application>'s environment
      to override automatically-supplied <varname>CFLAGS</varname> (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      允许来自<application>configure</>环境的<varname>CFLAGS</>
      覆盖自动提供的<varname>CFLAGS</> (Tom Lane)
      Allow <varname>CFLAGS</> from <application>configure</>'s environment
      to override automatically-supplied <varname>CFLAGS</> (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, <application>configure</application> would add any switches that it
      chose of its own accord to the end of the
      user-specified <varname>CFLAGS</varname> string.  Since most compilers
      process switches left-to-right, this meant that configure's choices
      would override the user-specified flags in case of conflicts.  That
      should work the other way around, so adjust the logic to put the
      user's string at the end not the beginning.
     </para>
____________________________________________________________________________-->
     <para>
      以前，<application>configure</>会根据用户提供的<varname>CFLAGS</>
      字符串末尾添加任何它自己选择的开关。因为大多数编译器进程从左到右切换，
      这意味着在冲突的情况下配置的选择将覆盖用户指定的标识。
      这应该以另一种方式工作，所以调整逻辑，将用户的字符串放在末尾而不是开头。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Make <application>pg_regress</application> remove any temporary installation it
      created upon successful exit (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      让<application>pg_regress</>删除任何它根据成功退出创建的临时安装 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This results in a very substantial reduction in disk space usage
      during <literal>make check-world</literal>, since that sequence involves
      creation of numerous temporary installations.
     </para>
____________________________________________________________________________-->
     <para>
      这导致<literal>make check-world</>时磁盘空间使用大量的减少，
      因为该序列包含大量临时安装的创建。
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Add CST (China Standard Time) to our lists of timezone abbreviations
      (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      添加CST (China Standard Time)到我们的时区缩写列表 (Tom Lane)
     </para>
    </listitem>


    <listitem>
<!--==========================orignal english content==========================
     <para>
      Update time zone data files to <application>tzdata</application> release 2015a
      for DST law changes in Chile and Mexico, plus historical changes in
      Iceland.
     </para>
____________________________________________________________________________-->
     <para>
      更新时区数据文件到<application>tzdata</>版本2015a，因为DST规律在智利、墨西哥发生了改变，
      加上冰岛的历史修改。
     </para>
    </listitem>

   </itemizedlist>

  </sect2>
 </sect1>

 <sect1 id="release-9-4">
<!--==========================orignal english content==========================
  <title>Release 9.4</title>
____________________________________________________________________________-->
  <title>版本 9.4</title>

  <formalpara>
<!--==========================orignal english content==========================
   <title>Release date:</title>
____________________________________________________________________________-->
   <title>发布日期：</title>
<!--==========================orignal english content==========================
   <para>2014-12-18</para>
____________________________________________________________________________-->
   <para>2014-12-18</para>
  </formalpara>

  <sect2>
<!--==========================orignal english content==========================
   <title>Overview</title>
____________________________________________________________________________-->
   <title>概述</title>

<!--==========================orignal english content==========================
   <para>
    Major enhancements in <productname>PostgreSQL</productname> 9.4 include:
   </para>
____________________________________________________________________________-->
   <para>
    <productname>PostgreSQL</> 9.4中主要增强的功能包括：
   </para>

   <itemizedlist>

     <listitem>
<!--==========================orignal english content==========================
      <para>
       Add <link linkend="datatype-json"><type>jsonb</type></link>, a more
       capable and efficient data type for storing <acronym>JSON</acronym> data
      </para>
____________________________________________________________________________-->
      <para>
       添加了<link linkend="datatype-json"><type>jsonb</></link>，
       一个存储<acronym>JSON</>数据更能胜任和更有效的数据类型
      </para>
     </listitem>

     <listitem>
<!--==========================orignal english content==========================
      <para>
       Add new <acronym>SQL</acronym> command <xref linkend="sql-altersystem">
       for changing <filename>postgresql.conf</filename> configuration file entries
      </para>
____________________________________________________________________________-->
      <para>
       为修改了的<filename>postgresql.conf</>配置文件项添加新的<acronym>SQL</>命令
       <xref linkend="sql-altersystem">
      </para>
     </listitem>

     <listitem>
<!--==========================orignal english content==========================
      <para>
       Reduce lock strength for some <xref linkend="sql-altertable">
       commands
      </para>
____________________________________________________________________________-->
      <para>
       为一些<xref linkend="sql-altertable">命令降低锁定力度
      </para>
     </listitem>

     <listitem>
<!--==========================orignal english content==========================
      <para>
       Allow <link linkend="rules-materializedviews">materialized views</link>
       to be refreshed without blocking concurrent reads
      </para>
____________________________________________________________________________-->
      <para>
       允许<link linkend="rules-materializedviews">物化视图</>
       在不阻塞并发读取的情况下刷新
      </para>
     </listitem>

     <listitem>
<!--==========================orignal english content==========================
      <para>
       Add support for <link linkend="logicaldecoding">logical decoding</link>
       of WAL data, to allow database changes to be streamed out in a
       customizable format
      </para>
____________________________________________________________________________-->
      <para>
       添加对<link linkend="logicaldecoding">逻辑解码</>WAL数据的支持，
       以便允许数据库以一个可定制的格式流出数据
      </para>
     </listitem>

     <listitem>
<!--==========================orignal english content==========================
      <para>
        Allow <link linkend="bgworker">background worker processes</link>
        to be dynamically registered, started and terminated
      </para>
____________________________________________________________________________-->
      <para>
        允许<link linkend="bgworker">后端工作进程</>动态注册、启动和终止
      </para>
     </listitem>

   </itemizedlist>

<!--==========================orignal english content==========================
   <para>
    The above items are explained in more detail in the sections below.
   </para>
____________________________________________________________________________-->
   <para>
    上面的条目在下面的章节中有更详细的解释。
   </para>

  </sect2>

  <sect2>

<!--==========================orignal english content==========================
  <title>Migration to Version 9.4</title>
____________________________________________________________________________-->
  <title>迁移到版本 9.4</title>

<!--==========================orignal english content==========================
   <para>
    A dump/restore using <xref linkend="app-pg-dumpall">, or use
    of <xref linkend="pgupgrade">, is required for those wishing to migrate
    data from any previous release.
   </para>
____________________________________________________________________________-->
   <para>
    那些想要从以前的版本中迁移数据的用户，需要使用<xref linkend="app-pg-dumpall">
    的转储/恢复，或者使用<xref linkend="pgupgrade">。
   </para>

<!--==========================orignal english content==========================
   <para>
    Version 9.4 contains a number of changes that may affect compatibility
    with previous releases.  Observe the following incompatibilities:
   </para>
____________________________________________________________________________-->
   <para>
    版本9.4包含一些可能影响与以前版本兼容性的修改。查看下面的不兼容：
   </para>

   <itemizedlist>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Tighten checks for multidimensional <link
      linkend="arrays">array</link> input (Bruce Momjian)
     </para>
____________________________________________________________________________-->
     <para>
      加强到多维<link linkend="arrays">数组</link>输入的检查 (Bruce Momjian)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, an input array string that started with a single-element
      sub-array could later contain multi-element sub-arrays,
      e.g. <literal>'{{1}, {2,3}}'::int[]</literal> would be accepted.
     </para>
____________________________________________________________________________-->
     <para>
      以前，一个以单元素子数组开头的输入数组字符串稍后可能包含多元素子数组，
      例如<literal>'{{1}, {2,3}}'::int[]</>是可以接受的。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      When converting values of type <type>date</type>, <type>timestamp</type>
      or <type>timestamptz</type>
      to <link linkend="datatype-json"><type>JSON</type></link>, render the
      values in a format compliant with ISO 8601 (Andrew Dunstan)
     </para>
____________________________________________________________________________-->
     <para>
      当转换类型<type>date</>、<type>timestamp</>或<type>timestamptz</>
      的值到<link linkend="datatype-json"><type>JSON</type></link>时，
      让该值的格式是一个与ISO 8601兼容的格式 (Andrew Dunstan)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously such values were rendered according to the current
      <xref linkend="guc-datestyle"> setting; but many JSON processors
      require timestamps to be in ISO 8601 format.  If necessary, the
      previous behavior can be obtained by explicitly casting the datetime
      value to <type>text</type> before passing it to the JSON conversion
      function.
     </para>
____________________________________________________________________________-->
     <para>
      以前这样的值是根据当前<xref linkend="guc-datestyle">设置呈现的；
      但是许多JSON处理器要求时间戳的格式是ISO 8601。如果需要，
      可以在传递值到JSON转换函数之前，通过明确的转换日期时间值为
      <type>text</>获取以前的行为。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      The <link linkend="functions-json-op-table"><type>json</type>
      <literal>#&gt;</literal> <type>text[]</type></link> path extraction operator now
      returns its lefthand input, not NULL, if the array is empty (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      如果数组是空的话，<link linkend="functions-json-op-table"><type>json</type>
      <literal>#&gt;</> <type>text[]</></link>路径提取运算符现在返回它左侧的输入，
      而不是NULL (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      This is consistent with the notion that this represents zero
      applications of the simple field/element extraction
      operator <literal>-&gt;</literal>.  Similarly, <type>json</type>
      <literal>#&gt;&gt;</literal> <type>text[]</type> with an empty array merely
      coerces its lefthand input to text.
     </para>
____________________________________________________________________________-->
     <para>
      这与代表简单字段/元素提取运算符<literal>-&gt;</>的零应用的想法是一致的。
      相似的，带有空数组的<type>json</type> <literal>#&gt;&gt;</> <type>text[]</>
      只是强制它的左侧输入变成text。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Corner cases in
      the <link linkend="functions-json-op-table"><type>JSON</type>
      field/element/path extraction operators</link> now return NULL rather
      than raising an error (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      <link linkend="functions-json-op-table"><type>JSON</type>
      字段/元素/路径提取运算符</link>中的极端情况现在返回NULL而不是提出一个错误 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      For example, applying field extraction to a JSON array now yields NULL
      not an error.  This is more consistent (since some comparable cases such
      as no-such-field already returned NULL), and it makes it safe to create
      expression indexes that use these operators, since they will now not
      throw errors for any valid JSON input.
     </para>
____________________________________________________________________________-->
     <para>
      例如，将字段提取应用到JSON数组中现在会产生NULL而不是一个错误。
      这样就更加一致了（因为一些可比较的情况，比如没有这样的字段早就是返回NULL的），
      并且这样使得创建使用这些运算符的表达式索引更加安全，
      因为他们现在对于任何有效的JSON输入将不会抛出错误。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Cause consecutive whitespace in <link
      linkend="functions-formatting-table"><function>to_timestamp()</function></link>
      and <function>to_date()</function> format strings to consume a corresponding
      number of characters in the input string (whitespace or not), then
      conditionally consume adjacent whitespace, if not in <literal>FX</literal>
      mode (Jeevan Chalke)
     </para>
____________________________________________________________________________-->
     <para>
      使<link linkend="functions-formatting-table"><function>to_timestamp()</></link>
      和<function>to_date()</>格式字符串中连续的空格消耗输入字符串中相应数量的字符
      （空格或非空格），然后有条件的消耗临近的空格，如果不在<literal>FX</>模式下 (Jeevan Chalke)
     </para> 

<!--==========================orignal english content==========================
     <para>
      Previously, consecutive whitespace characters in a non-<literal>FX</literal>
      format string behaved like a single whitespace character and consumed
      all adjacent whitespace in the input string.  For example, previously
      a format string of three spaces would consume only the first space in
      <literal>' 12'</literal>, but it will now consume all three characters.
     </para>
____________________________________________________________________________-->
     <para>
      以前，非<literal>FX</>格式字符串中连续的空格字符表现的就像一个空格字符，
      并且消耗掉输入字符串中所有临近的空格。例如，以前一个三个空间的格式字符串将只消耗
      <literal>' 12'</>中的第一个空格，但是现在它将消耗所有三个字符。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Fix <link
      linkend="textsearch-functions-table"><function>ts_rank_cd()</function></link>
      to ignore stripped lexemes (Alex Hill)
     </para>
____________________________________________________________________________-->
     <para>
      修复<link linkend="textsearch-functions-table"><function>ts_rank_cd()</></link>
      以忽略剥离了的词位 (Alex Hill)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, stripped lexemes were treated as if they had a default
      location, producing a rank of dubious usefulness.
     </para>
____________________________________________________________________________-->
     <para>
      以前，剥离了的词位被看做是它们有一个缺省的位置，产生一个可疑的有效性。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      For functions declared to
      take <link linkend="xfunc-sql-variadic-functions"><literal>VARIADIC
      "any"</literal></link>, an actual parameter marked as <literal>VARIADIC</literal>
      must be of a determinable array type (Pavel Stehule)
     </para>
____________________________________________________________________________-->
     <para>
      对于声明为接受<link linkend="xfunc-sql-variadic-functions"><literal>VARIADIC
      "any"</></link>的函数，一个标记为<literal>VARIADIC</>
      的实参必须是一个可以测定的数组类型 (Pavel Stehule)
     </para>

<!--==========================orignal english content==========================
     <para>
      Such parameters can no longer be written as an undecorated string
      literal or <literal>NULL</literal>; a cast to an appropriate array data type
      will now be required.  Note that this does not affect parameters not
      marked <literal>VARIADIC</literal>.
     </para>
____________________________________________________________________________-->
     <para>
      这样的参数不能再被写作未加修饰的字符串文本或<literal>NULL</>；
      现在将必须转换到一个适当的数组数据类型。请注意，
      这并不影响没有标记为<literal>VARIADIC</>的参数。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Ensure that whole-row variables expose the expected column names
      to functions that pay attention to column names within composite
      arguments (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      确保整行变量暴露预期的字段名给注意复合变量中字段名的函数 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Constructs like <literal>row_to_json(tab.*)</literal> now always emit column
      names that match the column aliases visible for table <literal>tab</literal>
      at the point of the call.  In previous releases the emitted column
      names would sometimes be the table's actual column names regardless
      of any aliases assigned in the query.
     </para>
____________________________________________________________________________-->
     <para>
      类似<literal>row_to_json(tab.*)</>的构造现在总是发出在该调用时，
      匹配表<literal>tab</>可见的字段别名的字段名字。在以前的版本中，
      发出的字段名字有时将是表的实际字段名字，不管在查询中给它赋予了什么别名。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      <xref linkend="sql-discard"> now also discards sequence-related state
      (Fabr&iacute;zio de Royes Mello, Robert Haas)
     </para>
____________________________________________________________________________-->
     <para>
      <xref linkend="sql-discard">现在也丢弃了序列相关的状态
      (Fabr&iacute;zio de Royes Mello, Robert Haas)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Rename <link linkend="sql-explain"><command>EXPLAIN
      ANALYZE</command></link>'s <quote>total runtime</quote> output
      to <quote>execution time</quote> (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      重命名<link linkend="sql-explain"><command>EXPLAIN
      ANALYZE</></link>的<quote>total runtime</quote>输出为
      <quote>execution time</quote> (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Now that planning time is also reported, the previous name was
      confusing.
     </para>
____________________________________________________________________________-->
     <para>
      现在也报告规划时间，以前的名字有些混淆。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      <link linkend="sql-show"><command>SHOW TIME ZONE</command></link> now
      outputs simple numeric UTC offsets in <acronym>POSIX</acronym> timezone
      format (Tom Lane)
     </para>
____________________________________________________________________________-->
     <para>
      <link linkend="sql-show"><command>SHOW TIME ZONE</></link>
      现在以<acronym>POSIX</>时区格式输出简单数字UTC偏移量 (Tom Lane)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, such timezone settings were displayed as <link
      linkend="datatype-interval-output"><type>interval</type></link> values.
      The new output is properly interpreted by <command>SET TIME ZONE</command>
      when passed as a simple string, whereas the old output required
      special treatment to be re-parsed correctly.
     </para>
____________________________________________________________________________-->
     <para>
      以前，这样的时区设置作为<link
      linkend="datatype-interval-output"><type>interval</></link>
      值显示。新的输出在作为简单字符串传递时被<command>SET TIME ZONE</>
      适当的解读了，而老的输出则需要特殊的处理才能正确的重新解析。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Foreign data wrappers that support updating foreign tables must
      consider the possible presence of <literal>AFTER ROW</literal> triggers
      (Noah Misch)
     </para>
____________________________________________________________________________-->
     <para>
      支持更新外部表的外部数据封装器必须考虑<literal>AFTER ROW</>
      触发器存在的可能性 (Noah Misch)
     </para>

<!--==========================orignal english content==========================
     <para>
      When an <literal>AFTER ROW</literal> trigger is present, all columns of the
      table must be returned by updating actions, since the trigger might
      inspect any or all of them.  Previously, foreign tables never had
      triggers, so the FDW might optimize away fetching columns not mentioned
      in the <literal>RETURNING</literal> clause (if any).
     </para>
____________________________________________________________________________-->
     <para>
      当存在<literal>AFTER ROW</>触发器时，表的所有字段必须通过更新动作返回，
      因为触发器可能检查任何或所有字段。以前，外部表从未有过触发器，
      所以FDW可能会优化<literal>RETURNING</>子句（如果有）中没有提到的字段。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Prevent <link
      linkend="ddl-constraints-check-constraints"><literal>CHECK</literal></link>
      constraints from referencing system columns, except
      <structfield>tableoid</structfield> (Amit Kapila)
     </para>
____________________________________________________________________________-->
     <para>
      阻止<link
      linkend="ddl-constraints-check-constraints"><literal>CHECK</></link>
      约束参考系统字段，除了<structfield>tableoid</> (Amit Kapila)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously such check constraints were allowed, but they would often
      cause errors during restores.
     </para>
____________________________________________________________________________-->
     <para>
      以前是允许这样的检查约束的，但是它们在恢复时经常引起错误。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Use the last specified <link linkend="recovery-target-settings">recovery
      target parameter</link> if multiple target parameters are specified
      (Heikki Linnakangas)
     </para>
____________________________________________________________________________-->
     <para>
      如果指定了多个目标参数，那么使用最后指定的
      <link linkend="recovery-target-settings">恢复目标参数</link> (Heikki Linnakangas)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, there was an undocumented precedence order among
      the <literal>recovery_target_<replaceable>xxx</replaceable></literal> parameters.
     </para>
____________________________________________________________________________-->
     <para>
      以前，在<literal>recovery_target_<replaceable>xxx</></literal>
      参数上有一个未记录的优先级顺序。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      On Windows, automatically preserve quotes in command strings supplied
      by the user (Heikki Linnakangas)
     </para>
____________________________________________________________________________-->
     <para>
      在Windows上，自动保存用户提供的命令字符串中的引用 (Heikki Linnakangas)
     </para>

<!--==========================orignal english content==========================
     <para>
      User commands that did their own quote preservation might need
      adjustment.  This is likely to be an issue for commands used in
      <xref linkend="guc-archive-command">, <xref linkend="restore-command">,
      and <link linkend="sql-copy"><command>COPY TO/FROM PROGRAM</command></link>.
     </para>
____________________________________________________________________________-->
     <para>
      执行它们自己的引用保留的用户命令可能需要调整。这对于在
      <xref linkend="guc-archive-command">、<xref linkend="restore-command">
      和<link linkend="sql-copy"><command>COPY TO/FROM PROGRAM</></link>
      中使用的命令来说可能是一个问题。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Remove catalog column <link
      linkend="catalog-pg-class"><structfield>pg_class.reltoastidxid</structfield></link>
      (Michael Paquier)
     </para>
____________________________________________________________________________-->
     <para>
      删除目录列<link
      linkend="catalog-pg-class"><structfield>pg_class.reltoastidxid</></link>
      (Michael Paquier)
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Remove catalog column <link
      linkend="catalog-pg-rewrite"><structfield>pg_rewrite.ev_attr</structfield></link>
      (Kevin Grittner)
     </para>
____________________________________________________________________________-->
     <para>
      删除目录列<link
      linkend="catalog-pg-rewrite"><structfield>pg_rewrite.ev_attr</></link>
      (Kevin Grittner)
     </para>

<!--==========================orignal english content==========================
     <para>
      Per-column rules have not been supported since
      <application>PostgreSQL</application> 7.3.
     </para>
____________________________________________________________________________-->
     <para>
      自<application>PostgreSQL</> 7.3以来不再支持每列的规则。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Remove native support for <application>Kerberos</application> authentication
      (<option>-&minus;with-krb5</option>, etc)
      (Magnus Hagander)
     </para>
____________________________________________________________________________-->
     <para>
      删除本地对<application>Kerberos</>认证的支持(<option>--with-krb5</>等)
      (Magnus Hagander)
     </para>

<!--==========================orignal english content==========================
     <para>
      The supported way to use <application>Kerberos</application> authentication is
      with <acronym>GSSAPI</acronym>.  The native code has been deprecated since
      <productname>PostgreSQL</productname> 8.3.
     </para>
____________________________________________________________________________-->
     <para>
      支持使用<application>Kerberos</>认证的方式是<acronym>GSSAPI</>。
      本地代码自<productname>PostgreSQL</> 8.3起就弃用了。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      In <application>PL/Python</application>, handle domains over arrays like the
      underlying array type (Rodolfo Campero)
     </para>
____________________________________________________________________________-->
     <para>
      在<application>PL/Python</>中，像底层数组类型那样处理数组上的域名 (Rodolfo Campero)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously such values were treated as strings.
     </para>
____________________________________________________________________________-->
     <para>
      以前这样的值被看做是字符串。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Make libpq's <link
      linkend="libpq-pqconnectdbparams"><function>PQconnectdbParams()</function></link>
      and <link
      linkend="libpq-pqpingparams"><function>PQpingParams()</function></link>
      functions process zero-length strings as defaults (Adrian
      Vondendriesch)
     </para>
____________________________________________________________________________-->
     <para>
      让libpq的<link
      linkend="libpq-pqconnectdbparams"><function>PQconnectdbParams()</></link>
      和<link
      linkend="libpq-pqpingparams"><function>PQpingParams()</></link>
      函数处理零长度的字符串为缺省 (Adrian
      Vondendriesch)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, these functions treated zero-length string values as
      selecting the default in only some cases.
     </para>
____________________________________________________________________________-->
     <para>
      以前，这些函数只在某些情况下将零长度的字符串值看做是选取缺省。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      Change empty arrays returned by the <xref linkend="intarray"> module
      to be zero-dimensional arrays (Bruce Momjian)
     </para>
____________________________________________________________________________-->
     <para>
      修改<xref linkend="intarray">模块返回的空数组为零维数组 (Bruce Momjian)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously, empty arrays were returned as zero-length one-dimensional
      arrays, whose text representation looked the same as zero-dimensional
      arrays (<literal>{}</literal>), but they acted differently in array
      operations.  <application>intarray</application>'s behavior in this area now
      matches the built-in array operators.
     </para>
____________________________________________________________________________-->
     <para>
      以前，空数组是作为零长度一维数组返回的，它的文本表示看起来和零维数组
      (<literal>{}</>)相同，但是它们在数组操作中的表现不同。在这一块，
      <application>intarray</>的行为现在匹配内建数组运算符。
     </para>
    </listitem>

    <listitem>
<!--==========================orignal english content==========================
     <para>
      <xref linkend="pgupgrade"> now uses <option>-U</option>
      or <option>-&minus;username</option> to specify the user name (Bruce Momjian)
     </para>
____________________________________________________________________________-->
     <para>
      <xref linkend="pgupgrade">现在使用<option>-U</>
      或<option>--username</>来声明用户名 (Bruce Momjian)
     </para>

<!--==========================orignal english content==========================
     <para>
      Previously this option was spelled <option>-u</option> or <option>-&minus;user</option>,
      but that was inconsistent with other tools.
     </para>
____________________________________________________________________________-->
     <para>
      以前，这个选项拼写为<option>-u</>或<option>--user</>，
      但是会与其他工具不一致。
     </para>
    </listitem>

   </itemizedlist>

  </sect2>

  <sect2>
<!--==========================orignal english content==========================
   <title>Changes</title>
____________________________________________________________________________-->
   <title>修改列表</title> 

<!--==========================orignal english content==========================
   <para>
    Below you will find a detailed account of the changes between
    <productname>PostgreSQL</productname> 9.4 and the previous major
    release.
   </para>
____________________________________________________________________________-->
   <para>
    下面你将看到一个<productname>PostgreSQL</productname> 9.4和以前的主版本之间详细的修改清单。
   </para>

   <sect3>
<!--==========================orignal english content==========================
    <title>Server</title>
____________________________________________________________________________-->
    <title>服务器</title>

     <itemizedlist>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Allow <link linkend="bgworker">background worker processes</link>
        to be dynamically registered, started and terminated (Robert Haas)
       </para>
____________________________________________________________________________-->
       <para>
        允许<link linkend="bgworker">后端工作进程</link>动态注册、启动和终止 (Robert Haas)
       </para>

<!--==========================orignal english content==========================
       <para>
        The new <filename>worker_spi</filename> module shows an example of use
        of this feature.
       </para>
____________________________________________________________________________-->
       <para>
        新的<filename>worker_spi</>模块显示了使用这个特性的一个示例。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Allow dynamic allocation of shared memory segments (Robert Haas,
        Amit Kapila)
       </para>
____________________________________________________________________________-->
       <para>
        允许动态分配共享内存段 (Robert Haas, Amit Kapila)
       </para>

<!--==========================orignal english content==========================
       <para>
        This feature is illustrated in the <filename>test_shm_mq</filename>
        module.
       </para>
____________________________________________________________________________-->
       <para>
        这个特性在<filename>test_shm_mq</filename>模块中阐明。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        During crash recovery or immediate shutdown, send uncatchable
        termination signals (<systemitem>SIGKILL</systemitem>) to child processes
        that do not shut down promptly (MauMau, &Aacute;lvaro Herrera)
       </para>
____________________________________________________________________________-->
       <para>
        在崩溃恢复或立即关闭时，发送不可抓取的终止信号(<systemitem>SIGKILL</>)
        到没有立即关闭的子进程 (MauMau, &Aacute;lvaro Herrera)
       </para>

<!--==========================orignal english content==========================
       <para>
        This reduces the likelihood of leaving orphaned child processes
        behind after <xref linkend="app-postmaster"> shutdown, as well
        as ensuring that crash recovery can proceed if some child processes
        have become <quote>stuck</quote>.
       </para>
____________________________________________________________________________-->
       <para>
        这减少了在<xref linkend="app-postmaster">关闭之后留有单独的子进程的可能性，
        也确保了在某些子进程变成<quote>stuck</>时崩溃恢复可以继续进行。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Improve randomness of the database system identifier (Tom Lane)
       </para>
____________________________________________________________________________-->
       <para>
        改善数据库系统标识符的随机性 (Tom Lane)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Make <xref linkend="sql-vacuum"> properly report dead but
        not-yet-removable rows to the statistics collector (Hari Babu)
       </para>
____________________________________________________________________________-->
       <para>
        让<xref linkend="sql-vacuum">正确的将死亡但是还未移除的行报告给状态收集器 (Hari Babu)
       </para>

<!--==========================orignal english content==========================
       <para>
        Previously these were reported as live rows.
       </para>
____________________________________________________________________________-->
       <para>
        以前这些被报告为存活的行。
       </para>
      </listitem>

     </itemizedlist>

    <sect4>
<!--==========================orignal english content==========================
     <title>Indexes</title>
____________________________________________________________________________-->
     <title>索引</title>

     <itemizedlist>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Reduce <link linkend="gin"><acronym>GIN</acronym></link> index size
        (Alexander Korotkov, Heikki Linnakangas)
       </para>
____________________________________________________________________________-->
       <para>
        减少<link linkend="gin"><acronym>GIN</></link>索引尺寸
        (Alexander Korotkov, Heikki Linnakangas)
       </para>

<!--==========================orignal english content==========================
       <para>
        Indexes upgraded via <xref linkend="pgupgrade"> will work fine
        but will still be in the old, larger <acronym>GIN</acronym> format.
        Use <xref linkend="sql-reindex"> to recreate old GIN indexes in the
        new format.
       </para>
____________________________________________________________________________-->
       <para>
        通过<xref linkend="pgupgrade">升级的索引将会工作的很好，
        但是仍然是老的、较大的<acronym>GIN</>格式。使用
        <xref linkend="sql-reindex">以新的格式重新创建老的GIN索引。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Improve speed of multi-key <link
        linkend="gin"><acronym>GIN</acronym></link> lookups (Alexander Korotkov,
        Heikki Linnakangas)
       </para>
____________________________________________________________________________-->
       <para>
        改善多键<link linkend="gin"><acronym>GIN</></link>查找的速度 (Alexander Korotkov,
        Heikki Linnakangas)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add <link linkend="gist"><acronym>GiST</acronym></link> index support
        for <link linkend="datatype-inet"><type>inet</type></link> and
        <link linkend="datatype-cidr"><type>cidr</type></link> data types
        (Emre Hasegeli)
       </para>
____________________________________________________________________________-->
       <para>
        为<link linkend="datatype-inet"><type>inet</></link>和
        <link linkend="datatype-cidr"><type>cidr</></link>数据类型添加
        <link linkend="gist"><acronym>GiST</></link>索引支持
        (Emre Hasegeli)
       </para>

<!--==========================orignal english content==========================
       <para>
        Such indexes improve <link
        linkend="cidr-inet-operators-table">subnet and supernet</link>
        lookups and ordering comparisons.
       </para>
____________________________________________________________________________-->
       <para>
        这样的索引改善了<link linkend="cidr-inet-operators-table">子网和超网</link>
        查找和排序比较。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Fix rare race condition in B-tree page deletion (Heikki Linnakangas)
       </para>
____________________________________________________________________________-->
       <para>
        修复B-tree页删除中罕见的竞态条件 (Heikki Linnakangas)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Make the handling of interrupted B-tree page splits more robust
        (Heikki Linnakangas)
       </para>
____________________________________________________________________________-->
       <para>
        让中断的B-tree页分裂的处理更加健壮 (Heikki Linnakangas)
       </para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
<!--==========================orignal english content==========================
     <title>General Performance</title>
____________________________________________________________________________-->
     <title>一般性能</title>

     <itemizedlist>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Allow multiple backends to insert
        into <link linkend="wal"><acronym>WAL</acronym></link> buffers
        concurrently (Heikki Linnakangas)
       </para>
____________________________________________________________________________-->
       <para>
        允许多重后端并发的插入到<link linkend="wal"><acronym>WAL</></link>
        缓冲区中 (Heikki Linnakangas)
       </para>

<!--==========================orignal english content==========================
       <para>
        This improves parallel write performance.
       </para>
____________________________________________________________________________-->
       <para>
        这提升了并行写入的性能。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Conditionally write only the modified portion of updated rows to
        <link linkend="wal"><acronym>WAL</acronym></link> (Amit Kapila)
       </para>
____________________________________________________________________________-->
       <para>
        有条件的只写入被更新行的修改部分到<link linkend="wal"><acronym>WAL</></link>中 (Amit Kapila)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Improve performance of aggregate functions used as <link
        linkend="syntax-window-functions">window functions</link>
        (David Rowley, Florian Pflug, Tom Lane)
       </para>
____________________________________________________________________________-->
       <para>
        改善作为<link linkend="syntax-window-functions">窗口函数</link>
        使用的聚合函数的性能 (David Rowley, Florian Pflug, Tom Lane)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Improve speed of aggregates that
        use <link linkend="datatype-numeric"><type>numeric</type></link> state
        values (Hadi Moshayedi)
       </para>
____________________________________________________________________________-->
       <para>
        改善使用<link linkend="datatype-numeric"><type>numeric</></link>
        状态值的聚合的速度 (Hadi Moshayedi)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Attempt to <link linkend="vacuum-for-wraparound">freeze</link>
        tuples when tables are rewritten with <xref
        linkend="sql-cluster"> or <link
        linkend="sql-vacuum"><command>VACUUM FULL</command></link> (Robert Haas,
        Andres Freund)
       </para>
____________________________________________________________________________-->
       <para>
        当使用<xref linkend="sql-cluster">或<link
        linkend="sql-vacuum"><command>VACUUM FULL</></link>
        重新写入表时，尝试<link linkend="vacuum-for-wraparound">冻结</link>元组 (Robert Haas,
        Andres Freund)
       </para>

<!--==========================orignal english content==========================
       <para>
        This can avoid the need to freeze the tuples in the future.
       </para>
____________________________________________________________________________-->
       <para>
        这可以避免将来冻结元组的需要。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Improve speed of <xref linkend="sql-copy"> with default <link
        linkend="functions-sequence-table"><function>nextval()</function></link>
        columns (Simon Riggs)
       </para>
____________________________________________________________________________-->
       <para>
        改善<xref linkend="sql-copy">处理缺省<link
        linkend="functions-sequence-table"><function>nextval()</></link>
        字段的速度 (Simon Riggs)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Improve speed of accessing many different <link
        linkend="sql-createsequence">sequences</link> in the same session
        (David Rowley)
       </para>
____________________________________________________________________________-->
       <para>
        改善在同一会话中访问许多不同<link linkend="sql-createsequence">序列</link>
        的速度 (David Rowley)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Raise hard limit on the number of tuples held in memory during sorting
        and B-tree index builds (Noah Misch)
       </para>
____________________________________________________________________________-->
       <para>
        在排序和B-tree索引建立时，提高内存中持有的元组数量的硬限制 (Noah Misch)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Reduce memory allocated by <application>PL/pgSQL</application>
        <xref linkend="sql-do"> blocks (Tom Lane)
       </para>
____________________________________________________________________________-->
       <para>
        减少<application>PL/pgSQL</> <xref linkend="sql-do">块的内存分配 (Tom Lane)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Make the planner more aggressive about extracting restriction clauses
        from mixed <literal>AND</literal>/<literal>OR</literal> clauses (Tom Lane)
       </para>
____________________________________________________________________________-->
       <para>
        让规划器更积极的提取混合<literal>AND</>/<literal>OR</>子句中的限制子句 (Tom Lane)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Disallow pushing volatile <literal>WHERE</literal> clauses down
        into <literal>DISTINCT</literal> subqueries (Tom Lane)
       </para>
____________________________________________________________________________-->
       <para>
        不允许将不稳定的<literal>WHERE</>子句放入<literal>DISTINCT</>子查询中 (Tom Lane)
       </para>

<!--==========================orignal english content==========================
       <para>
        Pushing down a <literal>WHERE</literal> clause can produce a more
        efficient plan overall, but at the cost of evaluating the clause
        more often than is implied by the text of the query; so don't do it
        if the clause contains any volatile functions.
       </para>
____________________________________________________________________________-->
       <para>
        放入一个<literal>WHERE</>子句总的来说会产生一个更有效的规划，
        但是在评估的成本方面来说，该子句比查询的文本所隐含的要更多；
        所以，如果该子句包含任何不稳定的函数，就不要这样做。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Auto-resize the catalog caches (Heikki Linnakangas)
       </para>
____________________________________________________________________________-->
       <para>
        自动调整目录缓存的大小 (Heikki Linnakangas)
       </para>

<!--==========================orignal english content==========================
       <para>
        This reduces memory consumption for sessions accessing only a few
        tables, and improves performance for sessions accessing many tables.
       </para>
____________________________________________________________________________-->
       <para>
        这减少了只访问几个表的会话的内存消耗，提高了访问许多表的会话的性能。
       </para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
<!--==========================orignal english content==========================
     <title>Monitoring</title>
____________________________________________________________________________-->
     <title>监视</title>

     <itemizedlist>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add <xref linkend="pg-stat-archiver-view"> system view to
        report <link linkend="wal"><acronym>WAL</acronym></link> archiver activity
        (Gabriele Bartolini)
       </para>
____________________________________________________________________________-->
       <para>
        添加<xref linkend="pg-stat-archiver-view">系统视图以报告
        <link linkend="wal"><acronym>WAL</></link>归档活动 (Gabriele Bartolini)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add <structfield>n_mod_since_analyze</structfield> columns to
        <xref linkend="pg-stat-all-tables-view"> and related system views
        (Mark Kirkwood)
       </para>
____________________________________________________________________________-->
       <para>
        添加<structfield>n_mod_since_analyze</>字段到
        <xref linkend="pg-stat-all-tables-view">和相关的系统视图 (Mark Kirkwood)
       </para>

<!--==========================orignal english content==========================
       <para>
        These columns expose the system's estimate of the number of changed
        tuples since the table's last <xref linkend="sql-analyze">.  This
        estimate drives decisions about when to auto-analyze.
       </para>
____________________________________________________________________________-->
       <para>
        这些字段显示子表最后<xref linkend="sql-analyze">依赖修改了的元组数量的系统估计。
        这个估计促使决定何时自动分析。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add <structfield>backend_xid</structfield> and <structfield>backend_xmin</structfield>
        columns to the system view <xref linkend="pg-stat-activity-view">,
        and a <structfield>backend_xmin</structfield> column to
        <xref linkend="pg-stat-replication-view"> (Christian Kruse)
       </para>
____________________________________________________________________________-->
       <para>
        添加<structfield>backend_xid</>和<structfield>backend_xmin</>
        字段到系统视图<xref linkend="pg-stat-activity-view">，
        和一个<structfield>backend_xmin</>字段到
        <xref linkend="pg-stat-replication-view"> (Christian Kruse)
       </para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
<!--==========================orignal english content==========================
     <title><acronym>SSL</acronym></title>
____________________________________________________________________________-->
     <title><acronym>SSL</></title>

     <itemizedlist>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add support for <acronym>SSL</acronym> <acronym>ECDH</acronym> key exchange
        (Marko Kreen)
       </para>
____________________________________________________________________________-->
       <para>
        添加对<acronym>SSL</> <acronym>ECDH</>秘钥交换的支持 (Marko Kreen)
       </para>

<!--==========================orignal english content==========================
       <para>
        This allows use of Elliptic Curve keys for server authentication.
        Such keys are faster and have better security than <acronym>RSA</acronym>
        keys. The new configuration parameter
        <xref linkend="guc-ssl-ecdh-curve">
        controls which curve is used for <acronym>ECDH</acronym>.
       </para>
____________________________________________________________________________-->
       <para>
        这允许为服务器认证使用Elliptic Curve秘钥。这样的秘钥更快，
        并且比<acronym>RSA</>秘钥更加安全。新的配置参数<xref linkend="guc-ssl-ecdh-curve">
        控制为<acronym>ECDH</>使用哪条曲线。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Improve the default <xref linkend="guc-ssl-ciphers"> setting
        (Marko Kreen)
       </para>
____________________________________________________________________________-->
       <para>
        改善缺省的<xref linkend="guc-ssl-ciphers">设置 (Marko Kreen)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        By default, the server not the client now controls the preference
        order of <acronym>SSL</acronym> ciphers
        (Marko Kreen)
       </para>
____________________________________________________________________________-->
       <para>
        缺省的，现在是服务器而不是客户端控制<acronym>SSL</>运算的优先顺序
        (Marko Kreen)
       </para>

<!--==========================orignal english content==========================
       <para>
        Previously, the order specified by <xref linkend="guc-ssl-ciphers">
        was usually ignored in favor of client-side defaults, which are not
        configurable in most <productname>PostgreSQL</productname> clients.  If
        desired, the old behavior can be restored via the new configuration
        parameter <xref linkend="guc-ssl-prefer-server-ciphers">.
       </para>
____________________________________________________________________________-->
       <para>
        以前，为了支持客户端侧的缺省，<xref linkend="guc-ssl-ciphers">
        声明的顺序通常是忽略了的，这在大多数<productname>PostgreSQL</>
        客户端上是不可配置的。如果需要，可以通过新的配置参数
        <xref linkend="guc-ssl-prefer-server-ciphers">恢复老的行为。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Make <xref linkend="guc-log-connections"> show <acronym>SSL</acronym>
        encryption information (Andreas Kunert)
       </para>
____________________________________________________________________________-->
       <para>
        让<xref linkend="guc-log-connections">显示<acronym>SSL</>
        加密信息 (Andreas Kunert)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Improve <acronym>SSL</acronym> renegotiation handling (&Aacute;lvaro
        Herrera)
       </para>
____________________________________________________________________________-->
       <para>
        改善<acronym>SSL</>协商处理 (&Aacute;lvaro Herrera)
       </para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
<!--==========================orignal english content==========================
     <title>Server Settings</title>
____________________________________________________________________________-->
     <title>服务器设置</title>

     <itemizedlist>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add new <acronym>SQL</acronym> command <xref linkend="sql-altersystem">
        for changing <filename>postgresql.conf</filename> configuration file entries
        (Amit Kapila)
       </para>
____________________________________________________________________________-->
       <para>
        为了改变<filename>postgresql.conf</>配置文件项，添加新的
        <acronym>SQL</>命令<xref linkend="sql-altersystem"> (Amit Kapila)
       </para>

<!--==========================orignal english content==========================
       <para>
        Previously such settings could only be changed by manually
        editing <filename>postgresql.conf</filename>.
       </para>
____________________________________________________________________________-->
       <para>
        以前这样的设置只能通过手动编辑<filename>postgresql.conf</>修改。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add <xref linkend="guc-autovacuum-work-mem"> configuration parameter
        to control the amount of memory used by autovacuum workers
        (Peter Geoghegan)
       </para>
____________________________________________________________________________-->
       <para>
        添加<xref linkend="guc-autovacuum-work-mem">配置参数，
        控制自动清理进程使用的内存数量 (Peter Geoghegan)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add <xref linkend="guc-huge-pages"> parameter to allow using huge
        memory pages on Linux (Christian Kruse, Richard Poole, Abhijit
        Menon-Sen)
       </para>
____________________________________________________________________________-->
       <para>
        添加<xref linkend="guc-huge-pages">参数，允许在Linux上使用大量的内存页
        (Christian Kruse, Richard Poole, Abhijit
        Menon-Sen)
       </para>

<!--==========================orignal english content==========================
       <para>
        This can improve performance on large-memory systems.
       </para>
____________________________________________________________________________-->
       <para>
        这可以提升大内存系统的性能。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add <xref linkend="guc-max-worker-processes"> parameter
        to limit the number of background workers (Robert Haas)
       </para>
____________________________________________________________________________-->
       <para>
        添加<xref linkend="guc-max-worker-processes">参数，
        限制后端工作进程的数量 (Robert Haas)
       </para>

<!--==========================orignal english content==========================
       <para>
        This is helpful in configuring a standby server to have the
        required number of worker processes (the same as the primary).
       </para>
____________________________________________________________________________-->
       <para>
        这在配置一个备用服务器拥有所需数量的工作进程时是有帮助的（主机也是一样的）。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add superuser-only <xref linkend="guc-session-preload-libraries">
        parameter to load libraries at session start (Peter Eisentraut)
       </para>
____________________________________________________________________________-->
       <para>
        添加仅超级用户的<xref linkend="guc-session-preload-libraries">参数，
        在会话开始时加载库 (Peter Eisentraut)
       </para>

<!--==========================orignal english content==========================
       <para>
        In contrast to <xref linkend="guc-local-preload-libraries">, this
        parameter can load any shared library, not just those in
        the <filename>$libdir/plugins</filename> directory.
       </para>
____________________________________________________________________________-->
       <para>
        与<xref linkend="guc-local-preload-libraries">相比，
        这个参数可以加载任意共享库，不只是在<filename>$libdir/plugins</>路径中的那些。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add <xref linkend="guc-wal-log-hints"> parameter to enable WAL
        logging of hint-bit changes (Sawada Masahiko)
       </para>
____________________________________________________________________________-->
       <para>
        添加<xref linkend="guc-wal-log-hints">参数，启用提示一点变化的WAL记录 (Sawada Masahiko)
       </para>

<!--==========================orignal english content==========================
       <para>
        Hint bit changes are not normally logged, except when checksums are
        enabled.  This is useful for external tools
        like <application>pg_rewind</application>.
       </para>
____________________________________________________________________________-->
       <para>
        提示一点变化通常是不记录的，除非启用了校验和。这对于外部工具
        比如<application>pg_rewind</>是有用的。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Increase the default settings of <xref linkend="guc-work-mem">
        and <xref linkend="guc-maintenance-work-mem"> by four times (Bruce
        Momjian)
       </para>
____________________________________________________________________________-->
       <para>
        四次增加<xref linkend="guc-work-mem">和<xref linkend="guc-maintenance-work-mem">
        的缺省设置 (Bruce Momjian)
       </para>

<!--==========================orignal english content==========================
       <para>
        The new defaults are 4MB and 64MB respectively.
       </para>
____________________________________________________________________________-->
       <para>
        新的缺省分别是4MB和64MB。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Increase the default setting of <xref
        linkend="guc-effective-cache-size">
        to 4GB (Bruce Momjian, Tom Lane)
       </para>
____________________________________________________________________________-->
       <para>
        增加<xref linkend="guc-effective-cache-size">
        的缺省设置到4GB (Bruce Momjian, Tom Lane)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Allow <function>printf</function>-style space padding to be
        specified in <xref linkend="guc-log-line-prefix"> (David Rowley)
       </para>
____________________________________________________________________________-->
       <para>
        允许<function>printf</function>风格的空白填补到
        <xref linkend="guc-log-line-prefix">指定的位置 (David Rowley)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Allow terabyte units (<literal>TB</literal>) to be used when specifying
        configuration variable values (Simon Riggs)
       </para>
____________________________________________________________________________-->
       <para>
        在声明了配置变量值时，允许使用太字节单位(<literal>TB</>) (Simon Riggs)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Show <acronym>PID</acronym>s of lock holders and waiters and improve
        information about relations in <xref linkend="guc-log-lock-waits">
        log messages (Christian Kruse)
       </para>
____________________________________________________________________________-->
       <para>
        显示锁持有者和等待者的<acronym>PID</>，并改善
        <xref linkend="guc-log-lock-waits">日志消息中关系相关的信息 (Christian Kruse)
       </para>    
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Reduce server logging level when loading shared libraries (Peter
        Geoghegan)
       </para>
____________________________________________________________________________-->
       <para>
        在加载共享库时，降低服务器日志级别 (Peter Geoghegan)
       </para>

<!--==========================orignal english content==========================
       <para>
        The previous level was <literal>LOG</literal>, which was too verbose
        for libraries loaded per-session.
       </para>
____________________________________________________________________________-->
       <para>
        以前的级别是<literal>LOG</>，这对于每个会话都加载的库来说太详细了。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        On Windows, make <literal>SQL_ASCII</literal>-encoded databases and server
        processes (e.g., <xref linkend="app-postmaster">) emit messages in
        the character encoding of the server's Windows user locale
        (Alexander Law, Noah Misch)
       </para>
____________________________________________________________________________-->
       <para>
        在Windows上，让<literal>SQL_ASCII</>编码的数据库和服务器进程
        （比如<xref linkend="app-postmaster">）在服务器的Windows用户本地的字符编码中发出消息
        (Alexander Law, Noah Misch)
       </para>

<!--==========================orignal english content==========================
       <para>
        Previously these messages were output in the Windows
        <acronym>ANSI</acronym> code page.
       </para>
____________________________________________________________________________-->
       <para>
        以前，这些消息在Windows <acronym>ANSI</>代码页输出。
       </para>
      </listitem>

     </itemizedlist>

    </sect4>

   </sect3>

   <sect3>
<!--==========================orignal english content==========================
    <title>Replication and Recovery</title>
____________________________________________________________________________-->
    <title>复制和恢复</title>

     <itemizedlist>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add <link linkend="streaming-replication-slots">replication
        slots</link> to coordinate activity on streaming standbys with the
        node they are streaming from (Andres Freund, Robert Haas)
       </para>
____________________________________________________________________________-->
       <para>
        添加<link linkend="streaming-replication-slots">复制槽</link>，
        协调流备用上的活动和流出节点 (Andres Freund, Robert Haas)
       </para>

<!--==========================orignal english content==========================
       <para>
        Replication slots allow preservation of resources like
        <acronym>WAL</acronym> files on the primary until they are no longer
        needed by standby servers.
       </para>
____________________________________________________________________________-->
       <para>
        复制槽允许在主服务器上保存资源，像<acronym>WAL</>文件，
        直到备用服务器不再需要它们。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add recovery parameter <xref linkend="recovery-min-apply-delay">
        to delay replication (Robert Haas, Fabr&iacute;zio de Royes Mello,
        Simon Riggs)
       </para>
____________________________________________________________________________-->
       <para>
        添加恢复参数<xref linkend="recovery-min-apply-delay">推迟复制
        (Robert Haas, Fabr&iacute;zio de Royes Mello,
        Simon Riggs)
       </para>

<!--==========================orignal english content==========================
       <para>
        Delaying replay on standby servers can be useful for recovering
        from user errors.
       </para>
____________________________________________________________________________-->
       <para>
        在备用服务器上延迟重放可以帮助从用户错误中恢复。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add <xref linkend="recovery-target">
        option <option>immediate</option> to stop <link
        linkend="wal"><acronym>WAL</acronym></link> recovery as soon as a
        consistent state is reached (MauMau, Heikki Linnakangas)
       </para>
____________________________________________________________________________-->
       <para>
        添加<xref linkend="recovery-target">选项<option>immediate</>，
        一旦达到一致状态，尽快停止<link linkend="wal"><acronym>WAL</></link>
        恢复 (MauMau, Heikki Linnakangas)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Improve recovery target processing (Heikki Linnakangas)
       </para>
____________________________________________________________________________-->
       <para>
        改善恢复目标处理 (Heikki Linnakangas)
       </para>

<!--==========================orignal english content==========================
       <para>
        The timestamp reported
        by <link linkend="functions-recovery-info-table"><function>pg_last_xact_replay_timestamp()</function></link>
        now reflects already-committed records, not transactions about to
        be committed. Recovering to a restore point now replays the restore
        point, rather than stopping just before the restore point.
       </para>
____________________________________________________________________________-->
       <para>
        <link linkend="functions-recovery-info-table"><function>pg_last_xact_replay_timestamp()</></link>
        报告的时间戳现在反映了早已提交的记录，而不是要提交的事务。
        恢复到一个还原点现在重放了该还原点，而不只是在还原点之前停止。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        <link
        linkend="functions-admin-backup-table"><function>pg_switch_xlog()</function></link>
        now clears any unused trailing space in the old <acronym>WAL</acronym> file
        (Heikki Linnakangas)
       </para>
____________________________________________________________________________-->
       <para>
        <link
        linkend="functions-admin-backup-table"><function>pg_switch_xlog()</></link>
        现在清理老的<acronym>WAL</>文件中任何未使用的尾随空白 (Heikki Linnakangas)
       </para>

<!--==========================orignal english content==========================
       <para>
        This improves the compression ratio for <acronym>WAL</acronym> files.
       </para>
____________________________________________________________________________-->
       <para>
        这提高了<acronym>WAL</>文件的压缩率。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Report failure return codes from <link
        linkend="archive-recovery-settings">external recovery commands</link>
        (Peter Eisentraut)
       </para>
____________________________________________________________________________-->
       <para>
        报告来自<link linkend="archive-recovery-settings">外部恢复命令</>
        的失败返回码 (Peter Eisentraut)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Reduce spinlock contention during <acronym>WAL</acronym> replay (Heikki
        Linnakangas)
       </para>
____________________________________________________________________________-->
       <para>
        减少<acronym>WAL</>重放期间的自旋锁争用 (Heikki Linnakangas)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Write <acronym>WAL</acronym> records of running transactions more
        frequently (Andres Freund)
       </para>
____________________________________________________________________________-->
       <para>
        更频繁的将事务运行写入到<acronym>WAL</>记录中 (Andres Freund)
       </para>

<!--==========================orignal english content==========================
       <para>
        This allows standby servers to start faster and clean up resources
        more aggressively.
       </para>
____________________________________________________________________________-->
       <para>
        这允许备用服务器启动更迅速，并且更强力的清理资源。
       </para>
      </listitem>

     </itemizedlist>

     <sect4>
<!--==========================orignal english content==========================
      <title><link linkend="logicaldecoding">Logical Decoding</link></title>
____________________________________________________________________________-->
      <title><link linkend="logicaldecoding">逻辑解码</></title>

<!--==========================orignal english content==========================
      <para>
       Logical decoding allows database changes to be streamed in a
       configurable format. The data is read from
       the <link linkend="wal"><acronym>WAL</acronym></link> and transformed into the
       desired target format. To implement this feature, the following changes
       were made:
      </para>
____________________________________________________________________________-->
      <para>
       逻辑解码允许数据库以一个可配置的格式改变流。从<link linkend="wal"><acronym>WAL</></link>
       中读取数据，然后转化成需要的目标格式。要实现这个特性，需要做以下改变：
      </para>

      <itemizedlist>

       <listitem>
<!--==========================orignal english content==========================
        <para>
         Add support for <link linkend="logicaldecoding">logical decoding</link>
         of WAL data, to allow database changes to be streamed out in a
         customizable format
         (Andres Freund)
        </para>
____________________________________________________________________________-->
        <para>
         添加对WAL数据的<link linkend="logicaldecoding">逻辑解码</>的支持，
         以允许数据库改变为以一个可自定义的格式流出
         (Andres Freund)
        </para>
       </listitem>

       <listitem>
<!--==========================orignal english content==========================
        <para>
         Add new <xref linkend="guc-wal-level"> setting <option>logical</option>
         to enable logical change-set encoding in <acronym>WAL</acronym> (Andres
         Freund)
        </para>
____________________________________________________________________________-->
        <para>
         添加新的<xref linkend="guc-wal-level">设置<option>logical</>，
         在<acronym>WAL</>中启用逻辑更改集编码 (Andres Freund)
        </para>
       </listitem>

       <listitem>
<!--==========================orignal english content==========================
        <para>
         Add table-level parameter <link
         linkend="catalog-pg-class"><literal>REPLICA IDENTITY</literal></link>
         to control logical replication (Andres Freund)
        </para>
____________________________________________________________________________-->
        <para>
         添加表级参数<link linkend="catalog-pg-class"><literal>REPLICA IDENTITY</></link>，
         控制逻辑复制 (Andres Freund)
        </para>
       </listitem>

       <listitem>
<!--==========================orignal english content==========================
        <para>
         Add relation option <link
         linkend="sql-createtable-storage-parameters"><option>user_catalog_table</option></link>
         to identify user-created tables involved in logical change-set
         encoding (Andres Freund)
        </para>
____________________________________________________________________________-->
        <para>
         添加关系选项<link
         linkend="sql-createtable-storage-parameters"><option>user_catalog_table</></link>，
         辨认包含在逻辑更改集编码中的用户创建的表 (Andres Freund)
        </para>
       </listitem>

       <listitem>
<!--==========================orignal english content==========================
        <para>
         Add <xref linkend="app-pgrecvlogical"> application to receive
         logical-decoding data (Andres Freund)
        </para>
____________________________________________________________________________-->
        <para>
         添加<xref linkend="app-pgrecvlogical">应用以接收逻辑解码数据 (Andres Freund)
        </para>
       </listitem>

       <listitem>
<!--==========================orignal english content==========================
        <para>
         Add <xref linkend="test-decoding"> module to illustrate logical
         decoding at the <acronym>SQL</acronym> level (Andres Freund)
        </para>
____________________________________________________________________________-->
        <para>
         添加<xref linkend="test-decoding">模块，在<acronym>SQL</>
         级别说明逻辑解码 (Andres Freund)
        </para>
       </listitem>

      </itemizedlist>

     </sect4>

   </sect3>

   <sect3>
<!--==========================orignal english content==========================
    <title>Queries</title>
____________________________________________________________________________-->
    <title>查询</title>

     <itemizedlist>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add <link linkend="queries-tablefunctions"><literal>WITH
        ORDINALITY</literal></link> syntax to number the rows returned from a
        set-returning function in the <literal>FROM</literal> clause
        (Andrew Gierth, David Fetter)
       </para>
____________________________________________________________________________-->
       <para>
        添加<link linkend="queries-tablefunctions"><literal>WITH
        ORDINALITY</></link>语言，给从<literal>FROM</>
        子句中的设置返回函数返回的行编号 (Andrew Gierth, David Fetter)
       </para>

<!--==========================orignal english content==========================
       <para>
        This is particularly useful for functions like
        <function>unnest()</function>.
       </para>
____________________________________________________________________________-->
       <para>
        这对于像<function>unnest()</>这样的函数尤其有用。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add <link linkend="queries-tablefunctions"><literal>ROWS
        FROM()</literal></link> syntax to allow horizontal concatenation of
        set-returning functions in the <literal>FROM</literal> clause (Andrew Gierth)
       </para>
____________________________________________________________________________-->
       <para>
        添加<link linkend="queries-tablefunctions"><literal>ROWS
        FROM()</></link>语法，允许<literal>FROM</>子句中的设置返回函数水平串联 (Andrew Gierth)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Allow <xref linkend="sql-select"> to have
        an empty target list (Tom Lane)
       </para>
____________________________________________________________________________-->
       <para>
        允许<xref linkend="sql-select">有一个空的目标列表 (Tom Lane)
       </para>

<!--==========================orignal english content==========================
       <para>
        This was added so that views that select from a table with zero
        columns can be dumped and restored correctly.
       </para>
____________________________________________________________________________-->
       <para>
        添加这个是为了从一个表中选取的零字段视图可以正确的转储和恢复。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Ensure that <link linkend="sql-select"><literal>SELECT ... FOR UPDATE
        NOWAIT</literal></link> does not wait in corner cases involving
        already-concurrently-updated tuples (Craig Ringer and Thomas Munro)
       </para>
____________________________________________________________________________-->
       <para>
        确保<link linkend="sql-select"><literal>SELECT ... FOR UPDATE
        NOWAIT</></link>在极端情况下不会等待，包括早已并发更新元组的情况
        (Craig Ringer and Thomas Munro)
       </para>
      </listitem>

     </itemizedlist>

   </sect3>

   <sect3>
<!--==========================orignal english content==========================
    <title>Utility Commands</title>
____________________________________________________________________________-->
    <title>实用命令</title>

     <itemizedlist>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add <link linkend="sql-discard"><command>DISCARD
        SEQUENCES</command></link> command to discard cached sequence-related state
        (Fabr&iacute;zio de Royes Mello, Robert Haas)
       </para>
____________________________________________________________________________-->
       <para>
        添加<link linkend="sql-discard"><command>DISCARD
        SEQUENCES</></link>命令，抛弃缓存的序列相关的状态
        (Fabr&iacute;zio de Royes Mello, Robert Haas)
       </para>

<!--==========================orignal english content==========================
       <para>
        <command>DISCARD ALL</command> will now also discard such information.
       </para>
____________________________________________________________________________-->
       <para>
        <command>DISCARD ALL</>现在也抛弃这样的信息。
       </para>
      </listitem>

       <listitem>
<!--==========================orignal english content==========================
        <para>
         Add <literal>FORCE NULL</literal> option
         to <link linkend="sql-copy"><command>COPY FROM</command></link>, which
         causes quoted strings matching the specified null string to be
         converted to NULLs in <literal>CSV</literal> mode (Ian Barwick, Michael
         Paquier)
        </para>
____________________________________________________________________________-->
        <para>
         添加<literal>FORCE NULL</>选项到<link linkend="sql-copy"><command>COPY FROM</></link>，
         使匹配指定空字符串的引用字符串在<literal>CSV</>模式下转换为NULL
         (Ian Barwick, Michael Paquier)
        </para>

<!--==========================orignal english content==========================
        <para>
         Without this option, only unquoted matching strings will be imported
         as null values.
        </para>
____________________________________________________________________________-->
        <para>
         没有这个选项，只有未引用的匹配字符串将被作为空值引入。
        </para>
       </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Issue warnings for commands used outside of transaction blocks
        when they can have no effect (Bruce Momjian)
       </para>
____________________________________________________________________________-->
       <para>
        当命令在事务块外部使用时，发出警告，虽然它们没什么影响 (Bruce Momjian)
       </para>

<!--==========================orignal english content==========================
       <para>
        New warnings are issued for <command>SET
        LOCAL</command>, <command>SET CONSTRAINTS</command>, <command>SET TRANSACTION</command> and
        <command>ABORT</command> when used outside a transaction block.
       </para>
____________________________________________________________________________-->
       <para>
        新增的警告为<command>SET LOCAL</>、<command>SET CONSTRAINTS</>、
        <command>SET TRANSACTION</>和<command>ABORT</>命令在事务块外部使用时发出。
       </para>
      </listitem>

     </itemizedlist>

     <sect4>
<!--==========================orignal english content==========================
      <title><xref linkend="sql-explain"></title>
____________________________________________________________________________-->
      <title><xref linkend="sql-explain"></title>

      <itemizedlist>

       <listitem>
<!--==========================orignal english content==========================
        <para>
         Make <command>EXPLAIN ANALYZE</command> show planning time (Andreas
         Karlsson)
        </para>
____________________________________________________________________________-->
        <para>
         让<command>EXPLAIN ANALYZE</>显示规划时间 (Andreas Karlsson)
        </para>
       </listitem>

       <listitem>
<!--==========================orignal english content==========================
        <para>
         Make <command>EXPLAIN</command> show the grouping columns in Agg and
         Group nodes (Tom Lane)
        </para>
____________________________________________________________________________-->
        <para>
         让<command>EXPLAIN</>在Agg和组节点显示组字段 (Tom Lane)
        </para>
       </listitem>

       <listitem>
<!--==========================orignal english content==========================
        <para>
         Make <command>EXPLAIN ANALYZE</command> show exact and lossy
         block counts in bitmap heap scans (Etsuro Fujita)
        </para>
____________________________________________________________________________-->
        <para>
         让<command>EXPLAIN ANALYZE</>显示包含在位图堆扫描中的准确和失真块计数 (Etsuro Fujita)
        </para>
       </listitem>

      </itemizedlist>

     </sect4>

     <sect4>
<!--==========================orignal english content==========================
      <title>Views</title>
____________________________________________________________________________-->
      <title>视图</title>

      <itemizedlist>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Allow a <link linkend="rules-materializedviews">materialized view</link>
        to be refreshed without blocking other sessions from reading the view
        meanwhile (Kevin Grittner)
       </para>
____________________________________________________________________________-->
       <para>
        允许<link linkend="rules-materializedviews">物化视图</>
        在不阻塞其他会话读取视图的同时刷新 (Kevin Grittner)
       </para>

<!--==========================orignal english content==========================
       <para>
        This is done with <link
        linkend="sql-refreshmaterializedview"><command>REFRESH MATERIALIZED
        VIEW CONCURRENTLY</command></link>.
       </para>
____________________________________________________________________________-->
       <para>
        这是通过<link
        linkend="sql-refreshmaterializedview"><command>REFRESH MATERIALIZED
        VIEW CONCURRENTLY</></link>实现的。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Allow views to be <link
        linkend="sql-createview-updatable-views">automatically
        updated</link> even if they contain some non-updatable columns
        (Dean Rasheed)
       </para>
____________________________________________________________________________-->
       <para>
        允许视图<link
        linkend="sql-createview-updatable-views">自动更新</link>，
        即使它们包含一些非自动更新的字段 (Dean Rasheed)
       </para>

<!--==========================orignal english content==========================
       <para>
        Previously the presence of non-updatable output columns such as
        expressions, literals, and function calls prevented automatic
        updates.  Now <command>INSERT</command>s, <command>UPDATE</command>s and
        <command>DELETE</command>s are supported, provided that they do not
        attempt to assign new values to any of the non-updatable columns.
       </para>
____________________________________________________________________________-->
       <para>
        以前不可自动更新输出字段，比如表达式、常量和函数调用，的存在阻止了自动更新。
        现在支持<command>INSERT</>、<command>UPDATE</>和<command>DELETE</>了，
        假设它们不尝试分配新的值给任何不可自动更新的字段。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Allow control over whether <command>INSERT</command>s and
        <command>UPDATE</command>s can add rows to an auto-updatable view that
        would not appear in the view (Dean Rasheed)
       </para>
____________________________________________________________________________-->
       <para>
        允许控制<command>INSERT</>和<command>UPDATE</>
        是否可以添加行到可自动更新的视图而不会出现在该视图中 (Dean Rasheed)
       </para>

<!--==========================orignal english content==========================
       <para>
        This is controlled with the new <xref linkend="sql-createview">
        clause <literal>WITH CHECK OPTION</literal>.
       </para>
____________________________________________________________________________-->
       <para>
        这是用新的<xref linkend="sql-createview">子句<literal>WITH CHECK OPTION</>
        控制的。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Allow <link linkend="rules-privileges">security barrier views</link>
        to be automatically updatable (Dean Rasheed)
       </para>
____________________________________________________________________________-->
       <para>
        允许<link linkend="rules-privileges">安全屏障视图</>自动可更新 (Dean Rasheed)
       </para>
      </listitem>

      </itemizedlist>

     </sect4>

   </sect3>

   <sect3>
<!--==========================orignal english content==========================
    <title>Object Manipulation</title>
____________________________________________________________________________-->
    <title>对象操作</title>

     <itemizedlist>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Support triggers on <link linkend="sql-createforeigntable">foreign
        tables</link> (Ronan Dunklau)
       </para>
____________________________________________________________________________-->
       <para>
        支持<link linkend="sql-createforeigntable">外部表</>上的触发器 (Ronan Dunklau)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Allow moving groups of objects from one tablespace to another
        using the <literal>ALL IN TABLESPACE ... SET TABLESPACE</literal> form of
        <xref linkend="sql-altertable">, <xref linkend="sql-alterindex">, or
        <xref linkend="sql-altermaterializedview"> (Stephen Frost)
       </para>
____________________________________________________________________________-->
       <para>
        允许移动对象的组从一个表空间到另一个表空间中，
        使用<literal>ALL IN TABLESPACE ... SET TABLESPACE</>的
        <xref linkend="sql-altertable">, <xref linkend="sql-alterindex">或
        <xref linkend="sql-altermaterializedview">格式 (Stephen Frost)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Allow changing foreign key constraint deferrability
        via <xref linkend="sql-altertable"> ... <literal>ALTER
        CONSTRAINT</literal> (Simon Riggs)
       </para>
____________________________________________________________________________-->
       <para>
        允许通过<xref linkend="sql-altertable"> ... <literal>ALTER
        CONSTRAINT</>修改外键约束为可延迟的 (Simon Riggs)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Reduce lock strength for some <xref linkend="sql-altertable">
        commands
        (Simon Riggs, Noah Misch, Robert Haas)
       </para>
____________________________________________________________________________-->
       <para>
        为某些<xref linkend="sql-altertable">命令降低锁定力度
        (Simon Riggs, Noah Misch, Robert Haas)
       </para>

<!--==========================orignal english content==========================
       <para>
        Specifically, <literal>VALIDATE CONSTRAINT</literal>, <literal>CLUSTER
        ON</literal>, <literal>SET WITHOUT CLUSTER</literal>, <literal>ALTER COLUMN
        SET STATISTICS</literal>, <literal>ALTER COLUMN</literal> <literal>SET</literal>
        <option>(attribute_option)</option>, <literal>ALTER COLUMN RESET</literal>
        <option>(attribute_option)</option> no longer require <literal>ACCESS
        EXCLUSIVE</literal> locks.
       </para>
____________________________________________________________________________-->
       <para>
        特别的，<literal>VALIDATE CONSTRAINT</>、<literal>CLUSTER
        ON</>、<literal>SET WITHOUT CLUSTER</>、<literal>ALTER COLUMN
        SET STATISTICS</>、<literal>ALTER COLUMN</> <literal>SET</>
        <option>(attribute_option)</>、<literal>ALTER COLUMN RESET</>
        <option>(attribute_option)</>不再需要<literal>ACCESS
        EXCLUSIVE</>锁。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Allow tablespace options to be set
        in <xref linkend="sql-createtablespace"> (Vik Fearing)
       </para>
____________________________________________________________________________-->
       <para>
        允许表空间选项在<xref linkend="sql-createtablespace">中设置 (Vik Fearing)
       </para>

<!--==========================orignal english content==========================
       <para>
        Formerly these options could only be set
        via <xref linkend="sql-altertablespace">.
       </para>
____________________________________________________________________________-->
       <para>
        以前这些选项只能通过<xref linkend="sql-altertablespace">设置。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Allow <xref linkend="sql-createaggregate"> to define the estimated
        size of the aggregate's transition state data (Hadi Moshayedi)
       </para>
____________________________________________________________________________-->
       <para>
        允许<xref linkend="sql-createaggregate">定义聚合的过渡状态数据的估计大小 (Hadi Moshayedi)
       </para>

<!--==========================orignal english content==========================
       <para>
        Proper use of this feature allows the planner to better estimate
        how much memory will be used by aggregates.
       </para>
____________________________________________________________________________-->
       <para>
        正确的使用这个特性允许规划器更好的估计聚合将使用多少内存。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Fix <command>DROP IF EXISTS</command> to avoid errors for non-existent
        objects in more cases (Pavel Stehule, Dean Rasheed)
       </para>
____________________________________________________________________________-->
       <para>
        修复<command>DROP IF EXISTS</>，避免大多数情况下对象不存在的错误
        (Pavel Stehule, Dean Rasheed)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Improve how system relations are identified (Andres Freund,
        Robert Haas)
       </para>
____________________________________________________________________________-->
       <para>
        改善系统关系的标识 (Andres Freund, Robert Haas)
       </para>

<!--==========================orignal english content==========================
       <para>
        Previously, relations once moved into the <literal>pg_catalog</literal>
        schema could no longer be modified or dropped.
       </para>
____________________________________________________________________________-->
       <para>
        以前，关系一旦移动到<literal>pg_catalog</>模式中，就不能被修改或删除了。
       </para>
      </listitem>

     </itemizedlist>

   </sect3>

   <sect3>
<!--==========================orignal english content==========================
    <title>Data Types</title>
____________________________________________________________________________-->
    <title>数据类型</title>

    <itemizedlist>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Fully implement the <link
        linkend="datatype-line"><type>line</type></link> data type (Peter
        Eisentraut)
       </para>
____________________________________________________________________________-->
       <para>
        完全实现<link linkend="datatype-line"><type>line</></link>数据类型 (Peter Eisentraut)
       </para>

<!--==========================orignal english content==========================
       <para>
        The line <emphasis>segment</emphasis> data type (<link
        linkend="datatype-lseg"><type>lseg</type></link>) has always been
        fully supported.  The previous <type>line</type> data type (which was
        enabled only via a compile-time option) is not binary or
        dump-compatible with the new implementation.
       </para>
____________________________________________________________________________-->
       <para>
        线<emphasis>段</>数据类型(<link linkend="datatype-lseg"><type>lseg</></link>)
        总是完全支持的。以前的<type>line</>数据类型（只通过编译时选项启用）
        不是二进制的或者与新的实现转储兼容。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add <link linkend="datatype-pg-lsn"><type>pg_lsn</type></link>
        data type to represent a <acronym>WAL</acronym> log sequence number
        (<acronym>LSN</acronym>) (Robert Haas, Michael Paquier)
       </para>
____________________________________________________________________________-->
       <para>
        添加<link linkend="datatype-pg-lsn"><type>pg_lsn</></link>
        数据类型代表<acronym>WAL</>日志序列号
        (<acronym>LSN</>) (Robert Haas, Michael Paquier)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Allow single-point <link
        linkend="datatype-polygon"><type>polygon</type></link>s to be converted
        to <link linkend="datatype-circle"><type>circle</type></link>s
        (Bruce Momjian)
       </para>
____________________________________________________________________________-->
       <para>
        允许单点<link linkend="datatype-polygon"><type>polygon</></link>
        被转换为<link linkend="datatype-circle"><type>circle</></link>
        (Bruce Momjian)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Support time zone abbreviations that change UTC offset from time to
        time (Tom Lane)
       </para>
____________________________________________________________________________-->
       <para>
        支持时区缩写修改UTC的偏移时间 (Tom Lane)
       </para>

<!--==========================orignal english content==========================
       <para>
        Previously, <productname>PostgreSQL</productname> assumed that the UTC offset
        associated with a time zone abbreviation (such as <literal>EST</literal>)
        never changes in the usage of any particular locale.  However this
        assumption fails in the real world, so introduce the ability for a
        zone abbreviation to represent a UTC offset that sometimes changes.
        Update the zone abbreviation definition files to make use of this
        feature in timezone locales that have changed the UTC offset of their
        abbreviations since 1970 (according to the IANA timezone database).
        In such timezones, <productname>PostgreSQL</productname> will now associate the
        correct UTC offset with the abbreviation depending on the given date.
       </para>
____________________________________________________________________________-->
       <para>
        以前，<productname>PostgreSQL</>假设与时区缩写（比如<literal>EST</>）
        有关的UTC偏移在任何特殊环境的使用中都不会改变。然而，
        这个假设在现实环境中失败了，所以引入了时区缩写代表有时变化的UTC偏移的能力。
        更新时区缩写定义文件，在自1970年（根据IANA时区数据库）
        以来修改了UTC偏移的缩写时区环境中使用这个特性。在这样的时区中，
        <productname>PostgreSQL</>现在将根据给定的日期，关联正确的UTC偏移和缩写。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Allow 5+ digit years for non-<acronym>ISO</acronym> <link
        linkend="datatype-datetime"><type>timestamp</type></link> and
        <type>date</type> strings, where appropriate (Bruce Momjian)
       </para>
____________________________________________________________________________-->
       <para>
        在合适时，允许非<acronym>ISO</> <link
        linkend="datatype-datetime"><type>timestamp</></link>
        和<type>date</>字符串有5位数字以上的年 (Bruce Momjian)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add checks for overflow/underflow of <link
        linkend="datatype-datetime"><type>interval</type></link> values
        (Bruce Momjian)
       </para>
____________________________________________________________________________-->
       <para>
        添加对<link linkend="datatype-datetime"><type>interval</></link>
        值的上溢/下溢检查 (Bruce Momjian)
       </para>
      </listitem>

    </itemizedlist>

    <sect4>
<!--==========================orignal english content==========================
     <title><link linkend="datatype-json"><acronym>JSON</acronym></link></title>
____________________________________________________________________________-->
     <title><link linkend="datatype-json"><acronym>JSON</></link></title>

     <itemizedlist>

       <listitem>
<!--==========================orignal english content==========================
        <para>
         Add <link linkend="datatype-json"><type>jsonb</type></link>, a more
         capable and efficient data type for storing <acronym>JSON</acronym> data
         (Oleg Bartunov, Teodor Sigaev, Alexander
         Korotkov, Peter Geoghegan, Andrew Dunstan)
        </para>
____________________________________________________________________________-->
        <para>
         添加<link linkend="datatype-json"><type>jsonb</></link>，
         一个存储<acronym>JSON</>数据更加胜任和有效的数据类型
         (Oleg Bartunov, Teodor Sigaev, Alexander
         Korotkov, Peter Geoghegan, Andrew Dunstan)
        </para>

<!--==========================orignal english content==========================
        <para>
         This new type allows faster access to values within a JSON
         document, and faster and more useful indexing of JSON columns.
         Scalar values in <type>jsonb</type> documents are stored as appropriate
         scalar SQL types, and the JSON document structure is pre-parsed
         rather than being stored as text as in the original <type>json</type>
         data type.
        </para>
____________________________________________________________________________-->
        <para>
         这个新的类型允许更快的访问JSON文档中的值，更快、更有用的索引JSON列。
         <type>jsonb</>文档中的标量值是以适当的标量SQL类型存储的，
         并且JSON文档结构是预解析的，而不是和原始<type>json</>
         数据类型中的文本一样存储。
        </para>
       </listitem>

       <listitem>
<!--==========================orignal english content==========================
        <para>
         Add new JSON functions to allow for the construction
         of arbitrarily complex JSON trees (Andrew Dunstan, Laurence Rowe)
        </para>
____________________________________________________________________________-->
        <para>
         添加新的JSON函数，允许构造任意复杂的JSON树 (Andrew Dunstan, Laurence Rowe)
        </para>

<!--==========================orignal english content==========================
        <para>
         New functions include <link
         linkend="functions-json-processing-table"><function>json_array_elements_text()</function></link>,
         <function>json_build_array()</function>, <function>json_object()</function>,
         <function>json_object_agg()</function>, <function>json_to_record()</function>,
         and <function>json_to_recordset()</function>.
        </para>
____________________________________________________________________________-->
        <para>
         新增的函数包括<link
         linkend="functions-json-processing-table"><function>json_array_elements_text()</></link>、
         <function>json_build_array()</>、<function>json_object()</>、
         <function>json_object_agg()</>、<function>json_to_record()</>、
         和<function>json_to_recordset()</>。
        </para>
       </listitem>

       <listitem>
<!--==========================orignal english content==========================
        <para>
         Add <link
         linkend="functions-json-processing-table"><function>json_typeof()</function></link>
         to return the data type of a <type>json</type> value (Andrew Tipton)
        </para>
____________________________________________________________________________-->
        <para>
         添加<link
         linkend="functions-json-processing-table"><function>json_typeof()</></link>，
         返回一个<type>json</>值的数据类型 (Andrew Tipton)
        </para>
       </listitem>

     </itemizedlist>

    </sect4>

   </sect3>

   <sect3>
<!--==========================orignal english content==========================
    <title>Functions</title>
____________________________________________________________________________-->
    <title>函数</title>

     <itemizedlist>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add <link
        linkend="functions-datetime-delay"><function>pg_sleep_for(interval)</function></link>
        and <function>pg_sleep_until(timestamp)</function> to specify
        delays more flexibly (Vik Fearing, Julien Rouhaud)
       </para>
____________________________________________________________________________-->
       <para>
        添加<link
        linkend="functions-datetime-delay"><function>pg_sleep_for(interval)</></link>
        和<function>pg_sleep_until(timestamp)</>，更灵活的指定延迟 (Vik Fearing, Julien Rouhaud)
       </para>

<!--==========================orignal english content==========================
       <para>
        The existing <function>pg_sleep()</function> function only supports delays
        specified in seconds.
       </para>
____________________________________________________________________________-->
       <para>
        现有的<function>pg_sleep()</>函数只支持以秒为单位指定延迟。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add <link
        linkend="array-functions-table"><function>cardinality()</function></link>
        function for arrays (Marko Tiikkaja)
       </para>
____________________________________________________________________________-->
       <para>
        为数组添加<link
        linkend="array-functions-table"><function>cardinality()</></link>
        函数 (Marko Tiikkaja)
       </para>

<!--==========================orignal english content==========================
       <para>
        This returns the total number of elements in the array, or zero
        for an array with no elements.
       </para>
____________________________________________________________________________-->
       <para>
        这返回数组中的元素总数量，或者是0（没有元素的数组）。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add <acronym>SQL</acronym> functions to allow <link linkend="lo-funcs">large
        object reads/writes</link> at arbitrary offsets (Pavel Stehule)
       </para>
____________________________________________________________________________-->
       <para>
        添加<acronym>SQL</>函数，允许以任意的偏移量
        <link linkend="lo-funcs">大对象读/写</link> (Pavel Stehule)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Allow <link
        linkend="array-functions-table"><function>unnest()</function></link>
        to take multiple arguments, which are individually unnested then
        horizontally concatenated (Andrew Gierth)
       </para>
____________________________________________________________________________-->
       <para>
        允许<link
        linkend="array-functions-table"><function>unnest()</></link>
        接受多个参数，相互间未嵌套水平串联 (Andrew Gierth)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add functions to construct <type>time</type>s, <type>date</type>s,
        <type>timestamp</type>s, <type>timestamptz</type>s, and <type>interval</type>s
        from individual values, rather than strings (Pavel Stehule)
       </para>
____________________________________________________________________________-->
       <para>
        添加函数，为单个的值而不是字符串构造<type>time</>、<type>date</>、
        <type>timestamp</>、<type>timestamptz</>和<type>interval</> (Pavel Stehule)
       </para>

<!--==========================orignal english content==========================
       <para>
        These functions' names are prefixed with <literal>make_</literal>,
        e.g. <link linkend="functions-datetime-table"><function>make_date()</function></link>.
       </para>
____________________________________________________________________________-->
       <para>
        函数的名字是以<literal>make_</>为前缀的，
        比如<link linkend="functions-datetime-table"><function>make_date()</></link>。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Make <link
        linkend="functions-formatting-table"><function>to_char()</function></link>'s
        <literal>TZ</literal> format specifier return a useful value for simple
        numeric time zone offsets (Tom Lane)
       </para>
____________________________________________________________________________-->
       <para>
        让<link
        linkend="functions-formatting-table"><function>to_char()</></link>
        的<literal>TZ</>格式说明符为简单的数值时区偏移量返回一个有用的值 (Tom Lane)
       </para>

<!--==========================orignal english content==========================
       <para>
        Previously, <literal>to_char(CURRENT_TIMESTAMP, 'TZ')</literal> returned
        an empty string if the <literal>timezone</literal> was set to a constant
        like <literal>-4</literal>.
       </para>
____________________________________________________________________________-->
       <para>
        以前，如果<literal>timezone</>设置为一个常量，比如<literal>-4</>，
        <literal>to_char(CURRENT_TIMESTAMP, 'TZ')</>返回一个空字符串。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add timezone offset format specifier <literal>OF</literal> to <link
        linkend="functions-formatting-table"><function>to_char()</function></link>
        (Bruce Momjian)
       </para>
____________________________________________________________________________-->
       <para>
        添加时区偏移格式说明符<literal>OF</>到<link
        linkend="functions-formatting-table"><function>to_char()</></link>
        (Bruce Momjian)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Improve the random seed used for <link
        linkend="functions-math-random-table"><function>random()</function></link>
        (Honza Horak)
       </para>
____________________________________________________________________________-->
       <para>
        改善<link
        linkend="functions-math-random-table"><function>random()</></link>
        使用的随机种子 (Honza Horak)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Tighten validity checking for Unicode code points in <link
        linkend="functions-string-other"><function>chr(int)</function></link>
        (Tom Lane)
       </para>
____________________________________________________________________________-->
       <para>
        加强对<link
        linkend="functions-string-other"><function>chr(int)</></link>
        中指出的Unicode代码的有效性检查 (Tom Lane)
       </para>

<!--==========================orignal english content==========================
       <para>
        This function now only accepts values that are valid UTF8 characters
        according to RFC 3629.
       </para>
____________________________________________________________________________-->
       <para>
        这个函数现在只接受根据RFC 3629来说有效的UTF8字符值。
       </para>
      </listitem>

     </itemizedlist>

    <sect4>
<!--==========================orignal english content==========================
     <title>System Information Functions</title>
____________________________________________________________________________-->
     <title>系统信息函数</title>

     <itemizedlist>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add functions for looking up objects in <structname>pg_class</structname>,
        <structname>pg_proc</structname>, <structname>pg_type</structname>, and
        <structname>pg_operator</structname> that do not generate errors for
        non-existent objects (Yugo Nagata, Nozomi Anzai,
        Robert Haas)
       </para>
____________________________________________________________________________-->
       <para>
        添加函数，在<structname>pg_class</>、<structname>pg_proc</>、
        <structname>pg_type</>和<structname>pg_operator</>中查找对象，
        对于不存在的对象不会生成错误 (Yugo Nagata, Nozomi Anzai,
        Robert Haas)
       </para>

<!--==========================orignal english content==========================
       <para>
        For example, <link
        linkend="functions-info-catalog-table"><function>to_regclass()</function></link>
        does a lookup in <structname>pg_class</structname> similarly to
        the <type>regclass</type> input function, but it returns NULL for a
        non-existent object instead of failing.
       </para>
____________________________________________________________________________-->
       <para>
        例如，<link
        linkend="functions-info-catalog-table"><function>to_regclass()</></link>
        在<structname>pg_class</>中执行查找类似于<type>regclass</>输入函数，
        但是它在遇到不存在的对象时返回NULL而不是失败。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add function <link
        linkend="functions-admin-dblocation"><function>pg_filenode_relation()</function></link>
        to allow for more efficient lookup of relation names from filenodes
        (Andres Freund)
       </para>
____________________________________________________________________________-->
       <para>
        添加函数<link
        linkend="functions-admin-dblocation"><function>pg_filenode_relation()</></link>，
        允许从文件节点中更有效的查找关系名 (Andres Freund)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add <structfield>parameter_default</structfield> column to <link
        linkend="infoschema-parameters"><structname>information_schema.parameters</structname></link>
        view (Peter Eisentraut)
       </para>
____________________________________________________________________________-->
       <para>
        添加<structfield>parameter_default</>字段到<link
        linkend="infoschema-parameters"><structname>information_schema.parameters</></link>
        视图 (Peter Eisentraut)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Make <link
        linkend="infoschema-schemata"><structname>information_schema.schemata</structname></link>
        show all accessible schemas (Peter Eisentraut)
       </para>
____________________________________________________________________________-->
       <para>
        让<link
        linkend="infoschema-schemata"><structname>information_schema.schemata</></link>
        显示所有可访问的模式 (Peter Eisentraut)
       </para>

<!--==========================orignal english content==========================
       <para>
        Previously it only showed schemas owned by the current user.
       </para>
____________________________________________________________________________-->
       <para>
        以前只显示当前用户拥有的模式。
       </para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
<!--==========================orignal english content==========================
     <title>Aggregates</title>
____________________________________________________________________________-->
     <title>聚合</title>

     <itemizedlist>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add control over which rows are passed
        into aggregate functions via the <link
        linkend="syntax-aggregates"><literal>FILTER</literal></link> clause
        (David Fetter)
       </para>
____________________________________________________________________________-->
       <para>
        通过<link linkend="syntax-aggregates"><literal>FILTER</></link>
        子句添加哪些行被传递到聚合函数的控制 (David Fetter)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Support ordered-set (<link
        linkend="syntax-aggregates"><literal>WITHIN GROUP</literal></link>)
        aggregates (Atri Sharma, Andrew Gierth, Tom Lane)
       </para>
____________________________________________________________________________-->
       <para>
        支持顺序集(<link
        linkend="syntax-aggregates"><literal>WITHIN GROUP</></link>)
        聚合 (Atri Sharma, Andrew Gierth, Tom Lane)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add standard ordered-set aggregates <link
        linkend="functions-orderedset-table"><function>percentile_cont()</function></link>,
        <function>percentile_disc()</function>, <function>mode()</function>, <link
        linkend="functions-hypothetical-table"><function>rank()</function></link>,
        <function>dense_rank()</function>, <function>percent_rank()</function>, and
        <function>cume_dist()</function>
        (Atri Sharma, Andrew Gierth)
       </para>
____________________________________________________________________________-->
       <para>
        添加标准顺序集聚合<link
        linkend="functions-orderedset-table"><function>percentile_cont()</></link>、
        <function>percentile_disc()</>、<function>mode()</>、<link
        linkend="functions-hypothetical-table"><function>rank()</></link>、
        <function>dense_rank()</>、<function>percent_rank()</>和
        <function>cume_dist()</>
        (Atri Sharma, Andrew Gierth)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Support <link
        linkend="xfunc-sql-variadic-functions"><literal>VARIADIC</literal></link>
        aggregate functions (Tom Lane)
       </para>
____________________________________________________________________________-->
       <para>
        支持<link
        linkend="xfunc-sql-variadic-functions"><literal>VARIADIC</></link>
        聚合函数 (Tom Lane)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Allow polymorphic aggregates to have non-polymorphic state data
        types (Tom Lane)
       </para>
____________________________________________________________________________-->
       <para>
        允许多态的聚合拥有非多态的状态数据类型 (Tom Lane)
       </para>
<!--==========================orignal english content==========================
       <para>
        This allows proper declaration in SQL of aggregates like the built-in
        aggregate <function>array_agg()</function>.
       </para>
____________________________________________________________________________-->
       <para>
        这允许SQL中聚合的适当声明像内建聚合<function>array_agg()</>。
       </para>
      </listitem>

     </itemizedlist>

    </sect4>

   </sect3>

   <sect3>
<!--==========================orignal english content==========================
    <title>Server-Side Languages</title>
____________________________________________________________________________-->
    <title>服务器端的语言</title>

    <itemizedlist>

     <listitem>
<!--==========================orignal english content==========================
      <para>
       Add event trigger support to <link linkend="plperl">PL/Perl</link>
       and <link linkend="pltcl">PL/Tcl</link> (Dimitri Fontaine)
      </para>
____________________________________________________________________________-->
      <para>
       添加事件触发器支持到<link linkend="plperl">PL/Perl</>
       和<link linkend="pltcl">PL/Tcl</> (Dimitri Fontaine)
      </para>
     </listitem>

     <listitem>
<!--==========================orignal english content==========================
      <para>
       Convert <link linkend="datatype-numeric"><type>numeric</type></link>
       values to <type>decimal</type> in <link linkend="plpython">PL/Python</link>
       (Szymon Guz, Ronan Dunklau)
      </para>
____________________________________________________________________________-->
      <para>
       在<link linkend="plpython">PL/Python</link>中转换
       <link linkend="datatype-numeric"><type>numeric</></link>
       值到<type>decimal</> (Szymon Guz, Ronan Dunklau)
      </para>

<!--==========================orignal english content==========================
      <para>
       Previously such values were converted to Python <type>float</type> values,
       risking loss of precision.
      </para>
____________________________________________________________________________-->
      <para>
       以前这样的值被转换成Python <type>float</>值，有丢失精度的风险。
      </para>
     </listitem>

    </itemizedlist>

    <sect4>
<!--==========================orignal english content==========================
     <title><link linkend="plpgsql">PL/pgSQL</link> Server-Side Language</title>
____________________________________________________________________________-->
     <title><link linkend="plpgsql">PL/pgSQL</link>服务器端的语言</title>

     <itemizedlist>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add ability to retrieve the current PL/pgSQL call stack
        using <link linkend="plpgsql-call-stack"><command>GET
        DIAGNOSTICS</command></link>
        (Pavel Stehule, Stephen Frost)
       </para>
____________________________________________________________________________-->
       <para>
        使用<link linkend="plpgsql-call-stack"><command>GET
        DIAGNOSTICS</></link>添加检索当前PL/pgSQL调用堆栈的能力
        (Pavel Stehule, Stephen Frost)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add option <link
        linkend="plpgsql-statements-sql-onerow"><option>print_strict_params</option></link>
        to display the parameters passed to a query that violated a
        <literal>STRICT</literal> constraint (Marko Tiikkaja)
       </para>
____________________________________________________________________________-->
       <para>
        添加选项<link
        linkend="plpgsql-statements-sql-onerow"><option>print_strict_params</></link>，
        显示传递到违反<literal>STRICT</>约束的查询中的参数 (Marko Tiikkaja)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add variables <link
        linkend="plpgsql-extra-checks"><varname>plpgsql.extra_warnings</varname></link>
        and <varname>plpgsql.extra_errors</varname> to enable additional PL/pgSQL
        warnings and errors (Marko Tiikkaja, Petr Jelinek)
       </para>
____________________________________________________________________________-->
       <para>
        添加变量<link
        linkend="plpgsql-extra-checks"><varname>plpgsql.extra_warnings</></link>
        和<varname>plpgsql.extra_errors</>，启用额外的PL/pgSQL警告和错误
        (Marko Tiikkaja, Petr Jelinek)
       </para>

<!--==========================orignal english content==========================
       <para>
        Currently only warnings/errors about shadowed variables are available.
       </para>
____________________________________________________________________________-->
       <para>
        当前只有关于跟踪变量的警告/错误可用。
       </para>
      </listitem>

    </itemizedlist>

    </sect4>

   </sect3>

   <sect3>
<!--==========================orignal english content==========================
    <title><link linkend="libpq"><application>libpq</application></link></title>
____________________________________________________________________________-->
    <title><link linkend="libpq"><application>libpq</></link></title>
     <itemizedlist>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Make libpq's <link
        linkend="libpq-pqconndefaults"><function>PQconndefaults()</function></link>
        function ignore invalid service files (Steve Singer, Bruce Momjian)
       </para>
____________________________________________________________________________-->
       <para>
        让libpq's <link
        linkend="libpq-pqconndefaults"><function>PQconndefaults()</></link>
        函数忽略无效的服务文件 (Steve Singer, Bruce Momjian)
       </para>

<!--==========================orignal english content==========================
       <para>
        Previously it returned NULL if an incorrect service file was
        encountered.
       </para>
____________________________________________________________________________-->
       <para>
        以前，如果遇到一个不正确的服务文件，它会返回NULL。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Accept <acronym>TLS</acronym> protocol versions beyond <literal>TLSv1</literal>
        in libpq (Marko Kreen)
       </para>
____________________________________________________________________________-->
       <para>
        接受超过libpq中<literal>TLSv1</>的<acronym>TLS</>协议版本 (Marko Kreen)
       </para>
      </listitem>

     </itemizedlist>

   </sect3>

   <sect3>
<!--==========================orignal english content==========================
    <title>Client Applications</title>
____________________________________________________________________________-->
    <title>客户端应用</title>

    <itemizedlist>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add <xref linkend="app-createuser"> option <option>-g</option>
        to specify role membership (Christopher Browne)
       </para>
____________________________________________________________________________-->
       <para>
        添加<xref linkend="app-createuser">选项<option>-g</>
        指定角色成员关系 (Christopher Browne)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add <xref linkend="app-vacuumdb">
        option <option>-&minus;analyze-in-stages</option> to analyze in stages of
        increasing granularity (Peter Eisentraut)
       </para>
____________________________________________________________________________-->
       <para>
        添加<xref linkend="app-vacuumdb">
        选项<option>--analyze-in-stages</>，在增加粒度阶段分析 (Peter Eisentraut)
       </para>

<!--==========================orignal english content==========================
       <para>
        This allows minimal statistics to be created quickly.
       </para>
____________________________________________________________________________-->
       <para>
        这允许快速建立最小的统计。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Make <link linkend="app-pgresetwal"><application>pg_resetxlog</application></link>
        with option <option>-n</option> output current and potentially changed
        values (Rajeev Rastogi)
       </para>
____________________________________________________________________________-->
       <para>
        让<link linkend="app-pgresetwal"><application>pg_resetxlog</application></link>带有选项<option>-n</>
        输出当前和潜在修改了的值 (Rajeev Rastogi)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Make <xref linkend="app-initdb"> throw error for incorrect locale
        settings, rather than silently falling back to a default choice
        (Tom Lane)
       </para>
____________________________________________________________________________-->
       <para>
        让<xref linkend="app-initdb">为不正确的区域设置抛出错误，
        而不是安静的回滚到缺省的选择 (Tom Lane)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Make <xref linkend="app-pg-ctl"> return exit code <literal>4</literal> for
        an inaccessible data directory (Amit Kapila, Bruce Momjian)
       </para>
____________________________________________________________________________-->
       <para>
        让<xref linkend="app-pg-ctl">为一个不可访问的数据目录返回退出代码<literal>4</>
        (Amit Kapila, Bruce Momjian)
       </para>

<!--==========================orignal english content==========================
       <para>
        This behavior more closely matches the Linux Standard Base
        (<acronym>LSB</acronym>) Core Specification.
       </para>
____________________________________________________________________________-->
       <para>
        这个行为更紧密的匹配Linux Standard Base(<acronym>LSB</>)核心规范。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        On Windows, ensure that a non-absolute <option>-D</option> path
        specification is interpreted relative
        to <xref linkend="app-pg-ctl">'s current directory
        (Kumar Rajeev Rastogi)
       </para>
____________________________________________________________________________-->
       <para>
        在Windows上，确保非绝对的<option>-D</>路径声明被解释为相对的
        <xref linkend="app-pg-ctl">的当前路径 (Kumar Rajeev Rastogi)
       </para>

<!--==========================orignal english content==========================
       <para>
        Previously it would be interpreted relative to whichever directory
        the underlying Windows service was started in.
       </para>
____________________________________________________________________________-->
       <para>
        以前它将被解释为相对于底层Windows服务启动的目录。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Allow <function>sizeof()</function> in <link linkend="ecpg">ECPG</link>
        C array definitions (Michael Meskes)
       </para>
____________________________________________________________________________-->
       <para>
        允许<function>sizeof()</>在<link linkend="ecpg">ECPG</link>
        C数组定义中 (Michael Meskes)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Make <link linkend="ecpg">ECPG</link> properly handle nesting
        of C-style comments in both C and <acronym>SQL</acronym> text
        (Michael Meskes)
       </para>
____________________________________________________________________________-->
       <para>
        让<link linkend="ecpg">ECPG</link>正确的处理C风格的注释嵌套，
        以C或者<acronym>SQL</>文本的形式 (Michael Meskes)
       </para>
      </listitem>

    </itemizedlist>

    <sect4>
<!--==========================orignal english content==========================
     <title><xref linkend="app-psql"></title>
____________________________________________________________________________-->
     <title><xref linkend="app-psql"></title>

     <itemizedlist>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Suppress <quote>No rows</quote> output in <application>psql</application> <link
        linkend="app-psql-meta-commands"><option>expanded</option></link>
        mode when the footer is disabled (Bruce Momjian)
       </para>
____________________________________________________________________________-->
       <para>
        当禁用了页脚时，抑制在<application>psql</> <link
        linkend="app-psql-meta-commands"><option>expanded</></link>
        模式中输出<quote>No rows</quote> (Bruce Momjian)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Allow Control-C to abort <application>psql</application> when it's hung at
        connection startup (Peter Eisentraut)
       </para>
____________________________________________________________________________-->
       <para>
        当它处在连接启动时，允许Control-C退出<application>psql</> (Peter Eisentraut)
       </para>
      </listitem>

     </itemizedlist>

     <sect5>
<!--==========================orignal english content==========================
      <title><link linkend="app-psql-meta-commands">Backslash Commands</link></title>
____________________________________________________________________________-->
      <title><link linkend="app-psql-meta-commands">反斜杠命令</link></title>

      <itemizedlist>

       <listitem>
<!--==========================orignal english content==========================
        <para>
         Make <application>psql</application>'s <command>\db+</command> show tablespace options
         (Magnus Hagander)
        </para>
____________________________________________________________________________-->
        <para>
         让<application>psql</>的<command>\db+</>显示表空间选项 (Magnus Hagander)
        </para>
       </listitem>

       <listitem>
<!--==========================orignal english content==========================
        <para>
         Make <command>\do+</command> display the functions
         that implement the operators (Marko Tiikkaja)
        </para>
____________________________________________________________________________-->
        <para>
         让<command>\do+</>显示实现运算符的函数 (Marko Tiikkaja)
        </para>
       </listitem>

       <listitem>
<!--==========================orignal english content==========================
        <para>
         Make <command>\d+</command> output an
         <literal>OID</literal> line only if an <literal>oid</literal> column
         exists in the table (Bruce Momjian)
        </para>
____________________________________________________________________________-->
        <para>
         如果表中存在<literal>oid</literal>字段，则让<command>\d+</>
         只输出一个<literal>OID</>行 (Bruce Momjian)
        </para>

<!--==========================orignal english content==========================
        <para>
         Previously, the presence or absence of an <literal>oid</literal>
         column was always reported.
        </para>
____________________________________________________________________________-->
        <para>
         以前，不管<literal>oid</literal>字段是否存在，总是报告它的。
        </para>
       </listitem>

       <listitem>
<!--==========================orignal english content==========================
        <para>
         Make <command>\d</command> show disabled system triggers (Bruce
         Momjian)
        </para>
____________________________________________________________________________-->
        <para>
         让<command>\d</>显示禁用的系统触发器 (Bruce Momjian)
        </para>

<!--==========================orignal english content==========================
        <para>
         Previously, if you disabled all triggers, only user triggers
         would show as disabled.
        </para>
____________________________________________________________________________-->
        <para>
         以前，如果你禁用了所有的触发器，那么只显示用户触发器为禁用的。
        </para>
       </listitem>

       <listitem>
<!--==========================orignal english content==========================
        <para>
         Fix <command>\copy</command> to no longer require
         a space between <literal>stdin</literal> and a semicolon (Etsuro Fujita)
        </para>
____________________________________________________________________________-->
        <para>
         修复<command>\copy</>，不再需要<literal>stdin</>和分号之间有空格 (Etsuro Fujita)
        </para>
       </listitem>

       <listitem>
<!--==========================orignal english content==========================
        <para>
         Output the row count at the end of <command>\copy</command>, just
         like <command>COPY</command> already did (Kumar Rajeev Rastogi)
        </para>
____________________________________________________________________________-->
        <para>
         在<command>\copy</>的末尾输出行计数，就像<command>COPY</>那样 (Kumar Rajeev Rastogi)
        </para>
       </listitem>

       <listitem>
<!--==========================orignal english content==========================
        <para>
         Fix <command>\conninfo</command> to display the
         server's <acronym>IP</acronym> address for connections using
         <literal>hostaddr</literal> (Fujii Masao)
        </para>
____________________________________________________________________________-->
        <para>
         修复<command>\conninfo</>，为使用<literal>hostaddr</>
         的连接显示服务器的<acronym>IP</>地址 (Fujii Masao)
        </para>

<!--==========================orignal english content==========================
        <para>
         Previously <command>\conninfo</command> could not display the server's
         <acronym>IP</acronym> address in such cases.
        </para>
____________________________________________________________________________-->
        <para>
         以前<command>\conninfo</>在这样的情况下不会显示服务器的<acronym>IP</>地址。
        </para>
       </listitem>

       <listitem>
<!--==========================orignal english content==========================
        <para>
         Show the <acronym>SSL</acronym> protocol version in
         <command>\conninfo</command> (Marko Kreen)
        </para>
____________________________________________________________________________-->
        <para>
         在<command>\conninfo</>中显示<acronym>SSL</>协议版本 (Marko Kreen)
        </para>
       </listitem>

       <listitem>
<!--==========================orignal english content==========================
        <para>
         Add tab completion for <command>\pset</command>
         (Pavel Stehule)
        </para>
____________________________________________________________________________-->
        <para>
         为<command>\pset</>添加tab补齐 (Pavel Stehule)
        </para>
       </listitem>

       <listitem>
<!--==========================orignal english content==========================
        <para>
         Allow <command>\pset</command> with no arguments
         to show all settings (Gilles Darold)
        </para>
____________________________________________________________________________-->
        <para>
         允许<command>\pset</>不带有任何参数的显示所有设置 (Gilles Darold)
        </para>
       </listitem>

       <listitem>
<!--==========================orignal english content==========================
        <para>
         Make <command>\s</command> display the name of the history file it wrote
         without converting it to an absolute path (Tom Lane)
        </para>
____________________________________________________________________________-->
        <para>
         让<command>\s</>显示以前它没有转换为绝对路径时写入的历史文件的名字 (Tom Lane)
        </para>

<!--==========================orignal english content==========================
        <para>
         The code previously attempted to convert a relative file name to
         an absolute path for display, but frequently got it wrong.
        </para>
____________________________________________________________________________-->
        <para>
         该代码以前尝试转换一个相对文件名到一个绝对路径显示，但是经常弄错了。
        </para>
       </listitem>

      </itemizedlist>

     </sect5>

    </sect4>

    <sect4>
<!--==========================orignal english content==========================
     <title><xref linkend="app-pgdump"></title>
____________________________________________________________________________-->
     <title><xref linkend="app-pgdump"></title>

     <itemizedlist>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Allow <xref linkend="app-pgrestore"> options
        <option>-I</option>, <option>-P</option>, <option>-T</option> and <option>-n</option>
        to be specified multiple times (Heikki Linnakangas)
       </para>
____________________________________________________________________________-->
       <para>
        允许<xref linkend="app-pgrestore">选项
        <option>-I</>、<option>-P</>、<option>-T</>和<option>-n</>
        指定多次 (Heikki Linnakangas)
       </para>

<!--==========================orignal english content==========================
       <para>
        This allows multiple objects to be restored in one operation.
       </para>
____________________________________________________________________________-->
       <para>
        这允许在一次操作中恢复多个对象。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Optionally add <literal>IF EXISTS</literal> clauses to the <command>DROP</command>
        commands emitted when removing old objects during a restore (Pavel
        Stehule)
       </para>
____________________________________________________________________________-->
       <para>
        在恢复期间删除老的对象时，可以添加<literal>IF EXISTS</>子句到
        <command>DROP</>命令发出 (Pavel Stehule)
       </para>

<!--==========================orignal english content==========================
       <para>
        This change prevents unnecessary errors when removing old objects.
        The new <option>-&minus;if-exists</option> option
        for <xref linkend="app-pgdump">, <xref linkend="app-pg-dumpall">,
        and <xref linkend="app-pgrestore"> is only available
        when <option>-&minus;clean</option> is also specified.
       </para>
____________________________________________________________________________-->
       <para>
        这个修改在删除老的对象时阻止了不必要的错误。<xref linkend="app-pgdump">、
        <xref linkend="app-pg-dumpall">和<xref linkend="app-pgrestore">的新的
        <option>--if-exists</>选项只在也指定了<option>--clean</>时可用。
       </para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
<!--==========================orignal english content==========================
     <title><xref linkend="app-pgbasebackup"></title>
____________________________________________________________________________-->
     <title><xref linkend="app-pgbasebackup"></title>

     <itemizedlist>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add <application>pg_basebackup</application> option <option>-&minus;xlogdir</option>
        to specify the <filename>pg_xlog</filename> directory location (Haribabu
        Kommi)
       </para>
____________________________________________________________________________-->
       <para>
        添加<application>pg_basebackup</>选项<option>--xlogdir</>，
        指定<filename>pg_xlog</>目录位置 (Haribabu Kommi)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Allow <application>pg_basebackup</application> to relocate tablespaces in
        the backup copy (Steeve Lennmark)
       </para>
____________________________________________________________________________-->
       <para>
        允许<application>pg_basebackup</>在备份中重新安置表空间 (Steeve Lennmark)
       </para>

<!--==========================orignal english content==========================
       <para>
        This is particularly useful for using <application>pg_basebackup</application>
        on the same machine as the primary.
       </para>
____________________________________________________________________________-->
       <para>
        这对于在同一个机器上使用<application>pg_basebackup</>作为主机尤其有用。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Allow network-stream base backups to be throttled (Antonin Houska)
       </para>
____________________________________________________________________________-->
       <para>
        允许网络流基础备份是节流的 (Antonin Houska)
       </para>

<!--==========================orignal english content==========================
       <para>
        This can be controlled with the <application>pg_basebackup</application>
        <option>-&minus;max-rate</option> parameter.
       </para>
____________________________________________________________________________-->
       <para>
        这可以使用<application>pg_basebackup</> <option>--max-rate</>
        参数控制。
       </para>
      </listitem>

     </itemizedlist>

    </sect4>

   </sect3>

   <sect3>
<!--==========================orignal english content==========================
    <title>Source Code</title>
____________________________________________________________________________-->
    <title>源代码</title>

     <itemizedlist>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Improve the way tuples are frozen to preserve forensic information
        (Robert Haas, Andres Freund)
       </para>
____________________________________________________________________________-->
       <para>
        改善冻结元组的方式，保存辩证的信息 (Robert Haas, Andres Freund)
       </para>

<!--==========================orignal english content==========================
       <para>
        This change removes the main objection to freezing tuples as soon
        as possible.  Code that inspects tuple flag bits will need to be
        modified.
       </para>
____________________________________________________________________________-->
       <para>
        这个修改尽快删除了冻结元组的主要反对意见。需要修改检查元组标识位的代码。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        No longer require function prototypes for functions marked with the
        <link linkend="xfunc-c"><function>PG_FUNCTION_INFO_V1</function></link>
        macro (Peter Eisentraut)
       </para>
____________________________________________________________________________-->
       <para>
        不再需要标有
        <link linkend="xfunc-c"><function>PG_FUNCTION_INFO_V1</></link>
        宏的函数的函数原型 (Peter Eisentraut)
       </para>

<!--==========================orignal english content==========================
       <para>
        This change eliminates the need to write boilerplate prototypes.
        Note that the <function>PG_FUNCTION_INFO_V1</function> macro must appear
        before the corresponding function definition to avoid compiler
        warnings.
       </para>
____________________________________________________________________________-->
       <para>
        这个修改消除了写引用原型的需要。请注意，<function>PG_FUNCTION_INFO_V1</>
        宏必须出现在对应函数定义的前面，以避免编译器警告。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Remove <varname>SnapshotNow</varname> and
        <function>HeapTupleSatisfiesNow()</function> (Robert Haas)
       </para>
____________________________________________________________________________-->
       <para>
        删除<varname>SnapshotNow</>和<function>HeapTupleSatisfiesNow()</> (Robert Haas)
       </para>

<!--==========================orignal english content==========================
       <para>
        All existing uses have been switched to more appropriate snapshot
        types.  Catalog scans now use <acronym>MVCC</acronym> snapshots.
       </para>
____________________________________________________________________________-->
       <para>
        所有现有的使用都已经转换到了更合适的快照类型。
        目录扫描现在使用<acronym>MVCC</>快照。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add an <acronym>API</acronym> to allow memory allocations over one gigabyte
        (Noah Misch)
       </para>
____________________________________________________________________________-->
       <para>
        添加一个<acronym>API</>，允许内存分配超过1G (Noah Misch)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add <function>psprintf()</function> to simplify memory allocation during
        string composition (Peter Eisentraut, Tom Lane)
       </para>
____________________________________________________________________________-->
       <para>
        添加<function>psprintf()</>，简化字符串组合时的内存分配 (Peter Eisentraut, Tom Lane)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Support <function>printf()</function> size modifier <literal>z</literal> to
        print <type>size_t</type> values (Andres Freund)
       </para>
____________________________________________________________________________-->
       <para>
        支持<function>printf()</>尺寸修饰符<literal>z</>， 
        输出<type>size_t</>值 (Andres Freund)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Change <acronym>API</acronym> of <function>appendStringInfoVA()</function>
        to better use <function>vsnprintf()</function> (David Rowley, Tom Lane)
       </para>
____________________________________________________________________________-->
       <para>
        改变<function>appendStringInfoVA()</>的<acronym>API</>，
        以更好的使用<function>vsnprintf()</> (David Rowley, Tom Lane)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Allow new types of external toast datums to be created (Andres
        Freund)
       </para>
____________________________________________________________________________-->
       <para>
        允许创建外部toast数据的新类型 (Andres Freund)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add single-reader, single-writer, lightweight shared message queue
        (Robert Haas)
       </para>
____________________________________________________________________________-->
       <para>
        添加单读者、单作者、轻量级共享消息序列 (Robert Haas)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Improve spinlock speed on x86_64 <acronym>CPU</acronym>s (Heikki
        Linnakangas)
       </para>
____________________________________________________________________________-->
       <para>
        改善x86_64 <acronym>CPU</>上的自旋锁速度 (Heikki Linnakangas)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Remove spinlock support for unsupported platforms
        <productname>SINIX</productname>, <productname>Sun3</productname>, and
        <productname>NS32K</productname> (Robert Haas)
       </para>
____________________________________________________________________________-->
       <para>
        删除不支持的平台<productname>SINIX</>、<productname>Sun3</>和
        <productname>NS32K</>上的自旋锁支持 (Robert Haas)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Remove <acronym>IRIX</acronym> port (Robert Haas)
       </para>
____________________________________________________________________________-->
       <para>
        删除<acronym>IRIX</>接口 (Robert Haas)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Reduce the number of semaphores required by
        <option>-&minus;disable-spinlocks</option> builds (Robert Haas)
       </para>
____________________________________________________________________________-->
       <para>
        减少<option>--disable-spinlocks</>建立所需的信号量 (Robert Haas)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Rewrite <application>duplicate_oids</application> Unix shell script in
        <application>Perl</application> (Andrew Dunstan)
       </para>
____________________________________________________________________________-->
       <para>
        重写<application>Perl</>中的<application>duplicate_oids</>
        Unix shell脚本 (Andrew Dunstan)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add Test Anything Protocol (<acronym>TAP</acronym>) tests for client
        programs (Peter Eisentraut)
       </para>
____________________________________________________________________________-->
       <para>
        添加Test Anything Protocol (<acronym>TAP</>)检测客户端程序 (Peter Eisentraut)
       </para>

<!--==========================orignal english content==========================
       <para>
        Currently, these tests are run by <literal>make check-world</literal>
        only if the <option>-&minus;enable-tap-tests</option> option was given
        to <application>configure</application>.
        This might become the default behavior in some future release.
       </para>
____________________________________________________________________________-->
       <para>
        当前这些测试只在给出<option>--enable-tap-tests</>选项到
        <application>configure</>时通过<literal>make check-world</>运行。
        这在某些将来的版本中可能会成为缺省行为。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add make targets <option>check-tests</option> and
        <option>installcheck-tests</option>, which allow selection of individual
        tests to be run (Andrew Dunstan)
       </para>
____________________________________________________________________________-->
       <para>
        添加编译目标<option>check-tests</>和<option>installcheck-tests</>，
        允许运行单个测试的选择 (Andrew Dunstan)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Remove <option>maintainer-check</option> makefile rule (Peter Eisentraut)
       </para>
____________________________________________________________________________-->
       <para>
        删除<option>maintainer-check</> makefile规则 (Peter Eisentraut)
       </para>

<!--==========================orignal english content==========================
       <para>
        The default build rules now include all the formerly-optional tests.
       </para>
____________________________________________________________________________-->
       <para>
        缺省的建立规则现在包括所有以前可选的测试。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Improve support for <envar>VPATH</envar> builds of <acronym>PGXS</acronym>
        modules  (C&eacute;dric Villemain, Andrew Dunstan, Peter Eisentraut)
       </para>
____________________________________________________________________________-->
       <para>
        改善对<acronym>PGXS</>模块<envar>VPATH</>建立的支持
        (C&eacute;dric Villemain, Andrew Dunstan, Peter Eisentraut)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Upgrade to Autoconf 2.69 (Peter Eisentraut)
       </para>
____________________________________________________________________________-->
       <para>
        升级到Autoconf 2.69 (Peter Eisentraut)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add a <application>configure</application> flag that appends custom text to the
        <envar>PG_VERSION</envar> string (Oskari Saarenmaa)
       </para>
____________________________________________________________________________-->
       <para>
        添加一个<application>configure</>标志，附加自定义文本到
        <envar>PG_VERSION</>字符串 (Oskari Saarenmaa)
       </para>

<!--==========================orignal english content==========================
       <para>
        This is useful for packagers building custom binaries.
       </para>
____________________________________________________________________________-->
       <para>
        这对于打包者建立自定义的二进制有帮助。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Improve DocBook <acronym>XML</acronym> validity (Peter Eisentraut)
       </para>
____________________________________________________________________________-->
       <para>
        改善DocBook <acronym>XML</>有效性 (Peter Eisentraut)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Fix various minor security and sanity issues reported by the
        <productname>Coverity</productname> scanner (Stephen Frost)
       </para>
____________________________________________________________________________-->
       <para>
        修复<productname>Coverity</>扫描器报告的各种较小的安全性和完整性问题 (Stephen Frost)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Improve detection of invalid memory usage when testing
        <productname>PostgreSQL</productname> with <application>Valgrind</application>
        (Noah Misch)
       </para>
____________________________________________________________________________-->
       <para>
        在测试<productname>PostgreSQL</>的<application>Valgrind</>时，
        增加对无效内存使用的检测 (Noah Misch)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Improve sample <application>Emacs</application> configuration file
        <filename>emacs.samples</filename> (Peter Eisentraut)
       </para>
____________________________________________________________________________-->
       <para>
        改善样品<application>Emacs</>配置文件
        <filename>emacs.samples</> (Peter Eisentraut)
       </para>

<!--==========================orignal english content==========================
       <para>
        Also add <filename>.dir-locals.el</filename> to the top of the source tree.
       </para>
____________________________________________________________________________-->
       <para>
        还添加了<filename>.dir-locals.el</>到源码树的顶端。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Allow <application>pgindent</application> to accept a command-line list
        of typedefs (Bruce Momjian)
       </para>
____________________________________________________________________________-->
       <para>
        允许<application>pgindent</>接受类型定义的命令列表 (Bruce Momjian)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Make <application>pgindent</application> smarter about blank lines
        around preprocessor conditionals (Bruce Momjian)
       </para>
____________________________________________________________________________-->
       <para>
        让<application>pgindent</>对于预处理器条件语句周围的空行更智能 (Bruce Momjian)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Avoid most uses of <command>dlltool</command>
        in <productname>Cygwin</productname> and
        <productname>Mingw</productname> builds (Marco Atzeri, Hiroshi Inoue)
       </para>
____________________________________________________________________________-->
       <para>
        避免在<productname>Cygwin</>和<productname>Mingw</>
        建立中大多数使用<command>dlltool</command> (Marco Atzeri, Hiroshi Inoue)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Support client-only installs in <acronym>MSVC</acronym> (Windows) builds
        (MauMau)
       </para>
____________________________________________________________________________-->
       <para>
        在<acronym>MSVC</> (Windows)建立中支持仅客户端的安装 (MauMau)
       </para>
      </listitem>

     </itemizedlist>

   </sect3>

   <sect3>
<!--==========================orignal english content==========================
    <title>Additional Modules</title>
____________________________________________________________________________-->
    <title>附加模块</title>

    <itemizedlist>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add <xref linkend="pgprewarm"> extension to preload relation data
        into the shared buffer cache at server start (Robert Haas)
       </para>
____________________________________________________________________________-->
       <para>
        添加<xref linkend="pgprewarm">扩展，在服务器启动时预加载关系数据到共享缓存 (Robert Haas)
       </para>

<!--==========================orignal english content==========================
       <para>
        This allows reaching full operating performance more quickly.
       </para>
____________________________________________________________________________-->
       <para>
        这允许更快的达到完整的操作性能。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add <acronym>UUID</acronym> random number generator
        <function>gen_random_uuid()</function> to <xref linkend="pgcrypto">
        (Oskari Saarenmaa)
       </para>
____________________________________________________________________________-->
       <para>
        添加<acronym>UUID</>随机数生成器<function>gen_random_uuid()</>到
        <xref linkend="pgcrypto"> (Oskari Saarenmaa)
       </para>

<!--==========================orignal english content==========================
       <para>
        This allows creation of version 4 <acronym>UUID</acronym>s without
        requiring installation of <xref linkend="uuid-ossp">.
       </para>
____________________________________________________________________________-->
       <para>
        这允许创建版本 4 <acronym>UUID</>，而不用安装<xref linkend="uuid-ossp">。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Allow <xref linkend="uuid-ossp"> to work with
        the <systemitem>BSD</systemitem> or <systemitem>e2fsprogs</systemitem> UUID libraries,
        not only the <systemitem>OSSP</systemitem> UUID library (Matteo Beccati)
       </para>
____________________________________________________________________________-->
       <para>
        允许<xref linkend="uuid-ossp">与<systemitem>BSD</>或
        <systemitem>e2fsprogs</> UUID库一起工作，
        不只是<systemitem>OSSP</> UUID库 (Matteo Beccati)
       </para>

<!--==========================orignal english content==========================
       <para>
        This improves the <application>uuid-ossp</application> module's portability
        since it no longer has to have the increasingly-obsolete OSSP
        library.  The module's name is now rather a misnomer, but we won't
        change it.
       </para>
____________________________________________________________________________-->
       <para>
        这提高了<application>uuid-ossp</>模块的可移植性，
        因为它不再必须有日益过时的OSSP库。该模块名稍微有点用词不当，
        但是我们不会修改它。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add option to <xref linkend="auto-explain"> to include trigger
        execution time (Horiguchi Kyotaro)
       </para>
____________________________________________________________________________-->
       <para>
        添加选项到<xref linkend="auto-explain">，以包含触发器执行时间 (Horiguchi Kyotaro)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Fix <xref linkend="pgstattuple"> to not report rows from
        uncommitted transactions as dead (Robert Haas)
       </para>
____________________________________________________________________________-->
       <para>
        修复<xref linkend="pgstattuple">，不将未提交事务中的行报告为死行 (Robert Haas)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Make <xref linkend="pgstattuple"> functions
        use <type>regclass</type>-type arguments (Satoshi Nagayasu)
       </para>
____________________________________________________________________________-->
       <para>
        让<xref linkend="pgstattuple">函数使用<type>regclass</type>类型参数 (Satoshi Nagayasu)
       </para>

<!--==========================orignal english content==========================
       <para>
        While <type>text</type>-type arguments are still supported, they
        may be removed in a future major release.
       </para>
____________________________________________________________________________-->
       <para>
        仍然支持<type>text</type>类型参数，它们可能会在将来的小版本中移除。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Improve consistency of <xref linkend="pgrowlocks"> output to honor
        snapshot rules more consistently (Robert Haas)
       </para>
____________________________________________________________________________-->
       <para>
        提高<xref linkend="pgrowlocks">输出的一致性，以更一致的遵守快照规则 (Robert Haas)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Improve <xref linkend="pgtrgm">'s choice of trigrams for indexed
        regular expression searches (Alexander Korotkov)
       </para>
____________________________________________________________________________-->
       <para>
        改善<xref linkend="pgtrgm">对于有索引的正则表达式搜索的三元模型的选择 (Alexander Korotkov)
       </para>

<!--==========================orignal english content==========================
       <para>
        This change discourages use of trigrams containing whitespace, which
        are usually less selective.
       </para>
____________________________________________________________________________-->
       <para>
        这个修改阻止使用包含空格的三元模型，它们通常有更少的选择性。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Allow <link linkend="pgwaldump"><application>pg_xlogdump</application></link>
        to report a live log stream with <option>-&minus;follow</option>
        (Heikki Linnakangas)
       </para>
____________________________________________________________________________-->
       <para>
        允许<link linkend="pgwaldump"><application>pg_xlogdump</application></link>用<option>--follow</>
        报告一个生活日志流 (Heikki Linnakangas)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Store <xref linkend="cube"> data more compactly (Stas Kelvich)
       </para>
____________________________________________________________________________-->
       <para>
        更简洁的存储<xref linkend="cube">数据 (Stas Kelvich)
       </para>

<!--==========================orignal english content==========================
       <para>
        Existing data must be dumped/restored to use the new format.
        The old format can still be read.
       </para>
____________________________________________________________________________-->
       <para>
        现有的数据必须转储/恢复，以使用新的格式。老的格式仍然能够读取。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Reduce <xref linkend="vacuumlo"> client-side memory usage by using
        a cursor (Andrew Dunstan)
       </para>
____________________________________________________________________________-->
       <para>
        减少使用游标时<xref linkend="vacuumlo">客户端内存的使用 (Andrew Dunstan)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Dramatically reduce memory consumption
        in <xref linkend="pgupgrade"> (Bruce Momjian)
       </para>
____________________________________________________________________________-->
       <para>
        大幅度减少<xref linkend="pgupgrade">中的内存消耗 (Bruce Momjian)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Pass <xref linkend="pgupgrade">'s user name (<option>-U</option>) option to
        generated analyze scripts (Bruce Momjian)
       </para>
____________________________________________________________________________-->
       <para>
        传递<xref linkend="pgupgrade">的用户名(<option>-U</>)选项到产生的分析脚本 (Bruce Momjian)
       </para>
      </listitem>

    </itemizedlist>

    <sect4>
<!--==========================orignal english content==========================
     <title><xref linkend="pgbench"></title>
____________________________________________________________________________-->
     <title><xref linkend="pgbench"></title>

     <itemizedlist>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Remove line length limit for <application>pgbench</application> scripts (Sawada
        Masahiko)
       </para>
____________________________________________________________________________-->
       <para>
        删除对<application>pgbench</>脚本的行长度限制 (Sawada Masahiko)
       </para>

<!--==========================orignal english content==========================
       <para>
        The previous line limit was <envar>BUFSIZ</envar>.
       </para>
____________________________________________________________________________-->
       <para>
        以前的行限制是<envar>BUFSIZ</>。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add long option names to <application>pgbench</application> (Fabien Coelho)
       </para>
____________________________________________________________________________-->
       <para>
        添加长的选项名称到<application>pgbench</> (Fabien Coelho)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add <application>pgbench</application> option <option>-&minus;rate</option> to control
        the transaction rate (Fabien Coelho)
       </para>
____________________________________________________________________________-->
       <para>
        添加<application>pgbench</>选项<option>--rate</>，控制事务速度 (Fabien Coelho)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add <application>pgbench</application> option <option>-&minus;progress</option> to
        print periodic progress reports
        (Fabien Coelho)
       </para>
____________________________________________________________________________-->
       <para>
        添加<application>pgbench</>选项<option>--progress</>，
        打印定期的进度报告 (Fabien Coelho)
       </para>
      </listitem>

     </itemizedlist>

    </sect4>

    <sect4>
<!--==========================orignal english content==========================
     <title><xref linkend="pgstatstatements"></title>
____________________________________________________________________________-->
     <title><xref linkend="pgstatstatements"></title>

     <itemizedlist>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Make <application>pg_stat_statements</application> use a file, rather than
        shared memory, for query text storage (Peter Geoghegan)
       </para>
____________________________________________________________________________-->
       <para>
        让<application>pg_stat_statements</>使用一个文件，
        而不是共享内存，用于查询文本存储 (Peter Geoghegan)
       </para>

<!--==========================orignal english content==========================
       <para>
        This removes the previous limitation on query text length, and
        allows a higher number of unique statements to be tracked by default.
       </para>
____________________________________________________________________________-->
       <para>
        这删除了以前查询文本长度的限制，允许默认追踪更多的唯一语句。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Allow reporting of <application>pg_stat_statements</application>'s internal
        query hash identifier (Daniel Farina, Sameer Thakur, Peter
        Geoghegan)
       </para>
____________________________________________________________________________-->
       <para>
        允许报告<application>pg_stat_statements</>的内部查询哈希标识符
        (Daniel Farina, Sameer Thakur, Peter Geoghegan)
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Add the ability to retrieve all <application>pg_stat_statements</application>
        information except the query text (Peter Geoghegan)
       </para>
____________________________________________________________________________-->
       <para>
        添加检索所有<application>pg_stat_statements</>
        信息除了查询文本的能力 (Peter Geoghegan)
       </para>

<!--==========================orignal english content==========================
       <para>
        This allows monitoring tools to fetch query text only for
        just-created entries, improving performance during repeated querying
        of the statistics.
       </para>
____________________________________________________________________________-->
       <para>
        这允许监视工具只为刚创建的条目抓取查询文本，提高状态重复查询时的性能。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Make <application>pg_stat_statements</application> ignore <command>DEALLOCATE</command>
        commands (Fabien Coelho)
       </para>
____________________________________________________________________________-->
       <para>
        让<application>pg_stat_statements</>忽略<command>DEALLOCATE</>
        命令 (Fabien Coelho)
       </para>

<!--==========================orignal english content==========================
       <para>
        It already ignored <command>PREPARE</command>, as well as planning time in
        general, so this seems more consistent.
       </para>
____________________________________________________________________________-->
       <para>
        它早已忽略了<command>PREPARE</>，还有规划时间，所以这样看起来更加一致。
       </para>
      </listitem>

      <listitem>
<!--==========================orignal english content==========================
       <para>
        Save the statistics file into <filename>$PGDATA/pg_stat</filename> at server
        shutdown, rather than <filename>$PGDATA/global</filename> (Fujii Masao)
       </para>
____________________________________________________________________________-->
       <para>
        在服务器关闭时保存状态文件到<filename>$PGDATA/pg_stat</>，
        而不是<filename>$PGDATA/global</> (Fujii Masao)
       </para>
      </listitem>

     </itemizedlist>

    </sect4>

   </sect3>

  </sect2>
 </sect1>
